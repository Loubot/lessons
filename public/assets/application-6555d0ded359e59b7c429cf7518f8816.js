function dtmlXMLLoaderObject(e,t,i,n){return this.xmextlDoc="",this.async="undefined"!=typeof i?i:!0,this.onloadAction=e||null,this.mainObject=t||null,this.waitCall=null,this.rSeed=n||!1,this}function callerFunction(e,t){return this.handler=function(i){return i||(i=window.event),e(i,t),!0},this.handler}function getAbsoluteLeft(e){return getOffset(e).left}function getAbsoluteTop(e){return getOffset(e).top}function getOffsetSum(e){for(var t=0,i=0;e;)t+=parseInt(e.offsetTop),i+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:t,left:i}}function getOffsetRect(e){var t=e.getBoundingClientRect(),i=document.body,n=document.documentElement,s=window.pageYOffset||n.scrollTop||i.scrollTop,r=window.pageXOffset||n.scrollLeft||i.scrollLeft,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,l=t.top+s-a,d=t.left+r-o;return{top:Math.round(l),left:Math.round(d)}}function getOffset(e){return e.getBoundingClientRect?getOffsetRect(e):getOffsetSum(e)}function convertStringToBoolean(e){switch("string"==typeof e&&(e=e.toLowerCase()),e){case"1":case"true":case"yes":case"y":case 1:case!0:return!0;default:return!1}}function getUrlSymbol(e){return-1!=e.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this,this)}function _dhtmlxError(){return this.catches||(this.catches=[]),this}function dhtmlXHeir(e,t){for(var i in t)"function"==typeof t[i]&&(e[i]=t[i]);return e}function dhtmlxEvent(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function dataProcessor(e){return this.serverProcessor=e,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.mandatoryFields=[],this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),dhtmlxEventable(this),this}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=st.type(e);return"function"===i||st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(st.isFunction(t))return st.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return st.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ht.test(t))return st.filter(t,e,i);t=st.filter(t,e)}return st.grep(e,function(e){return st.inArray(e,t)>=0!==i})}function s(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=bt[e]={};return st.each(e.match(yt)||[],function(e,i){t[i]=!0}),t}function a(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(pt.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(a(),st.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Tt,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Dt.test(i)?st.parseJSON(i):i}catch(s){}st.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,i,n){if(st.acceptData(e)){var s,r,a=st.expando,o=e.nodeType,l=o?st.cache:e,d=o?e[a]:e[a]&&a;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=o?e[a]=V.pop()||st.guid++:a),l[d]||(l[d]=o?{}:{toJSON:st.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[d]=st.extend(l[d],t):l[d].data=st.extend(l[d].data,t)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[st.camelCase(t)]=i),"string"==typeof t?(s=r[t],null==s&&(s=r[st.camelCase(t)])):s=r,s}}function c(e,t,i){if(st.acceptData(e)){var n,s,r=e.nodeType,a=r?st.cache:e,o=r?e[st.expando]:st.expando;if(a[o]){if(t&&(n=i?a[o]:a[o].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in n?t=[t]:(t=st.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!d(n):!st.isEmptyObject(n))return}(i||(delete a[o].data,d(a[o])))&&(r?st.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}function h(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(e){}}function m(e){var t=$t.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function _(e,t){var i,n,s=0,r=typeof e.getElementsByTagName!==kt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==kt?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||st.nodeName(n,t)?r.push(n):st.merge(r,_(n,t));return void 0===t||t&&st.nodeName(e,t)?st.merge([e],r):r}function g(e){St.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return st.nodeName(e,"table")&&st.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==st.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=Xt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var i,n=0;null!=(i=e[n]);n++)st._data(i,"globalEval",!t||st._data(t[n],"globalEval"))}function x(e,t){if(1===t.nodeType&&st.hasData(e)){var i,n,s,r=st._data(e),a=st._data(t,r),o=r.events;if(o){delete a.handle,a.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)st.event.add(t,i,o[i][n])}a.data&&(a.data=st.extend({},a.data))}}function k(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[st.expando]){s=st._data(t);for(n in s.events)st.removeEvent(t,n,s.handle);t.removeAttribute(st.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,b(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&St.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function D(t,i){var n,s=st(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(s[0]))?n.display:st.css(s[0],"display");return s.detach(),r}function T(e){var t=pt,i=Zt[e];return i||(i=D(e,t),"none"!==i&&i||(Jt=(Jt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),i=D(e,t),Jt.detach()),Zt[e]=i),i}function M(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=hi.length;s--;)if(t=hi[s]+i,t in e)return t;return n}function A(e,t){for(var i,n,s,r=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(r[a]=st._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&At(n)&&(r[a]=st._data(n,"olddisplay",T(n.nodeName)))):(s=At(n),(i&&"none"!==i||!s)&&st._data(n,"olddisplay",s?i:st.css(n,"display"))));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function E(e,t,i){var n=li.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function S(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=st.css(e,i+Ct[r],!0,s)),n?("content"===i&&(a-=st.css(e,"padding"+Ct[r],!0,s)),"margin"!==i&&(a-=st.css(e,"border"+Ct[r]+"Width",!0,s))):(a+=st.css(e,"padding"+Ct[r],!0,s),"padding"!==i&&(a+=st.css(e,"border"+Ct[r]+"Width",!0,s)));return a}function N(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=ei(e),a=it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=ti(e,t,r),(0>s||null==s)&&(s=e.style[t]),ni.test(s))return s;n=a&&(it.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+S(e,t,i||(a?"border":"content"),n,r)+"px"}function O(e,t,i,n,s){return new O.prototype.init(e,t,i,n,s)}function L(){return setTimeout(function(){fi=void 0}),fi=st.now()}function F(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=Ct[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function H(e,t,i){for(var n,s=(yi[t]||[]).concat(yi["*"]),r=0,a=s.length;a>r;r++)if(n=s[r].call(i,t,e))return n}function $(e,t,i){var n,s,r,a,o,l,d,u,c=this,h={},f=e.style,p=e.nodeType&&At(e),m=st._data(e,"fxshow");i.queue||(o=st._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,st.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],d=st.css(e,"display"),u="none"===d?st._data(e,"olddisplay")||T(e.nodeName):d,"inline"===u&&"none"===st.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",it.shrinkWrapBlocks()||c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],mi.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;p=!0}h[n]=m&&m[n]||st.style(e,n)}else d=void 0;if(st.isEmptyObject(h))"inline"===("none"===d?T(e.nodeName):d)&&(f.display=d);else{m?"hidden"in m&&(p=m.hidden):m=st._data(e,"fxshow",{}),r&&(m.hidden=!p),p?st(e).show():c.done(function(){st(e).hide()}),c.done(function(){var t;st._removeData(e,"fxshow");for(t in h)st.style(e,t,h[t])});for(n in h)a=H(p?m[n]:0,n,c),n in m||(m[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function I(e,t){var i,n,s,r,a;for(i in e)if(n=st.camelCase(i),s=t[n],r=e[i],st.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=st.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function j(e,t,i){var n,s,r=0,a=vi.length,o=st.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=fi||L(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,r=1-n,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(r);return o.notifyWith(e,[d,r,i]),1>r&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:fi||L(),duration:i.duration,tweens:[],createTween:function(t,i){var n=st.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)d.tweens[i].run(1);return t?o.resolveWith(e,[d,t]):o.rejectWith(e,[d,t]),this}}),u=d.props;for(I(u,d.opts.specialEasing);a>r;r++)if(n=vi[r].call(d,e,u,d.opts))return n;return st.map(u,H,d),st.isFunction(d.opts.start)&&d.opts.start.call(e,d),st.fx.timer(st.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function z(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(yt)||[];if(st.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function P(e,t,i,n){function s(o){var l;return r[o]=!0,st.each(e[o]||[],function(e,o){var d=o(t,i,n);return"string"!=typeof d||a||r[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}var r={},a=e===Bi;return s(t.dataTypes[0])||!r["*"]&&s("*")}function Y(e,t){var i,n,s=st.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&st.extend(!0,e,i),e}function R(e,t,i){for(var n,s,r,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(a in o)if(o[a]&&o[a].test(s)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function B(e,t,i,n){var s,r,a,o,l,d={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=d[l+" "+r]||d["* "+r],!a)for(s in d)if(o=s.split(" "),o[1]===r&&(a=d[l+" "+o[0]]||d["* "+o[0]])){a===!0?a=d[s]:d[s]!==!0&&(r=o[0],u.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function U(e,t,i,n){var s;if(st.isArray(t))st.each(t,function(t,s){i||Xi.test(e)?n(e,s):U(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==st.type(t))n(e,t);else for(s in t)U(e+"["+s+"]",t[s],i,n)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function X(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V=[],K=V.slice,G=V.concat,Q=V.push,J=V.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,it={},nt="1.11.1",st=function(e,t){return new st.fn.init(e,t)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ot=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};st.fn=st.prototype={jquery:nt,constructor:st,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},map:function(e){return this.pushStack(st.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:V.sort,splice:V.splice},st.extend=st.fn.extend=function(){var e,t,i,n,s,r,a=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[o]||{},o++),"object"==typeof a||st.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(s=arguments[o]))for(n in s)e=a[n],i=s[n],a!==i&&(d&&i&&(st.isPlainObject(i)||(t=st.isArray(i)))?(t?(t=!1,r=e&&st.isArray(e)?e:[]):r=e&&st.isPlainObject(e)?e:{},a[n]=st.extend(d,r,i)):void 0!==i&&(a[n]=i));return a},st.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!st.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(ot,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,r=0,a=e.length,o=i(e);if(n){if(o)for(;a>r&&(s=t.apply(e[r],n),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],n),s===!1)break}else if(o)for(;a>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?st.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;i>n;)e[s++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[s++]=t[n++];return e.length=s,e},grep:function(e,t,i){for(var n,s=[],r=0,a=e.length,o=!i;a>r;r++)n=!t(e[r],r),n!==o&&s.push(e[r]);return s},map:function(e,t,n){var s,r=0,a=e.length,o=i(e),l=[];if(o)for(;a>r;r++)s=t(e[r],r,n),null!=s&&l.push(s);else for(r in e)s=t(e[r],r,n),null!=s&&l.push(s);return G.apply([],l)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),st.isFunction(e)?(i=K.call(arguments,2),n=function(){return e.apply(t||this,i.concat(K.call(arguments)))},n.guid=e.guid=e.guid||st.guid++,n):void 0},now:function(){return+new Date},support:it}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var dt=function(e){function t(e,t,i,n){var s,r,a,o,l,d,c,f,p,m;if((t?t.ownerDocument||t:P)!==O&&N(t),t=t||O,i=i||[],!e||"string"!=typeof e)return i;if(1!==(o=t.nodeType)&&9!==o)return[];if(F&&!n){if(s=vt.exec(e))if(a=s[1]){if(9===o){if(r=t.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&j(t,r)&&r.id===a)return i.push(r),i}else{if(s[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((a=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(a)),i}if(w.qsa&&(!H||!H.test(e))){if(f=c=z,p=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(d=T(e),(c=t.getAttribute("id"))?f=c.replace(bt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+h(d[l]);p=yt.test(e)&&u(t.parentNode)||t,m=d.join(",")}if(m)try{return Z.apply(i,p.querySelectorAll(m)),i}catch(_){}finally{c||t.removeAttribute("id")}}}return C(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[z]=!0,e}function s(e){var t=O.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)x.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return n(function(t){return t=+t,n(function(i,n){for(var s,r=e([],i.length,t),a=r.length;a--;)i[s=r[a]]&&(i[s]=!(n[s]=i[s]))})})}function u(e){return e&&typeof e.getElementsByTagName!==X&&e}function c(){}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=R++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,a){var o,l,d=[Y,r];if(a){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(l=t[z]||(t[z]={}),(o=l[n])&&o[0]===Y&&o[1]===r)return d[2]=o[2];if(l[n]=d,d[2]=e(t,i,a))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var s=0,r=i.length;r>s;s++)t(e,i[s],n);return n}function _(e,t,i,n,s){for(var r,a=[],o=0,l=e.length,d=null!=t;l>o;o++)(r=e[o])&&(!i||i(r,n,s))&&(a.push(r),d&&t.push(o));return a}function g(e,t,i,s,r,a){return s&&!s[z]&&(s=g(s)),r&&!r[z]&&(r=g(r,a)),n(function(n,a,o,l){var d,u,c,h=[],f=[],p=a.length,g=n||m(t||"*",o.nodeType?[o]:o,[]),v=!e||!n&&t?g:_(g,h,e,o,l),y=i?r||(n?e:p||s)?[]:a:v;if(i&&i(v,y,o,l),s)for(d=_(y,f),s(d,[],o,l),u=d.length;u--;)(c=d[u])&&(y[f[u]]=!(v[f[u]]=c));if(n){if(r||e){if(r){for(d=[],u=y.length;u--;)(c=y[u])&&d.push(v[u]=c);r(null,y=[],d,l)}for(u=y.length;u--;)(c=y[u])&&(d=r?tt.call(n,c):h[u])>-1&&(n[d]=!(a[d]=c))}}else y=_(y===a?y.splice(p,y.length):y),r?r(null,a,y,l):Z.apply(a,y)})}function v(e){for(var t,i,n,s=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],o=r?1:0,l=f(function(e){return e===t},a,!0),d=f(function(e){return tt.call(t,e)>-1},a,!0),u=[function(e,i,n){return!r&&(n||i!==A)||((t=i).nodeType?l(e,i,n):d(e,i,n))}];s>o;o++)if(i=x.relative[e[o].type])u=[f(p(u),i)];else{if(i=x.filter[e[o].type].apply(null,e[o].matches),i[z]){for(n=++o;s>n&&!x.relative[e[n].type];n++);return g(o>1&&p(u),o>1&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),i,n>o&&v(e.slice(o,n)),s>n&&v(e=e.slice(n)),s>n&&h(e))}u.push(i)}return p(u)}function y(e,i){var s=i.length>0,r=e.length>0,a=function(n,a,o,l,d){var u,c,h,f=0,p="0",m=n&&[],g=[],v=A,y=n||r&&x.find.TAG("*",d),b=Y+=null==v?1:Math.random()||.1,w=y.length;for(d&&(A=a!==O&&a);p!==w&&null!=(u=y[p]);p++){if(r&&u){for(c=0;h=e[c++];)if(h(u,a,o)){l.push(u);break}d&&(Y=b)}s&&((u=!h&&u)&&f--,n&&m.push(u))}if(f+=p,s&&p!==f){for(c=0;h=i[c++];)h(m,g,a,o);if(n){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=Q.call(l));g=_(g)}Z.apply(l,g),d&&!n&&g.length>0&&f+i.length>1&&t.uniqueSort(l)}return d&&(Y=b,A=v),m};return s?n(a):a}var b,w,x,k,D,T,M,C,A,E,S,N,O,L,F,H,$,I,j,z="sizzle"+-new Date,P=e.document,Y=0,R=0,B=i(),U=i(),W=i(),q=function(e,t){return e===t&&(S=!0),0},X="undefined",V=1<<31,K={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,Z=G.push,et=G.slice,tt=G.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=st.replace("w","w#"),at="\\["+nt+"*("+st+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+st+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),dt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(G=et.call(P.childNodes),P.childNodes),G[P.childNodes.length].nodeType}catch(kt){Z={apply:G.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}w=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:P,n=i.defaultView;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,L=i.documentElement,F=!D(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){N()},!1):n.attachEvent&&n.attachEvent("onunload",function(){N()})),w.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(i.getElementsByClassName)&&s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=s(function(e){return L.appendChild(e).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),w.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==X&&F){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(wt,xt);return function(e){var i=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},x.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&F?t.getElementsByClassName(e):void 0},$=[],H=[],(w.qsa=gt.test(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+nt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),s(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(w.matchesSelector=gt.test(I=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&s(function(e){w.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),$.push("!=",ot)}),H=H.length&&new RegExp(H.join("|")),$=$.length&&new RegExp($.join("|")),t=gt.test(L.compareDocumentPosition),j=t||gt.test(L.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return S=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===P&&j(P,e)?-1:t===i||t.ownerDocument===P&&j(P,t)?1:E?tt.call(E,e)-tt.call(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return S=!0,0;var n,s=0,r=e.parentNode,o=t.parentNode,l=[e],d=[t];if(!r||!o)return e===i?-1:t===i?1:r?-1:o?1:E?tt.call(E,e)-tt.call(E,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)d.unshift(n);for(;l[s]===d[s];)s++;return s?a(l[s],d[s]):l[s]===P?-1:d[s]===P?1:0},i):O},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==O&&N(e),i=i.replace(ct,"='$1']"),!(!w.matchesSelector||!F||$&&$.test(i)||H&&H.test(i)))try{var n=I.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return t(i,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&N(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&N(e);var i=x.attrHandle[t.toLowerCase()],n=i&&K.call(x.attrHandle,t.toLowerCase())?i(e,t,!F):void 0;return void 0!==n?n:w.attributes||!F?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(S=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(q),S){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return E=null,e},k=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},x=t.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ht.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var r=t.attr(s,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var d,u,c,h,f,p,m=r!==a?"nextSibling":"previousSibling",_=t.parentNode,g=o&&t.nodeName.toLowerCase(),v=!l&&!o;if(_){if(r){for(;m;){for(c=t;c=c[m];)if(o?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(u=_[z]||(_[z]={}),d=u[e]||[],f=d[0]===Y&&d[1],h=d[0]===Y&&d[2],c=f&&_.childNodes[f];c=++f&&c&&c[m]||(h=f=0)||p.pop();)if(1===c.nodeType&&++h&&c===t){u[e]=[Y,f,h];break}}else if(v&&(d=(t[z]||(t[z]={}))[e])&&d[0]===Y)h=d[1];else for(;(c=++f&&c&&c[m]||(h=f=0)||p.pop())&&((o?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++h||(v&&((c[z]||(c[z]={}))[e]=[Y,h]),c!==t)););return h-=s,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(e,i){var s,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[z]?r(i):r.length>1?(s=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=r(e,i),a=s.length;a--;)n=tt.call(e,s[a]),e[n]=!(t[n]=s[a])}):function(e){return r(e,0,s)}):r}},pseudos:{not:n(function(e){var t=[],i=[],s=M(e.replace(lt,"$1"));return s[z]?n(function(e,t,i,n){for(var r,a=s(e,null,n,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,n,r){return t[0]=e,s(t,null,r,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,xt).toLowerCase(),function(t){var i;do if(i=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected
},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=o(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=l(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,T=t.tokenize=function(e,i){var n,s,r,a,o,l,d,u=U[e+" "];if(u)return i?0:u.slice(0);for(o=e,l=[],d=x.preFilter;o;){(!n||(s=dt.exec(o)))&&(s&&(o=o.slice(s[0].length)||o),l.push(r=[])),n=!1,(s=ut.exec(o))&&(n=s.shift(),r.push({value:n,type:s[0].replace(lt," ")}),o=o.slice(n.length));for(a in x.filter)!(s=pt[a].exec(o))||d[a]&&!(s=d[a](s))||(n=s.shift(),r.push({value:n,type:a,matches:s}),o=o.slice(n.length));if(!n)break}return i?o.length:o?t.error(e):U(e,l).slice(0)},M=t.compile=function(e,t){var i,n=[],s=[],r=W[e+" "];if(!r){for(t||(t=T(e)),i=t.length;i--;)r=v(t[i]),r[z]?n.push(r):s.push(r);r=W(e,y(s,n)),r.selector=e}return r},C=t.select=function(e,t,i,n){var s,r,a,o,l,d="function"==typeof e&&e,c=!n&&T(e=d.selector||e);if(i=i||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&w.getById&&9===t.nodeType&&F&&x.relative[r[1].type]){if(t=(x.find.ID(a.matches[0].replace(wt,xt),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=pt.needsContext.test(e)?0:r.length;s--&&(a=r[s],!x.relative[o=a.type]);)if((l=x.find[o])&&(n=l(a.matches[0].replace(wt,xt),yt.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(s,1),e=n.length&&h(r),!e)return Z.apply(i,n),i;break}}return(d||M(e,c))(n,t,!F,i,yt.test(e)&&u(t.parentNode)||t),i},w.sortStable=z.split("").sort(q).join("")===z,w.detectDuplicates=!!S,N(),w.sortDetached=s(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(it,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);st.find=dt,st.expr=dt.selectors,st.expr[":"]=st.expr.pseudos,st.unique=dt.uniqueSort,st.text=dt.getText,st.isXMLDoc=dt.isXML,st.contains=dt.contains;var ut=st.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;st.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?st.find.matchesSelector(n,e)?[n]:[]:st.find.matches(e,st.grep(t,function(e){return 1===e.nodeType}))},st.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(st(e).filter(function(){for(t=0;s>t;t++)if(st.contains(n[t],this))return!0}));for(t=0;s>t;t++)st.find(e,n[t],i);return i=this.pushStack(s>1?st.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ut.test(e)?st(e):e||[],!1).length}});var ft,pt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_t=st.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof st?t[0]:t,st.merge(this,st.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ct.test(i[1])&&st.isPlainObject(t))for(i in t)st.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=pt.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ft.find(e);this.length=1,this[0]=n}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(st):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))};_t.prototype=st.fn,ft=st(pt);var gt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(e,t,i){for(var n=[],s=e[t];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!st(s).is(i));)1===s.nodeType&&n.push(s),s=s[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),st.fn.extend({has:function(e){var t,i=st(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(st.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,r=[],a=ut.test(e)||"string"!=typeof e?st(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&st.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?st.unique(r):r)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(st.unique(st.merge(this.get(),st(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,i){return st.dir(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,i){return st.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return st.dir(e,"previousSibling",i)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(i,n){var s=st.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=st.filter(n,s)),this.length>1&&(vt[e]||(s=st.unique(s)),gt.test(e)&&(s=s.reverse())),this.pushStack(s)}});var yt=/\S+/g,bt={};st.Callbacks=function(e){e="string"==typeof e?bt[e]||r(e):st.extend({},e);var t,i,n,s,a,o,l=[],d=!e.once&&[],u=function(r){for(i=e.memory&&r,n=!0,a=o||0,o=0,s=l.length,t=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(d?d.length&&u(d.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var n=l.length;!function r(t){st.each(t,function(t,i){var n=st.type(i);"function"===n?e.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?s=l.length:i&&(o=n,u(i))}return this},remove:function(){return l&&st.each(arguments,function(e,i){for(var n;(n=st.inArray(i,l,n))>-1;)l.splice(n,1),t&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?st.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||c.disable(),this},locked:function(){return!d},fireWith:function(e,i){return!l||n&&!d||(i=i||[],i=[e,i.slice?i.slice():i],t?d.push(i):u(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(i){st.each(t,function(t,r){var a=st.isFunction(e[t])&&e[t];s[r[1]](function(){var e=a&&a.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,n):n}},s={};return n.pipe=n.then,st.each(t,function(e,r){var a=r[2],o=r[3];n[r[1]]=a.add,o&&a.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=a.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=K.call(arguments),a=r.length,o=1!==a||e&&st.isFunction(e.promise)?a:0,l=1===o?e:st.Deferred(),d=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?K.call(arguments):s,n===t?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>s;s++)r[s]&&st.isFunction(r[s].promise)?r[s].promise().done(d(s,n,r)).fail(l.reject).progress(d(s,i,t)):--o;return o||l.resolveWith(n,r),l.promise()}});var wt;st.fn.ready=function(e){return st.ready.promise().done(e),this},st.extend({isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!pt.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||(wt.resolveWith(pt,[st]),st.fn.triggerHandler&&(st(pt).triggerHandler("ready"),st(pt).off("ready")))}}}),st.ready.promise=function(t){if(!wt)if(wt=st.Deferred(),"complete"===pt.readyState)setTimeout(st.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{pt.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&pt.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!st.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}a(),st.ready()}}()}return wt.promise(t)};var xt,kt="undefined";for(xt in st(it))break;it.ownLast="0"!==xt,it.inlineBlockNeedsLayout=!1,st(function(){var e,t,i,n;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=pt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),st.acceptData=function(e){var t=st.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!d(e)},data:function(e,t,i){return u(e,t,i)},removeData:function(e,t){return c(e,t)},_data:function(e,t,i){return u(e,t,i,!0)},_removeData:function(e,t){return c(e,t,!0)}}),st.fn.extend({data:function(e,t){var i,n,s,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(s=st.data(r),1===r.nodeType&&!st._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=st.camelCase(n.slice(5)),l(r,n,s[n])));st._data(r,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){st.data(this,e)}):arguments.length>1?this.each(function(){st.data(this,e,t)}):r?l(r,e,st.data(r,e)):void 0},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=st._data(e,t),i&&(!n||st.isArray(i)?n=st._data(e,t,st.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=st.queue(e,t),n=i.length,s=i.shift(),r=st._queueHooks(e,t),a=function(){st.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return st._data(e,i)||st._data(e,i,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,i)})})}}),st.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?st.queue(this[0],e):void 0===t?this:this.each(function(){var i=st.queue(this,e,t);st._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=st.Deferred(),r=this,a=this.length,o=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=st._data(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(t)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],At=function(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)},Et=st.access=function(e,t,i,n,s,r,a){var o=0,l=e.length,d=null==i;if("object"===st.type(i)){s=!0;for(o in i)st.access(e,t,o,i[o],!0,r,a)}else if(void 0!==n&&(s=!0,st.isFunction(n)||(a=!0),d&&(a?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(st(e),i)})),t))for(;l>o;o++)t(e[o],i,a?n:n.call(e[o],o,t(e[o],i)));return s?e:d?t.call(e):l?t(e[0],i):r},St=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),i=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(n){it.deleteExpando=!1}}}(),function(){var t,i,n=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),it[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Nt=/^(?:input|select|textarea)$/i,Ot=/^key/,Lt=/^(?:mouse|pointer|contextmenu)|click/,Ft=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,t,i,n,s){var r,a,o,l,d,u,c,h,f,p,m,_=st._data(e);if(_){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=st.guid++),(a=_.events)||(a=_.events={}),(u=_.handle)||(u=_.handle=function(e){return typeof st===kt||e&&st.event.triggered===e.type?void 0:st.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(yt)||[""],o=t.length;o--;)r=Ht.exec(t[o])||[],f=m=r[1],p=(r[2]||"").split(".").sort(),f&&(d=st.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=st.event.special[f]||{},c=st.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&st.expr.match.needsContext.test(s),namespace:p.join(".")},l),(h=a[f])||(h=a[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,n,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),s?h.splice(h.delegateCount++,0,c):h.push(c),st.event.global[f]=!0);e=null}},remove:function(e,t,i,n,s){var r,a,o,l,d,u,c,h,f,p,m,_=st.hasData(e)&&st._data(e);if(_&&(u=_.events)){for(t=(t||"").match(yt)||[""],d=t.length;d--;)if(o=Ht.exec(t[d])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f){for(c=st.event.special[f]||{},f=(n?c.delegateType:c.bindType)||f,h=u[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!s&&m!==a.origType||i&&i.guid!==a.guid||o&&!o.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,c.remove&&c.remove.call(e,a));l&&!h.length&&(c.teardown&&c.teardown.call(e,p,_.handle)!==!1||st.removeEvent(e,f,_.handle),delete u[f])}else for(f in u)st.event.remove(e,f+t[d],i,n,!0);st.isEmptyObject(u)&&(delete _.handle,st._removeData(e,"events"))}},trigger:function(t,i,n,s){var r,a,o,l,d,u,c,h=[n||pt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=u=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!Ft.test(f+st.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[st.expando]?t:new st.Event(f,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:st.makeArray(i,[t]),d=st.event.special[f]||{},s||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!s&&!d.noBubble&&!st.isWindow(n)){for(l=d.delegateType||f,Ft.test(l+f)||(o=o.parentNode);o;o=o.parentNode)h.push(o),u=o;u===(n.ownerDocument||pt)&&h.push(u.defaultView||u.parentWindow||e)}for(c=0;(o=h[c++])&&!t.isPropagationStopped();)t.type=c>1?l:d.bindType||f,r=(st._data(o,"events")||{})[t.type]&&st._data(o,"handle"),r&&r.apply(o,i),r=a&&o[a],r&&r.apply&&st.acceptData(o)&&(t.result=r.apply(o,i),t.result===!1&&t.preventDefault());if(t.type=f,!s&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),i)===!1)&&st.acceptData(n)&&a&&n[f]&&!st.isWindow(n)){u=n[a],u&&(n[a]=null),st.event.triggered=f;try{n[f]()}catch(m){}st.event.triggered=void 0,u&&(n[a]=u)}return t.result}},dispatch:function(e){e=st.event.fix(e);var t,i,n,s,r,a=[],o=K.call(arguments),l=(st._data(this,"events")||{})[e.type]||[],d=st.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=st.event.handlers.call(this,e,l),t=0;(s=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(n=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((st.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,a=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(s=[],r=0;o>r;r++)n=t[r],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?st(i,this).index(l)>=0:st.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[st.expando])return e;var t,i,n,s=e.type,r=e,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Lt.test(s)?this.mouseHooks:Ot.test(s)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new st.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||pt,s=n.documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return st.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=st.extend(new st.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?st.event.trigger(s,null,t):st.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},st.removeEvent=pt.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===kt&&(e[n]=null),e.detachEvent(n,i))},st.Event=function(e,t){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&st.extend(this,t),this.timeStamp=e&&e.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(e,t)},st.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==n&&!st.contains(n,s))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:void st.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=st.nodeName(t,"input")||st.nodeName(t,"button")?t.form:void 0;i&&!st._data(i,"submitBubbles")&&(st.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),st._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:void st.event.remove(this,"._submit")}}),it.changeBubbles||(st.event.special.change={setup:function(){return Nt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Nt.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Nt.test(this.nodeName)}}),it.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=st._data(n,t);s||n.addEventListener(e,i,!0),st._data(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=st._data(n,t)-1;s?st._data(n,t,s):(n.removeEventListener(e,i,!0),st._removeData(n,t))}}}),st.fn.extend({on:function(e,t,i,n,s){var r,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],s);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=f;else if(!n)return this;return 1===s&&(a=n,n=function(e){return st().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=st.guid++)),this.each(function(){st.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,st(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=f),this.each(function(){st.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?st.event.trigger(e,t,i,!0):void 0}});var $t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",It=/ jQuery\d+="(?:null|\d+)"/g,jt=new RegExp("<(?:"+$t+")[\\s/>]","i"),zt=/^\s+/,Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,Rt=/<tbody/i,Bt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(pt),Qt=Gt.appendChild(pt.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,st.extend({clone:function(e,t,i){var n,s,r,a,o,l=st.contains(e.ownerDocument,e);if(it.html5Clone||st.isXMLDoc(e)||!jt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(r=Qt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(n=_(r),o=_(e),a=0;null!=(s=o[a]);++a)n[a]&&k(s,n[a]);if(t)if(i)for(o=o||_(e),n=n||_(r),a=0;null!=(s=o[a]);a++)x(s,n[a]);else x(e,r);return n=_(r,"script"),n.length>0&&w(n,!l&&_(e,"script")),n=o=s=null,r},buildFragment:function(e,t,i,n){for(var s,r,a,o,l,d,u,c=e.length,h=m(t),f=[],p=0;c>p;p++)if(r=e[p],r||0===r)if("object"===st.type(r))st.merge(f,r.nodeType?[r]:r);else if(Bt.test(r)){for(o=o||h.appendChild(t.createElement("div")),l=(Yt.exec(r)||["",""])[1].toLowerCase(),u=Kt[l]||Kt._default,o.innerHTML=u[1]+r.replace(Pt,"<$1></$2>")+u[2],s=u[0];s--;)o=o.lastChild;if(!it.leadingWhitespace&&zt.test(r)&&f.push(t.createTextNode(zt.exec(r)[0])),!it.tbody)for(r="table"!==l||Rt.test(r)?"<table>"!==u[1]||Rt.test(r)?0:o:o.firstChild,s=r&&r.childNodes.length;s--;)st.nodeName(d=r.childNodes[s],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(st.merge(f,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else f.push(t.createTextNode(r));for(o&&h.removeChild(o),it.appendChecked||st.grep(_(f,"input"),g),p=0;r=f[p++];)if((!n||-1===st.inArray(r,n))&&(a=st.contains(r.ownerDocument,r),o=_(h.appendChild(r),"script"),a&&w(o),i))for(s=0;r=o[s++];)qt.test(r.type||"")&&i.push(r);return o=null,h},cleanData:function(e,t){for(var i,n,s,r,a=0,o=st.expando,l=st.cache,d=it.deleteExpando,u=st.event.special;null!=(i=e[a]);a++)if((t||st.acceptData(i))&&(s=i[o],r=s&&l[s])){if(r.events)for(n in r.events)u[n]?st.event.remove(i,n):st.removeEvent(i,n,r.handle);l[s]&&(delete l[s],d?delete i[o]:typeof i.removeAttribute!==kt?i.removeAttribute(o):i[o]=null,V.push(s))}}}),st.fn.extend({text:function(e){return Et(this,function(e){return void 0===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?st.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||st.cleanData(_(i)),i.parentNode&&(t&&st.contains(i.ownerDocument,i)&&w(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return Et(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(It,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!it.htmlSerialize&&jt.test(e)||!it.leadingWhitespace&&zt.test(e)||Kt[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Pt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(st.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,st.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var i,n,s,r,a,o,l=0,d=this.length,u=this,c=d-1,h=e[0],f=st.isFunction(h);if(f||d>1&&"string"==typeof h&&!it.checkClone&&Wt.test(h))return this.each(function(i){var n=u.eq(i);f&&(e[0]=h.call(this,i,n.html())),n.domManip(e,t)});if(d&&(o=st.buildFragment(e,this[0].ownerDocument,!1,this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(r=st.map(_(o,"script"),y),s=r.length;d>l;l++)n=o,l!==c&&(n=st.clone(n,!0,!0),s&&st.merge(r,_(n,"script"))),t.call(this[l],n,l);if(s)for(a=r[r.length-1].ownerDocument,st.map(r,b),l=0;s>l;l++)n=r[l],qt.test(n.type||"")&&!st._data(n,"globalEval")&&st.contains(a,n)&&(n.src?st._evalUrl&&st._evalUrl(n.src):st.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Vt,"")));o=i=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var i,n=0,s=[],r=st(e),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),st(r[n])[t](i),Q.apply(s,i.get());return this.pushStack(s)}});var Jt,Zt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=pt.getElementsByTagName("body")[0],i&&i.style?(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0
}}();var ei,ti,ii=/^margin/,ni=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},ti=function(e,t,i){var n,s,r,a,o=e.style;return i=i||ei(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||st.contains(e.ownerDocument,e)||(a=st.style(e,t)),ni.test(a)&&ii.test(t)&&(n=o.width,s=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=s,o.maxWidth=r)),void 0===a?a:a+""}):pt.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var n,s,r,a,o=e.style;return i=i||ei(e),a=i?i[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),ni.test(a)&&!si.test(t)&&(n=o.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=n,r&&(s.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,n,s;i=pt.getElementsByTagName("body")[0],i&&i.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,s=t.appendChild(pt.createElement("div")),s.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=t.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===s[0].offsetHeight,o&&(s[0].style.display="",s[1].style.display="none",o=0===s[0].offsetHeight),i.removeChild(n))}var i,n,s,r,a,o,l;i=pt.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],n=s&&s.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,st.extend(it,{reliableHiddenOffsets:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),st.swap=function(e,t,i,n){var s,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return s};var ri=/alpha\([^)]*\)/i,ai=/opacity\s*=\s*([^)]*)/,oi=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Mt+")(.*)$","i"),di=new RegExp("^([+-])=("+Mt+")","i"),ui={position:"absolute",visibility:"hidden",display:"block"},ci={letterSpacing:"0",fontWeight:"400"},hi=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,o=st.camelCase(t),l=e.style;if(t=st.cssProps[o]||(st.cssProps[o]=C(l,o)),a=st.cssHooks[t]||st.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(e,!1,n))?s:l[t];if(r=typeof i,"string"===r&&(s=di.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(st.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||st.cssNumber[o]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,n){var s,r,a,o=st.camelCase(t);return t=st.cssProps[o]||(st.cssProps[o]=C(e.style,o)),a=st.cssHooks[t]||st.cssHooks[o],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=ti(e,t,n)),"normal"===r&&t in ci&&(r=ci[t]),""===i||i?(s=parseFloat(r),i===!0||st.isNumeric(s)?s||0:r):r}}),st.each(["height","width"],function(e,t){st.cssHooks[t]={get:function(e,i,n){return i?oi.test(st.css(e,"display"))&&0===e.offsetWidth?st.swap(e,ui,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,i,n){var s=n&&ei(e);return E(e,i,n?S(e,t,n,it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,s),s):0)}}}),it.opacity||(st.cssHooks.opacity={get:function(e,t){return ai.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===st.trim(r.replace(ri,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ri.test(r)?r.replace(ri,s):r+" "+s)}}),st.cssHooks.marginRight=M(it.reliableMarginRight,function(e,t){return t?st.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+Ct[n]+t]=r[n]||r[n-2]||r[0];return s}},ii.test(e)||(st.cssHooks[e+t].set=E)}),st.fn.extend({css:function(e,t){return Et(this,function(e,t,i){var n,s,r={},a=0;if(st.isArray(t)){for(n=ei(e),s=t.length;s>a;a++)r[t[a]]=st.css(e,t[a],!1,n);return r}return void 0!==i?st.style(e,t,i):st.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){At(this)?st(this).show():st(this).hide()})}}),st.Tween=O,O.prototype={constructor:O,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(st.cssNumber[i]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,i=O.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.fx=O.prototype.init,st.fx.step={};var fi,pi,mi=/^(?:toggle|show|hide)$/,_i=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),gi=/queueHooks$/,vi=[$],yi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=_i.exec(t),r=s&&s[3]||(st.cssNumber[e]?"":"px"),a=(st.cssNumber[e]||"px"!==r&&+n)&&_i.exec(st.css(i.elem,e)),o=1,l=20;if(a&&a[3]!==r){r=r||a[3],s=s||[],a=+n||1;do o=o||".5",a/=o,st.style(i.elem,e,a+r);while(o!==(o=i.cur()/n)&&1!==o&&--l)}return s&&(a=i.start=+a||+n||0,i.unit=r,i.end=s[1]?a+(s[1]+1)*s[2]:+s[2]),i}]};st.Animation=st.extend(j,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],yi[i]=yi[i]||[],yi[i].unshift(t)},prefilter:function(e,t){t?vi.unshift(e):vi.push(e)}}),st.speed=function(e,t,i){var n=e&&"object"==typeof e?st.extend({},e):{complete:i||!i&&t||st.isFunction(e)&&e,duration:e,easing:i&&t||t&&!st.isFunction(t)&&t};return n.duration=st.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in st.fx.speeds?st.fx.speeds[n.duration]:st.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){st.isFunction(n.old)&&n.old.call(this),n.queue&&st.dequeue(this,n.queue)},n},st.fn.extend({fadeTo:function(e,t,i,n){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=st.isEmptyObject(e),r=st.speed(t,i,n),a=function(){var t=j(this,st.extend({},e),r);(s||st._data(this,"finish"))&&t.stop(!0)};return a.finish=a,s||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=st.timers,a=st._data(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&gi.test(s)&&n(a[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));(t||!i)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=st._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=st.timers,a=n?n.length:0;for(i.finish=!0,st.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),st.each(["toggle","show","hide"],function(e,t){var i=st.fn[t];st.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(t,!0),e,n,s)}}),st.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),st.timers=[],st.fx.tick=function(){var e,t=st.timers,i=0;for(fi=st.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||st.fx.stop(),fi=void 0},st.fx.timer=function(e){st.timers.push(e),e()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){pi||(pi=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(pi),pi=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,s;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=pt.createElement("select"),s=i.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=s.selected,it.enctype=!!pt.createElement("form").enctype,i.disabled=!0,it.optDisabled=!s.disabled,e=pt.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var bi=/\r/g;st.fn.extend({val:function(e){var t,i,n,s=this[0];{if(arguments.length)return n=st.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,st(this).val()):e,null==s?s="":"number"==typeof s?s+="":st.isArray(s)&&(s=st.map(s,function(e){return null==e?"":e+""})),t=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=st.valHooks[s.type]||st.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(bi,""):null==i?"":i)}}}),st.extend({valHooks:{option:{get:function(e){var t=st.find.attr(e,"value");return null!=t?t:st.trim(st.text(e))}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,a=r?null:[],o=r?s+1:n.length,l=0>s?o:r?s:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==s||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&st.nodeName(i.parentNode,"optgroup"))){if(t=st(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,s=e.options,r=st.makeArray(t),a=s.length;a--;)if(n=s[a],st.inArray(st.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(o){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),s}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(e,t){return st.isArray(t)?e.checked=st.inArray(st(e).val(),t)>=0:void 0}},it.checkOn||(st.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wi,xi,ki=st.expr.attrHandle,Di=/^(?:checked|selected)$/i,Ti=it.getSetAttribute,Mi=it.input;st.fn.extend({attr:function(e,t){return Et(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})}}),st.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===kt?st.prop(e,t,i):(1===r&&st.isXMLDoc(e)||(t=t.toLowerCase(),n=st.attrHooks[t]||(st.expr.match.bool.test(t)?xi:wi)),void 0===i?n&&"get"in n&&null!==(s=n.get(e,t))?s:(s=st.find.attr(e,t),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:(e.setAttribute(t,i+""),i):void st.removeAttr(e,t))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(yt);if(r&&1===e.nodeType)for(;i=r[s++];)n=st.propFix[i]||i,st.expr.match.bool.test(i)?Mi&&Ti||!Di.test(i)?e[n]=!1:e[st.camelCase("default-"+i)]=e[n]=!1:st.attr(e,i,""),e.removeAttribute(Ti?i:n)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&st.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),xi={set:function(e,t,i){return t===!1?st.removeAttr(e,i):Mi&&Ti||!Di.test(i)?e.setAttribute(!Ti&&st.propFix[i]||i,i):e[st.camelCase("default-"+i)]=e[i]=!0,i}},st.each(st.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ki[t]||st.find.attr;ki[t]=Mi&&Ti||!Di.test(t)?function(e,t,n){var s,r;return n||(r=ki[t],ki[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,ki[t]=r),s}:function(e,t,i){return i?void 0:e[st.camelCase("default-"+t)]?t.toLowerCase():null}}),Mi&&Ti||(st.attrHooks.value={set:function(e,t,i){return st.nodeName(e,"input")?void(e.defaultValue=t):wi&&wi.set(e,t,i)}}),Ti||(wi={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},ki.id=ki.name=ki.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},st.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:wi.set},st.attrHooks.contenteditable={set:function(e,t,i){wi.set(e,""===t?!1:t,i)}},st.each(["width","height"],function(e,t){st.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(st.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ci=/^(?:input|select|textarea|button|object)$/i,Ai=/^(?:a|area)$/i;st.fn.extend({prop:function(e,t){return Et(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),st.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,s,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!st.isXMLDoc(e),r&&(t=st.propFix[t]||t,s=st.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=st.find.attr(e,"tabindex");return t?parseInt(t,10):Ci.test(e.nodeName)||Ai.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(st.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),it.enctype||(st.propFix.enctype="encoding");var Ei=/[\t\r\n\f]/g;st.fn.extend({addClass:function(e){var t,i,n,s,r,a,o=0,l=this.length,d="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ei," "):" ")){for(r=0;s=t[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=st.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,s,r,a,o=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ei," "):"")){for(r=0;s=t[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");a=e?st.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(st.isFunction(e)?function(i){st(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,s=st(this),r=e.match(yt)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(i===kt||"boolean"===i)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ei," ").indexOf(t)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),st.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Si=st.now(),Ni=/\?/,Oi=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;st.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,s=st.trim(t+"");return s&&!st.trim(s.replace(Oi,function(e,t,s,r){return i&&t&&(n=0),0===n?e:(i=s||t,n+=!r-!s,"")}))?Function("return "+s)():st.error("Invalid JSON: "+t)},st.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+t),i};var Li,Fi,Hi=/#.*$/,$i=/([?&])_=[^&]*/,Ii=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ji=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zi=/^(?:GET|HEAD)$/,Pi=/^\/\//,Yi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ri={},Bi={},Ui="*/".concat("*");try{Fi=location.href}catch(Wi){Fi=pt.createElement("a"),Fi.href="",Fi=Fi.href}Li=Yi.exec(Fi.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fi,type:"GET",isLocal:ji.test(Li[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ui,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,st.ajaxSettings),t):Y(st.ajaxSettings,e)},ajaxPrefilter:z(Ri),ajaxTransport:z(Bi),ajax:function(e,t){function i(e,t,i,n){var s,u,g,v,b,x=t;2!==y&&(y=2,o&&clearTimeout(o),d=void 0,a=n||"",w.readyState=e>0?4:0,s=e>=200&&300>e||304===e,i&&(v=R(c,w,i)),v=B(c,v,w,s),s?(c.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(st.lastModified[r]=b),b=w.getResponseHeader("etag"),b&&(st.etag[r]=b)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=v.state,u=v.data,g=v.error,s=!g)):(g=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",s?p.resolveWith(h,[u,x,w]):p.rejectWith(h,[w,x,g]),w.statusCode(_),_=void 0,l&&f.trigger(s?"ajaxSuccess":"ajaxError",[w,c,s?u:g]),m.fireWith(h,[w,x]),l&&(f.trigger("ajaxComplete",[w,c]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s,r,a,o,l,d,u,c=st.ajaxSetup({},t),h=c.context||c,f=c.context&&(h.nodeType||h.jquery)?st(h):st.event,p=st.Deferred(),m=st.Callbacks("once memory"),_=c.statusCode||{},g={},v={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=Ii.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,g[e]=t),this},overrideMimeType:function(e){return y||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)_[t]=[_[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return d&&d.abort(t),i(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,c.url=((e||c.url||Fi)+"").replace(Hi,"").replace(Pi,Li[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=st.trim(c.dataType||"*").toLowerCase().match(yt)||[""],null==c.crossDomain&&(n=Yi.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===Li[1]&&n[2]===Li[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Li[3]||("http:"===Li[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=st.param(c.data,c.traditional)),P(Ri,c,t,w),2===y)return w;l=c.global,l&&0===st.active++&&st.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!zi.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Ni.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=$i.test(r)?r.replace($i,"$1_="+Si++):r+(Ni.test(r)?"&":"?")+"_="+Si++)),c.ifModified&&(st.lastModified[r]&&w.setRequestHeader("If-Modified-Since",st.lastModified[r]),st.etag[r]&&w.setRequestHeader("If-None-Match",st.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",c.contentType),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Ui+"; q=0.01":""):c.accepts["*"]);for(s in c.headers)w.setRequestHeader(s,c.headers[s]);if(c.beforeSend&&(c.beforeSend.call(h,w,c)===!1||2===y))return w.abort();b="abort";for(s in{success:1,error:1,complete:1})w[s](c[s]);if(d=P(Bi,c,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},c.timeout));try{y=1,d.send(g,i)}catch(x){if(!(2>y))throw x;i(-1,x)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return st.get(e,t,i,"json")},getScript:function(e,t){return st.get(e,void 0,t,"script")}}),st.each(["get","post"],function(e,t){st[t]=function(e,i,n,s){return st.isFunction(i)&&(s=s||n,n=i,i=void 0),st.ajax({url:e,type:t,dataType:s,data:i,success:n})}}),st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st._evalUrl=function(e){return st.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},st.fn.extend({wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(st.isFunction(e)?function(t){st(this).wrapInner(e.call(this,t))}:function(){var t=st(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(i){st(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)};var qi=/%20/g,Xi=/\[\]$/,Vi=/\r?\n/g,Ki=/^(?:submit|button|image|reset|file)$/i,Gi=/^(?:input|select|textarea|keygen)/i;st.param=function(e,t){var i,n=[],s=function(e,t){t=st.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){s(this.name,this.value)});else for(i in e)U(i,e[i],t,s);return n.join("&").replace(qi,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&Gi.test(this.nodeName)&&!Ki.test(e)&&(this.checked||!St.test(e))}).map(function(e,t){var i=st(this).val();return null==i?null:st.isArray(i)?st.map(i,function(e){return{name:t.name,value:e.replace(Vi,"\r\n")}}):{name:t.name,value:i.replace(Vi,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||q()}:W;var Qi=0,Ji={},Zi=st.ajaxSettings.xhr();e.ActiveXObject&&st(e).on("unload",function(){for(var e in Ji)Ji[e](void 0,!0)}),it.cors=!!Zi&&"withCredentials"in Zi,Zi=it.ajax=!!Zi,Zi&&st.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,n){var s,r=e.xhr(),a=++Qi;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&r.setRequestHeader(s,i[s]+"");r.send(e.hasContent&&e.data||null),t=function(i,s){var o,l,d;if(t&&(s||4===r.readyState))if(delete Ji[a],t=void 0,r.onreadystatechange=st.noop,s)4!==r.readyState&&r.abort();else{d={},o=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(u){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=d.text?200:404}d&&n(o,l,d,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Ji[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=pt.head||st("head")[0]||pt.documentElement;return{send:function(n,s){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||st.expando+"_"+Si++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(t,i,n){var s,r,a,o=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=st.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(tn,"$1"+s):t.jsonp!==!1&&(t.url+=(Ni.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return a||st.error(s+" was not called"),a[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},n.always(function(){e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,en.push(s)),a&&st.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),st.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||pt;var n=ct.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=st.buildFragment([e],t,s),s&&s.length&&st(s).remove(),st.merge([],n.childNodes))};var nn=st.fn.load;st.fn.load=function(e,t,i){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var n,s,r,a=this,o=e.indexOf(" ");return o>=0&&(n=st.trim(e.slice(o,e.length)),e=e.slice(0,o)),st.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&st.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,a.html(n?st("<div>").append(st.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length};var sn=e.document.documentElement;st.offset={setOffset:function(e,t,i){var n,s,r,a,o,l,d,u=st.css(e,"position"),c=st(e),h={};"static"===u&&(e.style.position="relative"),o=c.offset(),r=st.css(e,"top"),l=st.css(e,"left"),d=("absolute"===u||"fixed"===u)&&st.inArray("auto",[r,l])>-1,d?(n=c.position(),a=n.top,s=n.left):(a=parseFloat(r)||0,s=parseFloat(l)||0),st.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+s),"using"in t?t.using.call(e,h):c.css(h)}},st.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){st.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return t=r.documentElement,st.contains(t,s)?(typeof s.getBoundingClientRect!==kt&&(n=s.getBoundingClientRect()),i=X(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===st.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(i=e.offset()),i.top+=st.css(e[0],"borderTopWidth",!0),i.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-st.css(n,"marginTop",!0),left:t.left-i.left-st.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||sn;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||sn})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);st.fn[e]=function(n){return Et(this,function(e,n,s){var r=X(e);return void 0===s?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?st(r).scrollLeft():s,i?s:st(r).scrollTop()):e[n]=s)},e,n,arguments.length,null)}}),st.each(["top","left"],function(e,t){st.cssHooks[t]=M(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ni.test(i)?st(e).position()[t]+"px":i):void 0})}),st.each({Height:"height",Width:"width"},function(e,t){st.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){st.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||s===!0?"margin":"border");return Et(this,function(t,i,n){var s;return st.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?st.css(t,i,a):st.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st
});var rn=e.jQuery,an=e.$;return st.noConflict=function(t){return e.$===st&&(e.$=an),t&&e.jQuery===st&&(e.jQuery=rn),st},typeof t===kt&&(e.jQuery=e.$=st),st}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote], button[data-confirm]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var s,r,a,o,l,d,u,c;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),l=o===t?null:o,d=n.data("with-credentials")||null,u=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var h=n.data("ujs:submit-button");h&&(a.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),a=n.data("params")||null);return c={type:s||"GET",data:a,dataType:u,beforeSend:function(e,s){return s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[e,s])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},d&&(c.xhrFields={withCredentials:d}),r&&(c.url=r),i.ajax(c)}return!1},handleMethod:function(n){var s=i.href(n),r=n.data("method"),a=n.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+s+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&o!==t&&(u+='<input name="'+l+'" value="'+o+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(u).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),s=!1;return n?(i.fire(e,"confirm")&&(s=i.confirm(n),t=i.fire(e,"confirm:complete",[s])),s&&t):!0},blankInputs:function(t,i,n){var s,r,a=e(),o=i||"input,textarea",l=t.find(o);return l.each(function(){if(s=e(this),r=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!r==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;a=a.add(s)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var s=e(this),r=s.data("method"),a=s.data("params"),o=n.metaKey||n.ctrlKey;if(!i.allowAction(s))return i.stopEverything(n);if(!o&&s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==t){if(o&&(!r||"GET"===r)&&!a)return!0;var l=i.handleRemote(s);return l===!1?i.enableElement(s):l.error(function(){i.enableElement(s)}),!1}return s.data("method")?(i.handleMethod(s),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.error(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,r,a=e(this),o=a.data("remote")!==t;if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")==t&&(s=i.blankInputs(a,i.requiredInputSelector),s&&i.fire(a,"ajax:aborted:required",[s])))return i.stopEverything(n);if(o){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(){var e,t,i,n,s,r,a,o,l,d,u,c,h,f,p,m,_,g,v,y,b,w,x,k,D,T,M,C,A,E,S,N,O,L,F,H,$,I,j,z,P,Y,R,B,U,W,q,X,V,K=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},G={}.hasOwnProperty,Q=function(e,t){function i(){this.constructor=e}for(var n in t)G.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},J=[].slice;A={},c=10,B=!1,m=null,C=null,F=null,p=null,X=null,y=function(e){var t;return e=new i(e),z(),u(),H(e),B&&(t=U(e.absolute))?(b(t),w(e)):w(e,R)},U=function(e){var t;return t=A[e],t&&!t.transitionCacheDisabled?t:void 0},_=function(e){return null==e&&(e=!0),B=e},w=function(e,t){return null==t&&(t=function(){return function(){}}(this)),W("page:fetch",{url:e.absolute}),null!=X&&X.abort(),X=new XMLHttpRequest,X.open("GET",e.withoutHashForIE10compatibility(),!0),X.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),X.setRequestHeader("X-XHR-Referer",F),X.onload=function(){var i;return W("page:receive"),(i=O())?(h.apply(null,v(i)),$(),t(),W("page:load")):document.location.href=e.absolute},X.onloadend=function(){return X=null},X.onerror=function(){return document.location.href=e.absolute},X.send()},b=function(e){return null!=X&&X.abort(),h(e.title,e.body),L(e),W("page:restore")},u=function(){var e;return e=new i(m.url),A[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},f(c)},S=function(e){return null==e&&(e=c),/^[\d]+$/.test(e)?c=parseInt(e):void 0},f=function(e){var t,i,n,s,r,a;for(n=Object.keys(A),t=n.map(function(e){return A[e].cachedAt}).sort(function(e,t){return t-e}),a=[],s=0,r=n.length;r>s;s++)i=n[s],A[i].cachedAt<=t[e]&&(W("page:expire",A[i]),a.push(delete A[i]));return a},h=function(t,i,n,s){return document.title=t,document.documentElement.replaceChild(i,document.body),null!=n&&e.update(n),s&&g(),m=window.history.state,W("page:change"),W("page:update")},g=function(){var e,t,i,n,s,r,a,o,l,d,u,c;for(r=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,l=r.length;l>a;a++)if(s=r[a],""===(u=s.type)||"text/javascript"===u){for(t=document.createElement("script"),c=s.attributes,o=0,d=c.length;d>o;o++)e=c[o],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(s.innerHTML)),n=s.parentNode,i=s.nextSibling,n.removeChild(s),n.insertBefore(t,i)}},P=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},H=function(e){return(e=new i(e)).absolute!==F?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},$=function(){var e,t;return(e=X.getResponseHeader("X-XHR-Redirected-To"))?(e=new i(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(m,"",e.href+t)):void 0},z=function(){return F=document.location.href},j=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},I=function(){return m=window.history.state},L=function(e){return window.scrollTo(e.positionX,e.positionY)},R=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},N=function(e){var t,i;return t=(null!=(i=document.cookie.match(new RegExp(e+"=(\\w+)")))?i[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",t},W=function(e,t){var i;return i=document.createEvent("Events"),t&&(i.data=t),i.initEvent(e,!0,!0),document.dispatchEvent(i)},E=function(){return!W("page:before-change")},O=function(){var e,t,i,n,s,r;return t=function(){var e;return 400<=(e=X.status)&&600>e},r=function(){return X.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(e){var t,i,n,s,r;for(s=e.head.childNodes,r=[],i=0,n=s.length;n>i;i++)t=s[i],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&r.push(t.getAttribute("src")||t.getAttribute("href"));return r},e=function(e){var t;return C||(C=n(document)),t=n(e),t.length!==C.length||s(t,C).length!==C.length},s=function(e,t){var i,n,s,r,a;for(e.length>t.length&&(r=[t,e],e=r[0],t=r[1]),a=[],n=0,s=e.length;s>n;n++)i=e[n],K.call(t,i)>=0&&a.push(i);return a},!t()&&r()&&(i=p(X.responseText),i&&!e(i))?i:void 0},v=function(t){var i;return i=t.querySelector("title"),[null!=i?i.textContent:void 0,P(t.body),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},s=function(){var e,t,i,n,s,r;t=function(e){return(new DOMParser).parseFromString(e,"text/html")},e=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},i=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return s=t("<html><body><p>test"),t}catch(a){return n=a,s=e("<html><body><p>test"),e}finally{if(1!==(null!=s&&null!=(r=s.body)?r.childNodes.length:void 0))return i}},i=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),n=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,void t.__super__.constructor.apply(this,arguments))}return Q(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,i,n,s;for(i=1<=arguments.length?J.call(arguments,0):[],n=0,s=i.length;s>n;n++)e=i[n],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._crossOrigin=function(){return this.origin!==(new i).origin},t.prototype._anchored=function(){var e;return(this.hash&&this.withoutHash())===(e=new i).withoutHash()||this.href===e.href+"#"},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.link;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(i),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(E()||q(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new n(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),d=function(e){return setTimeout(e,500)},D=function(){return document.addEventListener("DOMContentLoaded",function(){return W("page:change"),W("page:update")},!0)},M=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?W("page:update"):void 0}):void 0},T=function(e){var t,n;return(null!=(n=e.state)?n.turbolinks:void 0)?(t=A[new i(e.state.url).absolute])?(u(),b(t)):q(e.target.location.href):void 0},k=function(){return j(),I(),p=s(),document.addEventListener("click",t.installHandlerLast,!0),d(function(){return window.addEventListener("popstate",T,!1)})},x=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),o=window.history&&window.history.pushState&&window.history.replaceState&&x,r=!navigator.userAgent.match(/CriOS\//),Y="GET"===(V=N("request_method"))||""===V,l=o&&r&&Y,a=document.addEventListener&&document.createEvent,a&&(D(),M()),l?(q=y,k()):q=function(e){return document.location.href=e},this.Turbolinks={visit:q,pagesCached:S,enableTransitionCache:_,allowLinkExtensions:n.allowExtensions,supported:l}}.call(this),function(e,t){function i(t,i){var s,r,a,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,r=s.name,t.href&&r&&"map"===s.nodeName.toLowerCase()?(a=e("img[usemap=#"+r+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?o["inner"+n].call(this):this.each(function(){e(this).css(a,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,r=e.ui[t].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(r){}s(t)},e.widget=function(t,i,n){var s,r,a,o,l={},d=t.split(".")[0];t=t.split(".")[1],s=d+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[d]=e[d]||{},r=e[d][t],a=e[d][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,r=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=r,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||t:t},l,{constructor:a,namespace:d,widgetName:t,widgetFullName:s}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(i){for(var s,r,a=n.call(arguments,1),o=0,l=a.length;l>o;o++)for(s in a[o])r=a[o][s],a[o].hasOwnProperty(s)&&r!==t&&(i[s]=e.isPlainObject(r)?e.isPlainObject(i[s])?e.widget.extend({},i[s],r):e.widget.extend({},r):r);return i},e.widget.bridge=function(i,s){var r=s.prototype.widgetFullName||i;e.fn[i]=function(a){var o="string"==typeof a,l=n.call(arguments,1),d=this;return a=!o&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,this.each(o?function(){var n,s=e.data(this,r);return s?e.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==t?(d=n&&n.jquery?d.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,r);t?t.option(a||{})._init():e.data(this,r,new s(a,this))}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,r,a,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},s=i.split("."),i=s.shift(),s.length){for(r=o[i]=e.widget.extend({},this.options[i]),a=0;a<s.length-1;a++)r[s[a]]=r[s[a]]||{},r=r[s[a]];if(i=s.pop(),1===arguments.length)return r[i]===t?null:r[i];r[i]=n}else{if(1===arguments.length)return this.options[i]===t?null:this.options[i];o[i]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,r=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,a){function o(){return t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),d=l[1]+r.eventNamespace,u=l[2];u?s.delegate(u,d,o):i.bind(d,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,r,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,r){"string"==typeof s&&(s={effect:s});var a,o=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),a=!e.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),a&&e.effects&&e.effects.effect[o]?n[t](s):o!==t&&n[o]?n[o](s.duration,s.easing,r):n.queue(function(i){e(this)[t](),r&&r.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!r&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;i>t;t++)a.push(r);this.handles=s.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,r,a,o,l,d,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(s>i||s===i&&(t===u._lastChangedValue||u.values(t)===c.min))&&(s=i,r=e(this),a=t)}),o=this._start(t,a),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,r.addClass("ui-state-active").focus(),l=r.offset(),d=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=d?{left:0,top:0}:{left:t.pageX-l.left-r.width()/2,top:t.pageY-l.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))
},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,r;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,r;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,r=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),r!==!1&&this.values(t,i))):i!==this.value()&&(r=this._trigger("slide",e,{handle:this.handles[t],value:i}),r!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,s,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,r,a=this.options.range,o=this.options,l=this,d=this._animateOff?!1:o.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](u,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},o.animate),1===n&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===n&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},o.animate),1===n&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](u,o.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},o.animate),"max"===a&&"horizontal"===this.orientation&&this.range[d?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},o.animate),"max"===a&&"vertical"===this.orientation&&this.range[d?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(i){var n,s,r,a,o=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,o),n===!1))return}switch(a=this.options.step,s=r=this.options.values&&this.options.values.length?this.values(o):this.value(),i.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;r=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;r=this._trimAlignValue(s-a)}this._slide(i,o,r)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var r,a="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,r;n=t.nodeName.toLowerCase(),s="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),r=this._newInst(e(t),s),r.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):s&&this._inlineDatepicker(t,r)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,a,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,r,a=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,r=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},r.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,r,o){var l,d,u,c,h,f=this._dialogInst;return f||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},e.data(this._dialogInput[0],a,f)),s(f.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(f,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(d=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+c,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],a,f),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,a);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,a),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,s=e(t),r=e.data(t,a);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,s=e(t),r=e.data(t,a);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,r){var a,o,l,d,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=r),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),d=this._getMinMaxDate(u,"max"),s(u.settings,a),null!==l&&a.dateFormat!==t&&a.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==d&&a.dateFormat!==t&&a.maxDate===t&&(u.settings.maxDate=this._formatDate(u,d)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,r=e.datepicker._getInst(t.target),a=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv),s[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,s[0]),i=e.datepicker._get(r,"onSelect"),i?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,s=e.datepicker._getInst(t.target);return e.datepicker._get(s,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,r,a,o,l,d;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),r=n?n.apply(t,[t,i]):{},r!==!1&&(s(i.settings,r),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,a),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),d=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),d):i.dpDiv[l||"show"](l?d:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,r=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),s=n[1],a=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>d&&d>r?Math.abs(r+o):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,s,r,o=this._curInst;!o||t&&o!==e.data(t,a)||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,r=this._get(o,"onClose"),r&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(t,i,n,s){var r,a=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(r=this._getInst(a[0]),r.selectedDay=r.currentDay=e("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,s=e(t),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(r).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var s,r,a,o,l=0,d=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,_=-1,g=-1,v=-1,y=!1,b=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},w=function(e){var t=b(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=new RegExp("^\\d{1,"+n+"}"),r=i.substring(l).match(s);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},x=function(t,n,s){var r=-1,a=e.map(b(t)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=t[0],l+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<t.length;s++)if(y)"'"!==t.charAt(s)||b("'")?k():y=!1;else switch(t.charAt(s)){case"d":g=w("d");break;case"D":x("D",c,h);break;case"o":v=w("o");break;case"m":_=w("m");break;case"M":_=x("M",f,p);break;case"y":m=w("y");break;case"@":o=new Date(w("@")),m=o.getFullYear(),_=o.getMonth()+1,g=o.getDate();break;case"!":o=new Date((w("!")-this._ticksTo1970)/1e4),m=o.getFullYear(),_=o.getMonth()+1,g=o.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(l<i.length&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),v>-1)for(_=1,g=v;;){if(r=this._getDaysInMonth(m,_-1),r>=g)break;_++,g-=r}if(o=this._daylightSavingAdjust(new Date(m,_-1,g)),o.getFullYear()!==m||o.getMonth()+1!==_||o.getDate()!==g)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},d=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},c="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?c+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":c+=d("d",t.getDate(),2);break;case"D":c+=u("D",t.getDay(),s,r);break;case"o":c+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=d("m",t.getMonth()+1,2);break;case"M":c+=u("M",t.getMonth(),a,o);break;case"y":c+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":h=!0;break;default:c+=e.charAt(n)}return c},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,a=this._getFormatConfig(e);try{r=this.parseDate(i,n,a)||s}catch(o){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=s.getFullYear(),a=s.getMonth(),o=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=l.exec(i);d;){switch(d[2]||"d"){case"d":case"D":o+=parseInt(d[1],10);break;case"w":case"W":o+=7*parseInt(d[1],10);break;case"m":case"M":a+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(d[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a))}d=l.exec(i)}return new Date(r,a,o)},a=null==i||""===i?n:"string"==typeof i?r(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,r=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),s===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])
})},_generateHTML:function(e){var t,i,n,s,r,a,o,l,d,u,c,h,f,p,m,_,g,v,y,b,w,x,k,D,T,M,C,A,E,S,N,O,L,F,H,$,I,j,z,P=new Date,Y=this._daylightSavingAdjust(new Date(P.getFullYear(),P.getMonth(),P.getDate())),R=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),X=this._get(e,"showCurrentAtPos"),V=this._get(e,"stepMonths"),K=1!==q[0]||1!==q[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-X,et=e.drawYear;if(0>Z&&(Z+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-V,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=W?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+V,1)),this._getFormatConfig(e)):s,r=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+s+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+s+"</span></a>",a=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?G:Y,a=W?this.formatDate(a,o,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(R?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(R?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),_=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",x=0;x<q[0];x++){for(k="",this.maxRows=4,D=0;D<q[1];D++){if(T=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),M=" ui-corner-all",C="",K){if(C+="<div class='ui-datepicker-group",q[1]>1)switch(D){case 0:C+=" ui-datepicker-group-first",M=" ui-corner-"+(R?"right":"left");break;case q[1]-1:C+=" ui-datepicker-group-last",M=" ui-corner-"+(R?"left":"right");break;default:C+=" ui-datepicker-group-middle",M=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===x?R?r:n:"")+(/all|right/.test(M)&&0===x?R?n:r:"")+this._generateMonthYearHeader(e,Z,et,Q,J,x>0||D>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)E=(w+u)%7,A+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E]+"'>"+f[E]+"</span></th>";for(C+=A+"</tr></thead><tbody>",S=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),N=(this._getFirstDayOfMonth(et,Z)-u+7)%7,O=Math.ceil((N+S)/7),L=K&&this.maxRows>O?this.maxRows:O,this.maxRows=L,F=this._daylightSavingAdjust(new Date(et,Z,1-N)),H=0;L>H;H++){for(C+="<tr>",$=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",w=0;7>w;w++)I=_?_.apply(e.input?e.input[0]:null,[F]):[!0,""],j=F.getMonth()!==Z,z=j&&!v||!I[0]||Q&&Q>F||J&&F>J,$+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(F.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===F.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!g?"":" "+I[1]+(F.getTime()===G.getTime()?" "+this._currentClass:"")+(F.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+(j&&!g||!I[2]?"":" title='"+I[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(j&&!g?"&#xa0;":z?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===Y.getTime()?" ui-state-highlight":"")+(F.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);C+=$+"</tr>"}Z++,Z>11&&(Z=0,et++),C+="</tbody></table>"+(K?"</div>"+(q[0]>0&&D===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=C}b+=k}return b+=d,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,i,n,s,r,a,o){var l,d,u,c,h,f,p,m,_=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(r||!_)b+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,d=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!d||u<=s.getMonth())&&(b+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+o[u]+"</option>");b+="</select>"}if(v||(y+=b+(!r&&_&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!g)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},p=f(c[0]),m=Math.max(p,f(c[1]||"")),p=n?Math.max(p,n.getFullYear()):p,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),v&&(y+=(!r&&_&&g?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,r)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(0>t?t:s[0]*s[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),a=null,o=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(o+=n)),(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!a||t.getFullYear()>=a)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e){function t(e,t,i){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:i;default:throw new Error("Implement me")}}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(e,t){function i(){ht.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var n=!0;return d(function(){return n&&(i(),n=!1),t.apply(this,arguments)},t)}function s(e,t){return function(i){return h(e.call(this,i),t)}}function r(e,t){return function(i){return this.lang().ordinal(e.call(this,i),t)}}function a(){}function o(e){T(e),d(this,e)}function l(e){var t=v(e),i=t.year||0,n=t.quarter||0,s=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*o,this._days=+a+7*r,this._months=+s+3*n+12*i,this._data={},this._bubble()}function d(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function u(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&Mt.hasOwnProperty(t)&&(i[t]=e[t]);return i}function c(e){return 0>e?Math.ceil(e):Math.floor(e)}function h(e,t,i){for(var n=""+Math.abs(e),s=e>=0;n.length<t;)n="0"+n;return(s?i?"+":"":"-")+n}function f(e,t,i,n){var s=t._milliseconds,r=t._days,a=t._months;n=null==n?!0:n,s&&e._d.setTime(+e._d+s*i),r&&ot(e,"Date",at(e,"Date")+r*i),a&&rt(e,at(e,"Month")+a*i),n&&ht.updateOffset(e,r||a)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function _(e,t,i){var n,s=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;s>n;n++)(i&&e[n]!==t[n]||!i&&b(e[n])!==b(t[n]))&&a++;return a+r}function g(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ti[e]||ii[t]||t}return e}function v(e){var t,i,n={};for(i in e)e.hasOwnProperty(i)&&(t=g(i),t&&(n[t]=e[i]));return n}function y(t){var i,n;if(0===t.indexOf("week"))i=7,n="day";else{if(0!==t.indexOf("month"))return;i=12,n="month"}ht[t]=function(s,r){var a,o,l=ht.fn._lang[t],d=[];if("number"==typeof s&&(r=s,s=e),o=function(e){var t=ht().utc().set(n,e);return l.call(ht.fn._lang,t,s||"")},null!=r)return o(r);for(a=0;i>a;a++)d.push(o(a));return d}}function b(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function x(e,t,i){return tt(ht([e,11,31+t-i]),t,i).week}function k(e){return D(e)?366:365}function D(e){return e%4===0&&e%100!==0||e%400===0}function T(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[yt]<0||e._a[yt]>11?yt:e._a[bt]<1||e._a[bt]>w(e._a[vt],e._a[yt])?bt:e._a[wt]<0||e._a[wt]>23?wt:e._a[xt]<0||e._a[xt]>59?xt:e._a[kt]<0||e._a[kt]>59?kt:e._a[Dt]<0||e._a[Dt]>999?Dt:-1,e._pf._overflowDayOfYear&&(vt>t||t>bt)&&(t=bt),e._pf.overflow=t)}function M(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function C(e){return e?e.toLowerCase().replace("_","-"):e}function A(e,t){return t._isUTC?ht(e).zone(t._offset||0):ht(e).local()}function E(e,t){return t.abbr=e,Tt[e]||(Tt[e]=new a),Tt[e].set(t),Tt[e]}function S(e){delete Tt[e]}function N(e){var t,i,n,s,r=0,a=function(e){if(!Tt[e]&&Ct)try{require("./lang/"+e)}catch(t){}return Tt[e]};if(!e)return ht.fn._lang;if(!p(e)){if(i=a(e))return i;e=[e]}for(;r<e.length;){for(s=C(e[r]).split("-"),t=s.length,n=C(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=a(s.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(s,n,!0)>=t-1)break;t--}r++}return ht.fn._lang}function O(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,i,n=e.match(Nt);for(t=0,i=n.length;i>t;t++)n[t]=oi[n[t]]?oi[n[t]]:O(n[t]);return function(s){var r="";for(t=0;i>t;t++)r+=n[t]instanceof Function?n[t].call(s,e):n[t];return r}}function F(e,t){return e.isValid()?(t=H(t,e.lang()),ni[t]||(ni[t]=L(t)),ni[t](e)):e.lang().invalidDate()}function H(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Ot.lastIndex=0;n>=0&&Ot.test(e);)e=e.replace(Ot,i),Ot.lastIndex=0,n-=1;return e}function $(e,t){var i,n=t._strict;switch(e){case"Q":return Bt;case"DDDD":return Wt;case"YYYY":case"GGGG":case"gggg":return n?qt:Ht;case"Y":case"G":case"g":return Vt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Xt:$t;case"S":if(n)return Bt;case"SS":if(n)return Ut;case"SSS":if(n)return Wt;case"DDD":return Ft;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return jt;case"a":case"A":return N(t._l)._meridiemParse;case"X":return Yt;case"Z":case"ZZ":return zt;case"T":return Pt;case"SSSS":return It;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Ut:Lt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Lt;case"Do":return Rt;default:return i=new RegExp(W(U(e.replace("\\","")),"i"))}}function I(e){e=e||"";var t=e.match(zt)||[],i=t[t.length-1]||[],n=(i+"").match(Zt)||["-",0,0],s=+(60*n[1])+b(n[2]);return"+"===n[0]?-s:s}function j(e,t,i){var n,s=i._a;switch(e){case"Q":null!=t&&(s[yt]=3*(b(t)-1));break;case"M":case"MM":null!=t&&(s[yt]=b(t)-1);break;case"MMM":case"MMMM":n=N(i._l).monthsParse(t),null!=n?s[yt]=n:i._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(s[bt]=b(t));break;case"Do":null!=t&&(s[bt]=b(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(i._dayOfYear=b(t));break;case"YY":s[vt]=ht.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":s[vt]=b(t);break;case"a":case"A":i._isPm=N(i._l).isPM(t);break;case"H":case"HH":case"h":case"hh":s[wt]=b(t);break;case"m":case"mm":s[xt]=b(t);break;case"s":case"ss":s[kt]=b(t);break;case"S":case"SS":case"SSS":case"SSSS":s[Dt]=b(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=I(t);break;case"dd":case"ddd":case"dddd":n=N(i._l).weekdaysParse(t),null!=n?(i._w=i._w||{},i._w.d=n):i._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(i._w=i._w||{},i._w[e]=b(t));break;case"gg":case"GG":i._w=i._w||{},i._w[e]=ht.parseTwoDigitYear(t)}}function z(e){var i,n,s,r,a,o,l,d;i=e._w,null!=i.GG||null!=i.W||null!=i.E?(a=1,o=4,n=t(i.GG,e._a[vt],tt(ht(),1,4).year),s=t(i.W,1),r=t(i.E,1)):(d=N(e._l),a=d._week.dow,o=d._week.doy,n=t(i.gg,e._a[vt],tt(ht(),a,o).year),s=t(i.w,1),null!=i.d?(r=i.d,a>r&&++s):r=null!=i.e?i.e+a:a),l=it(n,s,r,o,a),e._a[vt]=l.year,e._dayOfYear=l.dayOfYear}function P(e){var i,n,s,r,a=[];if(!e._d){for(s=R(e),e._w&&null==e._a[bt]&&null==e._a[yt]&&z(e),e._dayOfYear&&(r=t(e._a[vt],s[vt]),e._dayOfYear>k(r)&&(e._pf._overflowDayOfYear=!0),n=Q(r,0,e._dayOfYear),e._a[yt]=n.getUTCMonth(),e._a[bt]=n.getUTCDate()),i=0;3>i&&null==e._a[i];++i)e._a[i]=a[i]=s[i];for(;7>i;i++)e._a[i]=a[i]=null==e._a[i]?2===i?1:0:e._a[i];e._d=(e._useUTC?Q:G).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function Y(e){var t;e._d||(t=v(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],P(e))}function R(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function B(e){if(e._f===ht.ISO_8601)return void X(e);e._a=[],e._pf.empty=!0;var t,i,n,s,r,a=N(e._l),o=""+e._i,l=o.length,d=0;for(n=H(e._f,a).match(Nt)||[],t=0;t<n.length;t++)s=n[t],i=(o.match($(s,e))||[])[0],i&&(r=o.substr(0,o.indexOf(i)),r.length>0&&e._pf.unusedInput.push(r),o=o.slice(o.indexOf(i)+i.length),d+=i.length),oi[s]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(s),j(s,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=l-d,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[wt]<12&&(e._a[wt]+=12),e._isPm===!1&&12===e._a[wt]&&(e._a[wt]=0),P(e),T(e)}function U(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s})}function W(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function q(e){var t,n,s,r,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)a=0,t=d({},e),t._pf=i(),t._f=e._f[r],B(t),M(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==s||s>a)&&(s=a,n=t));d(e,n||t)}function X(e){var t,i,n=e._i,s=Kt.exec(n);if(s){for(e._pf.iso=!0,t=0,i=Qt.length;i>t;t++)if(Qt[t][1].exec(n)){e._f=Qt[t][0]+(s[6]||" ");break}for(t=0,i=Jt.length;i>t;t++)if(Jt[t][1].exec(n)){e._f+=Jt[t][0];break}n.match(zt)&&(e._f+="Z"),B(e)}else e._isValid=!1}function V(e){X(e),e._isValid===!1&&(delete e._isValid,ht.createFromInputFallback(e))}function K(t){var i=t._i,n=At.exec(i);i===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof i?V(t):p(i)?(t._a=i.slice(0),P(t)):m(i)?t._d=new Date(+i):"object"==typeof i?Y(t):"number"==typeof i?t._d=new Date(i):ht.createFromInputFallback(t)}function G(e,t,i,n,s,r,a){var o=new Date(e,t,i,n,s,r,a);return 1970>e&&o.setFullYear(e),o}function Q(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function J(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Z(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function et(e,t,i){var n=gt(Math.abs(e)/1e3),s=gt(n/60),r=gt(s/60),a=gt(r/24),o=gt(a/365),l=n<si.s&&["s",n]||1===s&&["m"]||s<si.m&&["mm",s]||1===r&&["h"]||r<si.h&&["hh",r]||1===a&&["d"]||a<=si.dd&&["dd",a]||a<=si.dm&&["M"]||a<si.dy&&["MM",gt(a/30)]||1===o&&["y"]||["yy",o];return l[2]=t,l[3]=e>0,l[4]=i,Z.apply({},l)}function tt(e,t,i){var n,s=i-t,r=i-e.day();return r>s&&(r-=7),s-7>r&&(r+=7),n=ht(e).add("d",r),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function it(e,t,i,n,s){var r,a,o=Q(e,0,1).getUTCDay();return o=0===o?7:o,i=null!=i?i:s,r=s-o+(o>n?7:0)-(s>o?7:0),a=7*(t-1)+(i-s)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:k(e-1)+a}}function nt(t){var i=t._i,n=t._f;return null===i||n===e&&""===i?ht.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=N().preparse(i)),ht.isMoment(i)?(t=u(i),t._d=new Date(+i._d)):n?p(n)?q(t):B(t):K(t),new o(t))}function st(e,t){var i,n;if(1===t.length&&p(t[0])&&(t=t[0]),!t.length)return ht();for(i=t[0],n=1;n<t.length;++n)t[n][e](i)&&(i=t[n]);return i}function rt(e,t){var i;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),w(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function at(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ot(e,t,i){return"Month"===t?rt(e,i):e._d["set"+(e._isUTC?"UTC":"")+t](i)}function lt(e,t){return function(i){return null!=i?(ot(this,e,i),ht.updateOffset(this,t),this):at(this,e)}}function dt(e){ht.duration.fn[e]=function(){return this._data[e]}}function ut(e,t){ht.duration.fn["as"+e]=function(){return+this/t}}function ct(e){"undefined"==typeof ender&&(ft=_t.moment,_t.moment=e?n("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ht):ht)}for(var ht,ft,pt,mt="2.7.0",_t="undefined"!=typeof global?global:this,gt=Math.round,vt=0,yt=1,bt=2,wt=3,xt=4,kt=5,Dt=6,Tt={},Mt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Ct="undefined"!=typeof module&&module.exports,At=/^\/?Date\((\-?\d+)/i,Et=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,St=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ot=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Lt=/\d\d?/,Ft=/\d{1,3}/,Ht=/\d{1,4}/,$t=/[+\-]?\d{1,6}/,It=/\d+/,jt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,zt=/Z|[\+\-]\d\d:?\d\d/gi,Pt=/T/i,Yt=/[\+\-]?\d+(\.\d{1,3})?/,Rt=/\d{1,2}/,Bt=/\d/,Ut=/\d\d/,Wt=/\d{3}/,qt=/\d{4}/,Xt=/[+-]?\d{6}/,Vt=/[+-]?\d+/,Kt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gt="YYYY-MM-DDTHH:mm:ssZ",Qt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Jt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Zt=/([\+\-]|\d\d)/gi,ei=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ti={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ii={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ni={},si={s:45,m:45,h:22,dd:25,dm:45,dy:345},ri="DDD w W M D d".split(" "),ai="M D H h m s w W".split(" "),oi={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+h(Math.abs(e),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return h(b(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(b(e/60),2)+":"+h(b(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+h(b(e/60),2)+h(b(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},li=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ri.length;)pt=ri.pop(),oi[pt+"o"]=r(oi[pt],pt);for(;ai.length;)pt=ai.pop(),oi[pt+pt]=s(oi[pt],2);for(oi.DDDD=s(oi.DDD,3),d(a.prototype,{set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(i=ht.utc([2e3,t]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(i=ht([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(e,t,i,n):s.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ht=function(t,n,s,r){var a;return"boolean"==typeof s&&(r=s,s=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=s,a._strict=r,a._isUTC=!1,a._pf=i(),nt(a)},ht.suppressDeprecationWarnings=!1,ht.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ht.min=function(){var e=[].slice.call(arguments,0);return st("isBefore",e)},ht.max=function(){var e=[].slice.call(arguments,0);return st("isAfter",e)},ht.utc=function(t,n,s,r){var a;return"boolean"==typeof s&&(r=s,s=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=s,a._i=t,a._f=n,a._strict=r,a._pf=i(),nt(a).utc()},ht.unix=function(e){return ht(1e3*e)},ht.duration=function(e,t){var i,n,s,r=e,a=null;return ht.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(a=Et.exec(e))?(i="-"===a[1]?-1:1,r={y:0,d:b(a[bt])*i,h:b(a[wt])*i,m:b(a[xt])*i,s:b(a[kt])*i,ms:b(a[Dt])*i}):(a=St.exec(e))&&(i="-"===a[1]?-1:1,s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},r={y:s(a[2]),M:s(a[3]),d:s(a[4]),h:s(a[5]),m:s(a[6]),s:s(a[7]),w:s(a[8])}),n=new l(r),ht.isDuration(e)&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},ht.version=mt,ht.defaultFormat=Gt,ht.ISO_8601=function(){},ht.momentProperties=Mt,ht.updateOffset=function(){},ht.relativeTimeThreshold=function(t,i){return si[t]===e?!1:(si[t]=i,!0)},ht.lang=function(e,t){var i;return e?(t?E(C(e),t):null===t?(S(e),e="en"):Tt[e]||N(e),i=ht.duration.fn._lang=ht.fn._lang=N(e),i._abbr):ht.fn._lang._abbr},ht.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),N(e)},ht.isMoment=function(e){return e instanceof o||null!=e&&e.hasOwnProperty("_isAMomentObject")},ht.isDuration=function(e){return e instanceof l},pt=li.length-1;pt>=0;--pt)y(li[pt]);ht.normalizeUnits=function(e){return g(e)},ht.invalid=function(e){var t=ht.utc(0/0);return null!=e?d(t._pf,e):t._pf.userInvalidated=!0,t},ht.parseZone=function(){return ht.apply(null,arguments).parseZone()},ht.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)},d(ht.fn=o.prototype,{clone:function(){return ht(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ht(this).utc();return 0<e.year()&&e.year()<=9999?F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return M(this)},isDSTShifted:function(){return this._a?this.isValid()&&_(this._a,(this._isUTC?ht.utc(this._a):ht(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=F(this,e||ht.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var i;return i="string"==typeof e&&"string"==typeof t?ht.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ht.duration(+t,e):ht.duration(e,t),f(this,i,1),this},subtract:function(e,t){var i;return i="string"==typeof e&&"string"==typeof t?ht.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ht.duration(+t,e):ht.duration(e,t),f(this,i,-1),this},diff:function(e,t,i){var n,s,r=A(e,this),a=6e4*(this.zone()-r.zone());return t=g(t),"year"===t||"month"===t?(n=432e5*(this.daysInMonth()+r.daysInMonth()),s=12*(this.year()-r.year())+(this.month()-r.month()),s+=(this-ht(this).startOf("month")-(r-ht(r).startOf("month")))/n,s-=6e4*(this.zone()-ht(this).startOf("month").zone()-(r.zone()-ht(r).startOf("month").zone()))/n,"year"===t&&(s/=12)):(n=this-r,s="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-a)/864e5:"week"===t?(n-a)/6048e5:n),i?s:c(s)},from:function(e,t){return ht.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ht(),e)},calendar:function(e){var t=e||ht(),i=A(t,this).startOf("day"),n=this.diff(i,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.lang().calendar(s,this))},isLeapYear:function(){return D(this.year())
},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=J(e,this.lang()),this.add({d:e-t})):t},month:lt("Month",!0),startOf:function(e){switch(e=g(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=g(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ht(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ht(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+A(e,this).startOf(t)},min:n("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ht.apply(null,arguments),this>e?this:e}),max:n("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ht.apply(null,arguments),e>this?this:e}),zone:function(e,t){var i=this._offset||0;return null==e?this._isUTC?i:this._d.getTimezoneOffset():("string"==typeof e&&(e=I(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,i!==e&&(!t||this._changeInProgress?f(this,ht.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ht.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ht(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=gt((ht(this).startOf("day")-ht(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=tt(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=tt(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return x(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return x(this.year(),e.dow,e.doy)},get:function(e){return e=g(e),this[e]()},set:function(e,t){return e=g(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=N(t),this)}}),ht.fn.millisecond=ht.fn.milliseconds=lt("Milliseconds",!1),ht.fn.second=ht.fn.seconds=lt("Seconds",!1),ht.fn.minute=ht.fn.minutes=lt("Minutes",!1),ht.fn.hour=ht.fn.hours=lt("Hours",!0),ht.fn.date=lt("Date",!0),ht.fn.dates=n("dates accessor is deprecated. Use date instead.",lt("Date",!0)),ht.fn.year=lt("FullYear",!0),ht.fn.years=n("years accessor is deprecated. Use year instead.",lt("FullYear",!0)),ht.fn.days=ht.fn.day,ht.fn.months=ht.fn.month,ht.fn.weeks=ht.fn.week,ht.fn.isoWeeks=ht.fn.isoWeek,ht.fn.quarters=ht.fn.quarter,ht.fn.toJSON=ht.fn.toISOString,d(ht.duration.fn=l.prototype,{_bubble:function(){var e,t,i,n,s=this._milliseconds,r=this._days,a=this._months,o=this._data;o.milliseconds=s%1e3,e=c(s/1e3),o.seconds=e%60,t=c(e/60),o.minutes=t%60,i=c(t/60),o.hours=i%24,r+=c(i/24),o.days=r%30,a+=c(r/30),o.months=a%12,n=c(a/12),o.years=n},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(e){var t=+this,i=et(t,!e,this.lang());return e&&(i=this.lang().pastFuture(t,i)),this.lang().postformat(i)},add:function(e,t){var i=ht.duration(e,t);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(e,t){var i=ht.duration(e,t);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(e){return e=g(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=g(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ht.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),s=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||s||r?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"}});for(pt in ei)ei.hasOwnProperty(pt)&&(ut(pt,ei[pt]),dt(pt.toLowerCase()));ut("Weeks",6048e5),ht.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ht.lang("en",{ordinal:function(e){var t=e%10,i=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),Ct?module.exports=ht:"function"==typeof define&&define.amd?(define("moment",function(e,t,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(_t.moment=ft),ht}),ct(!0)):ct()}.call(this);var AnyTime={version:"5.0.5",pad:function(e,t){for(var i=String(Math.abs(e));i.length<t;)i="0"+i;return 0>e&&(i="-"+i),i}};if(!function(e){var t=[31,28,31,30,31,30,31,31,30,31,30,31],n=!1,s=[];e.fn.AnyTime_picker=function(e){return this.each(function(){AnyTime.picker(this.id,e)})},e.fn.AnyTime_noPicker=function(){return this.each(function(){AnyTime.noPicker(this.id)})},e.fn.AnyTime_setEarliest=function(e){return this.each(function(){AnyTime.setEarliest(this.id,e)})},e.fn.AnyTime_setLatest=function(e){return this.each(function(){AnyTime.setLatest(this.id,e)})},e.fn.AnyTime_current=function(e,t){e?(this.removeClass("AnyTime-out-btn ui-state-default ui-state-disabled ui-state-highlight"),this.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight")):(this.removeClass("AnyTime-cur-btn ui-state-highlight"),t?this.removeClass("AnyTime-out-btn ui-state-disabled"):this.addClass("AnyTime-out-btn ui-state-disabled"))},e.fn.AnyTime_clickCurrent=function(){this.find(".AnyTime-cur-btn").triggerHandler("click")},e(document).ready(function(){for(var e in s)Array.prototype[e]||s[e].onReady();n=!0}),AnyTime.Converter=function(t){var i=0,n=9,s=9,r=6,a=3,o=Number.MIN_VALUE,l=Number.MIN_VALUE,d=Number.MIN_VALUE,u=-1,c=Number.MIN_VALUE,h=-1,f=!1;this.fmt="%Y-%m-%d %T",this.dAbbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.dNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.eAbbr=["BCE","CE"],this.mAbbr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.mNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.baseYear=null,this.dAt=function(e,t){return e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0)},this.format=function(e){var t=new Date(e.getTime());o==Number.MIN_VALUE&&d!=Number.MIN_VALUE&&t.setTime(t.getTime()+6e4*t.getTimezoneOffset()+6e4*d);for(var n,s="",r=0;i>r;r++)if("%"!=this.fmt.charAt(r))s+=this.fmt.charAt(r);else{var a=this.fmt.charAt(r+1);switch(a){case"a":s+=this.dAbbr[t.getDay()];break;case"B":t.getFullYear()<0&&(s+=this.eAbbr[0]);break;case"b":s+=this.mAbbr[t.getMonth()];break;case"C":t.getFullYear()>0&&(s+=this.eAbbr[1]);break;case"c":s+=t.getMonth()+1;break;case"d":n=t.getDate(),10>n&&(s+="0"),s+=String(n);break;case"D":if(n=String(t.getDate()),s+=n,2==n.length&&"1"==n.charAt(0))s+="th";else switch(n.charAt(n.length-1)){case"1":s+="st";break;case"2":s+="nd";break;case"3":s+="rd";break;default:s+="th"}break;case"E":s+=this.eAbbr[t.getFullYear()<0?0:1];break;case"e":s+=t.getDate();break;case"H":n=t.getHours(),10>n&&(s+="0"),s+=String(n);break;case"h":case"I":n=t.getHours()%12,0==n?s+="12":(10>n&&(s+="0"),s+=String(n));break;case"i":n=t.getMinutes(),10>n&&(s+="0"),s+=String(n);break;case"k":s+=t.getHours();break;case"l":n=t.getHours()%12,s+=0==n?"12":String(n);break;case"M":s+=this.mNames[t.getMonth()];break;case"m":n=t.getMonth()+1,10>n&&(s+="0"),s+=String(n);break;case"p":s+=t.getHours()<12?"AM":"PM";break;case"r":n=t.getHours()%12,0==n?s+="12:":(10>n&&(s+="0"),s+=String(n)+":"),n=t.getMinutes(),10>n&&(s+="0"),s+=String(n)+":",n=t.getSeconds(),10>n&&(s+="0"),s+=String(n),s+=t.getHours()<12?"AM":"PM";break;case"S":case"s":n=t.getSeconds(),10>n&&(s+="0"),s+=String(n);break;case"T":n=t.getHours(),10>n&&(s+="0"),s+=String(n)+":",n=t.getMinutes(),10>n&&(s+="0"),s+=String(n)+":",n=t.getSeconds(),10>n&&(s+="0"),s+=String(n);break;case"W":s+=this.dNames[t.getDay()];break;case"w":s+=t.getDay();break;case"Y":s+=AnyTime.pad(t.getFullYear(),4);break;case"y":n=t.getFullYear()%100,s+=AnyTime.pad(n,2);break;case"Z":s+=AnyTime.pad(Math.abs(t.getFullYear()),4);break;case"z":s+=Math.abs(t.getFullYear());break;case"%":s+="%";break;case"#":n=o!=Number.MIN_VALUE?o:d==Number.MIN_VALUE?0-t.getTimezoneOffset():d,n>=0&&(s+="+"),s+=n;break;case"@":if(n=o!=Number.MIN_VALUE?o:d==Number.MIN_VALUE?0-t.getTimezoneOffset():d,AnyTime.utcLabel&&AnyTime.utcLabel[n]){s+=u>0&&u<AnyTime.utcLabel[n].length?AnyTime.utcLabel[n][u]:AnyTime.utcLabel[n][0];break}s+="UTC",a=":";case"+":case"-":case":":case";":n=o!=Number.MIN_VALUE?o:d==Number.MIN_VALUE?0-t.getTimezoneOffset():d,s+=0>n?"-":"+",n=Math.abs(n),s+="+"==a||":"==a?AnyTime.pad(Math.floor(n/60),2):Math.floor(n/60),(":"==a||";"==a)&&(s+=":"),s+=AnyTime.pad(n%60,2);break;case"f":case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+a+" not implemented by AnyTime.Converter";default:s+=this.fmt.substr(r,2)}r++}return s},this.getUtcParseOffsetCaptured=function(){return l},this.getUtcParseOffsetSubIndex=function(){return h},this.parse=function(e){l=c,h=-1;for(var t,o,d,u,p,m=1,_=new Date(4,0,1,0,0,0,0),g=e.length,v=0,y=1,b=c,w=0;i>w;w++)if("%"==this.fmt.charAt(w)){var x=this.fmt.charAt(w+1);switch(x){case"a":for(o=!1,u=0;g>v+u;u++){for(d=e.substr(v,u),t=0;12>t;t++)if(this.dAbbr[t]==d){o=!0,v+=u;break}if(o)break}if(!o)throw"unknown weekday: "+e.substr(v);break;case"B":u=this.eAbbr[0].length,g>=v+u&&e.substr(v,u)==this.eAbbr[0]&&(m=-1,v+=u);break;case"b":for(o=!1,u=0;g>v+u;u++){for(d=e.substr(v,u),t=0;12>t;t++)if(this.mAbbr[t]==d){_.setMonth(t),o=!0,v+=u;break}if(o)break}if(!o)throw"unknown month: "+e.substr(v);break;case"C":u=this.eAbbr[1].length,g>=v+u&&e.substr(v,u)==this.eAbbr[1]&&(v+=u);break;case"c":g>v+1&&this.dAt(e,v+1)?(_.setMonth((Number(e.substr(v,2))-1)%12),v+=2):(_.setMonth((Number(e.substr(v,1))-1)%12),v++);break;case"D":g>v+1&&this.dAt(e,v+1)?(_.setDate(Number(e.substr(v,2))),v+=4):(_.setDate(Number(e.substr(v,1))),v+=3);break;case"d":_.setDate(Number(e.substr(v,2))),v+=2;break;case"E":if(u=this.eAbbr[0].length,g>=v+u&&e.substr(v,u)==this.eAbbr[0])m=-1,v+=u;else{if(!(v+(u=this.eAbbr[1].length)<=g&&e.substr(v,u)==this.eAbbr[1]))throw"unknown era: "+e.substr(v);v+=u}break;case"e":g>v+1&&this.dAt(e,v+1)?(_.setDate(Number(e.substr(v,2))),v+=2):(_.setDate(Number(e.substr(v,1))),v++);break;case"f":v+=6;break;case"H":_.setHours(Number(e.substr(v,2))),v+=2;break;case"h":case"I":_.setHours(Number(e.substr(v,2))),v+=2;break;case"i":_.setMinutes(Number(e.substr(v,2))),v+=2;break;case"k":g>v+1&&this.dAt(e,v+1)?(_.setHours(Number(e.substr(v,2))),v+=2):(_.setHours(Number(e.substr(v,1))),v++);break;case"l":g>v+1&&this.dAt(e,v+1)?(_.setHours(Number(e.substr(v,2))),v+=2):(_.setHours(Number(e.substr(v,1))),v++);break;case"M":for(o=!1,u=a;g>=v+u&&!(u>s);u++){for(d=e.substr(v,u),t=0;12>t;t++)if(this.mNames[t]==d){_.setMonth(t),o=!0,v+=u;break}if(o)break}break;case"m":_.setMonth((Number(e.substr(v,2))-1)%12),v+=2;break;case"p":12==_.getHours()?"A"==e.charAt(v)&&_.setHours(0):"P"==e.charAt(v)&&_.setHours(_.getHours()+12),v+=2;break;case"r":_.setHours(Number(e.substr(v,2))),_.setMinutes(Number(e.substr(v+3,2))),_.setSeconds(Number(e.substr(v+6,2))),12==_.getHours()?"A"==e.charAt(v+8)&&_.setHours(0):"P"==e.charAt(v+8)&&_.setHours(_.getHours()+12),v+=10;break;case"S":case"s":_.setSeconds(Number(e.substr(v,2))),v+=2;break;case"T":_.setHours(Number(e.substr(v,2))),_.setMinutes(Number(e.substr(v+3,2))),_.setSeconds(Number(e.substr(v+6,2))),v+=8;break;case"W":for(o=!1,u=r;g>=v+u&&!(u>n);u++){for(d=e.substr(v,u),t=0;7>t;t++)if(this.dNames[t]==d){o=!0,v+=u;break}if(o)break}break;case"w":v+=1;break;case"Y":t=4,"-"==e.substr(v,1)&&t++,_.setFullYear(Number(e.substr(v,t))),v+=t;break;case"y":t=2,"-"==e.substr(v,1)&&t++,p=Number(e.substr(v,t)),p+="number"==typeof this.baseYear?this.baseYear:70>p?2e3:1900,_.setFullYear(p),v+=t;break;case"Z":_.setFullYear(Number(e.substr(v,4))),v+=4;break;case"z":for(t=0;g>v&&this.dAt(e,v);)t=10*t+Number(e.charAt(v++));_.setFullYear(t);break;case"#":for("-"==e.charAt(v++)&&(y=-1),b=0;g>v&&String(t=Number(e.charAt(v)))==e.charAt(v);v++)b=10*b+t;b*=y;break;case"@":if(h=-1,AnyTime.utcLabel){o=!1;for(b in AnyTime.utcLabel)if(!Array.prototype[b]){for(t=0;t<AnyTime.utcLabel[b].length;t++)if(d=AnyTime.utcLabel[b][t],u=d.length,g>=v+u&&e.substr(v,u)==d){v+=u,o=!0;break}if(o)break}if(o){h=t,b=Number(b);break}}if(g>v+9||"UTC"!=e.substr(v,3))throw"unknown time zone: "+e.substr(v);v+=3,x=":";case"-":case"+":case":":case";":"-"==e.charAt(v++)&&(y=-1),b=Number(e.charAt(v)),("+"==x||":"==x||g>v+3&&String(Number(e.charAt(v+3)))!==e.charAt(v+3))&&(b=10*b+Number(e.charAt(++v))),b*=60,(":"==x||";"==x)&&v++,b=(b+Number(e.substr(++v,2)))*y,v+=2;break;case"j":case"U":case"u":case"V":case"v":case"X":case"x":throw"%"+this.fmt.charAt(w+1)+" not implemented by AnyTime.Converter";case"%":default:throw"%"+this.fmt.charAt(w+1)+" reserved for future use"}w++}else{if(this.fmt.charAt(w)!=e.charAt(v))throw e+' is not in "'+this.fmt+'" format';v++}return 0>m&&_.setFullYear(0-_.getFullYear()),b!=Number.MIN_VALUE&&(f?l=b:_.setTime(_.getTime()-6e4*b-6e4*_.getTimezoneOffset())),_},this.setUtcFormatOffsetAlleged=function(e){var t=o;return o=e,t},this.setUtcFormatOffsetSubIndex=function(e){var t=u;return u=e,t},function(o){var l,u;if(t=jQuery.extend(!0,{},t||{}),t.baseYear&&(o.baseYear=Number(t.baseYear)),t.format&&(o.fmt=t.format),i=o.fmt.length,t.dayAbbreviations&&(o.dAbbr=e.makeArray(t.dayAbbreviations)),t.dayNames)for(o.dNames=e.makeArray(t.dayNames),n=1,r=1e3,l=0;7>l;l++)u=o.dNames[l].length,u>n&&(n=u),r>u&&(r=u);if(t.eraAbbreviations&&(o.eAbbr=e.makeArray(t.eraAbbreviations)),t.monthAbbreviations&&(o.mAbbr=e.makeArray(t.monthAbbreviations)),t.monthNames)for(o.mNames=e.makeArray(t.monthNames),s=1,a=1e3,l=0;12>l;l++)u=o.mNames[l].length,u>s&&(s=u),a>u&&(a=u);"undefined"!=typeof t.utcFormatOffsetImposed&&(d=t.utcFormatOffsetImposed),"undefined"!=typeof t.utcParseOffsetAssumed&&(c=t.utcParseOffsetAssumed),t.utcParseOffsetCapture&&(f=!0)}(this)},AnyTime.noPicker=function(e){s[e]&&(s[e].cleanup(),delete s[e])},AnyTime.picker=function(r,a){if(s[r])throw'Cannot create another AnyTime.picker for "'+r+'"';var o=null;s[r]={twelveHr:!1,ajaxOpts:null,denyTab:!0,askEra:!1,cloak:null,conv:null,div:null,dB:null,dD:null,dY:null,dMo:null,dDoM:null,hDoM:null,hMo:null,hTitle:null,hY:null,dT:null,dH:null,dM:null,dS:null,dO:null,earliest:null,fBtn:null,fDOW:0,hBlur:null,hClick:null,hFocus:null,hKeydown:null,hKeypress:null,hResize:null,id:null,inp:null,latest:null,lastAjax:null,lostFocus:!1,lX:"X",lY:"Year",lO:"Time Zone",oBody:null,oConv:null,oCur:null,oDiv:null,oLab:null,oList:null,oSel:null,offMin:Number.MIN_VALUE,offSI:-1,offStr:"",pop:!0,ro:!1,time:null,url:null,yAhead:null,y0XXX:null,yCur:null,yDiv:null,yLab:null,yNext:null,yPast:null,yPrior:null,initialize:function(i){if(o=this,this.id="AnyTime--"+i.replace(/[^-_.A-Za-z0-9]/g,"--AnyTime--"),a=jQuery.extend(!0,{},a||{}),a.utcParseOffsetCapture=!0,this.conv=new AnyTime.Converter(a),a.placement)if("inline"==a.placement)this.pop=!1;else if("popup"!=a.placement)throw"unknown placement: "+a.placement;if(a.ajaxOptions&&(this.ajaxOpts=jQuery.extend({},a.ajaxOptions),this.ajaxOpts.success||(this.ajaxOpts.success=function(e){o.updVal(e)})),a.earliest&&(this.earliest="function"==typeof a.earliest.getTime?a.earliest.getTime():this.conv.parse(a.earliest.toString())),a.firstDOW){if(a.firstDOW<0||a.firstDOW>6)throw new Exception("illegal firstDOW: "+a.firstDOW);this.fDOW=a.firstDOW}a.latest&&(this.latest="function"==typeof a.latest.getTime?a.latest.getTime():this.conv.parse(a.latest.toString())),this.lX=a.labelDismiss||"X",this.lY=a.labelYear||"Year",this.lO=a.labelTimeZone||"Time Zone";var s,r,l,d=0,u=this.conv.fmt;this.askEra="undefined"!=typeof a.askEra?a.askEra:u.indexOf("%B")>=0||u.indexOf("%C")>=0||u.indexOf("%E")>=0;var c=u.indexOf("%Y")>=0||u.indexOf("%y")>=0||u.indexOf("%Z")>=0||u.indexOf("%z")>=0,h=u.indexOf("%b")>=0||u.indexOf("%c")>=0||u.indexOf("%M")>=0||u.indexOf("%m")>=0,f=u.indexOf("%D")>=0||u.indexOf("%d")>=0||u.indexOf("%e")>=0,p=c||h||f;this.twelveHr=u.indexOf("%h")>=0||u.indexOf("%I")>=0||u.indexOf("%l")>=0||u.indexOf("%r")>=0;var m=this.twelveHr||u.indexOf("%H")>=0||u.indexOf("%k")>=0||u.indexOf("%T")>=0,_=u.indexOf("%i")>=0||u.indexOf("%r")>=0||u.indexOf("%T")>=0,g=u.indexOf("%r")>=0||u.indexOf("%S")>=0||u.indexOf("%s")>=0||u.indexOf("%T")>=0;g&&"undefined"!=typeof a.askSecond&&(g=a.askSecond);var v=u.indexOf("%#")>=0||u.indexOf("%+")>=0||u.indexOf("%-")>=0||u.indexOf("%:")>=0||u.indexOf("%;")>=0||u.indexOf("%<")>=0||u.indexOf("%>")>=0||u.indexOf("%@")>=0,y=m||_||g||v;v&&(this.oConv=new AnyTime.Converter({format:a.formatUtcOffset||u.match(/\S*%[-+:;<>#@]\S*/g).join(" ")})),this.inp=e(document.getElementById(i)),this.ro=this.inp.prop("readonly"),this.inp.prop("readonly",!0),this.div=e('<div class="AnyTime-win AnyTime-pkr ui-widget ui-widget-content ui-corner-all" id="'+this.id+'" aria-live="off"></div>'),this.inp.after(this.div),this.hTitle=e('<h5 class="AnyTime-hdr ui-widget-header ui-corner-top"/>'),this.div.append(this.hTitle),this.dB=e('<div class="AnyTime-body"></div>'),this.div.append(this.dB),a.hideInput&&this.inp.css({border:0,height:"1px",margin:0,padding:0,width:"1px"}),r=null;var b=null;if(this.pop&&(b=e('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>"),this.hTitle.append(b),b.click(function(e){o.dismiss(e)})),l="",p){if(this.dD=e('<div class="AnyTime-date"></div>'),this.dB.append(this.dD),c&&(this.yLab=e('<h6 class="AnyTime-lbl AnyTime-lbl-yr">'+this.lY+"</h6>"),this.dD.append(this.yLab),this.dY=e('<ul class="AnyTime-yrs ui-helper-reset" />'),this.dD.append(this.dY),this.yPast=this.btn(this.dY,"&lt;",this.newYear,["yrs-past"],"- "+this.lY),this.yPrior=this.btn(this.dY,"1",this.newYear,["yr-prior"],"-1 "+this.lY),this.yCur=this.btn(this.dY,"2",this.newYear,["yr-cur"],this.lY),this.yCur.removeClass("ui-state-default"),this.yCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.yNext=this.btn(this.dY,"3",this.newYear,["yr-next"],"+1 "+this.lY),this.yAhead=this.btn(this.dY,"&gt;",this.newYear,["yrs-ahead"],"+ "+this.lY),d++),h){for(l=a.labelMonth||"Month",this.hMo=e('<h6 class="AnyTime-lbl AnyTime-lbl-month">'+l+"</h6>"),this.dD.append(this.hMo),this.dMo=e('<ul class="AnyTime-mons" />'),this.dD.append(this.dMo),s=0;12>s;s++){var w=this.btn(this.dMo,this.conv.mAbbr[s],function(i){var n=e(i.target);if(!n.hasClass("AnyTime-out-btn")){var s=i.target.AnyTime_month,r=new Date(this.time.getTime());r.getDate()>t[s]&&r.setDate(t[s]),r.setMonth(s),this.set(r),this.upd(n)}},["mon","mon"+String(s+1)],l+" "+this.conv.mNames[s]);w[0].AnyTime_month=s}d++}if(f){l=a.labelDayOfMonth||"Day of Month",this.hDoM=e('<h6 class="AnyTime-lbl AnyTime-lbl-dom">'+l+"</h6>"),this.dD.append(this.hDoM),this.dDoM=e('<table border="0" cellpadding="0" cellspacing="0" class="AnyTime-dom-table"/>'),this.dD.append(this.dDoM),r=e('<thead class="AnyTime-dom-head"/>'),this.dDoM.append(r);var x=e('<tr class="AnyTime-dow"/>');for(r.append(x),s=0;7>s;s++)x.append('<th class="AnyTime-dow AnyTime-dow'+String(s+1)+'">'+this.conv.dAbbr[(this.fDOW+s)%7]+"</th>");var k=e('<tbody class="AnyTime-dom-body" />');this.dDoM.append(k);for(var D=0;6>D;D++)for(x=e('<tr class="AnyTime-wk AnyTime-wk'+String(D+1)+'"/>'),k.append(x),s=0;7>s;s++)this.btn(x,"x",function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=Number(i.html());if(n){var s=new Date(this.time.getTime());s.setDate(n),this.set(s),this.upd(i)}}},["dom"],l);d++}}if(y){var T,M;if(this.dT=e('<div class="AnyTime-time"></div>'),this.dB.append(this.dT),m){this.dH=e('<div class="AnyTime-hrs"></div>'),this.dT.append(this.dH),l=a.labelHour||"Hour",this.dH.append(e('<h6 class="AnyTime-lbl AnyTime-lbl-hr">'+l+"</h6>"));var C=e('<ul class="AnyTime-hrs-am"/>');this.dH.append(C);var A=e('<ul class="AnyTime-hrs-pm"/>');for(this.dH.append(A),s=0;12>s;s++)r=this.twelveHr?0==s?"12am":String(s)+"am":AnyTime.pad(s,2),this.btn(C,r,this.newHour,["hr","hr"+String(s)],l+" "+r),r=this.twelveHr?0==s?"12pm":String(s)+"pm":s+12,this.btn(A,r,this.newHour,["hr","hr"+String(s+12)],l+" "+r);d++}if(_){for(this.dM=e('<div class="AnyTime-mins"></div>'),this.dT.append(this.dM),l=a.labelMinute||"Minute",this.dM.append(e('<h6 class="AnyTime-lbl AnyTime-lbl-min">'+l+"</h6>")),T=e('<ul class="AnyTime-mins-tens"/>'),this.dM.append(T),s=0;6>s;s++)this.btn(T,s,function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=new Date(this.time.getTime());n.setMinutes(10*Number(i.text())+this.time.getMinutes()%10),this.set(n),this.upd(i)}},["min-ten","min"+s+"0"],l+" "+s+"0");for(;12>s;s++)this.btn(T,"&#160;",e.noop,["min-ten","min"+s+"0"],l+" "+s+"0").addClass("AnyTime-min-ten-btn-empty ui-state-default ui-state-disabled");for(M=e('<ul class="AnyTime-mins-ones"/>'),this.dM.append(M),s=0;10>s;s++)this.btn(M,s,function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=new Date(this.time.getTime());n.setMinutes(10*Math.floor(this.time.getMinutes()/10)+Number(i.text())),this.set(n),this.upd(i)}},["min-one","min"+s],l+" "+s);for(;12>s;s++)this.btn(M,"&#160;",e.noop,["min-one","min"+s+"0"],l+" "+s).addClass("AnyTime-min-one-btn-empty ui-state-default ui-state-disabled");d++}if(g){for(this.dS=e('<div class="AnyTime-secs"></div>'),this.dT.append(this.dS),l=a.labelSecond||"Second",this.dS.append(e('<h6 class="AnyTime-lbl AnyTime-lbl-sec">'+l+"</h6>")),T=e('<ul class="AnyTime-secs-tens"/>'),this.dS.append(T),s=0;6>s;s++)this.btn(T,s,function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=new Date(this.time.getTime());n.setSeconds(10*Number(i.text())+this.time.getSeconds()%10),this.set(n),this.upd(i)}},["sec-ten","sec"+s+"0"],l+" "+s+"0");for(;12>s;s++)this.btn(T,"&#160;",e.noop,["sec-ten","sec"+s+"0"],l+" "+s+"0").addClass("AnyTime-sec-ten-btn-empty ui-state-default ui-state-disabled");for(M=e('<ul class="AnyTime-secs-ones"/>'),this.dS.append(M),s=0;10>s;s++)this.btn(M,s,function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=new Date(this.time.getTime());n.setSeconds(10*Math.floor(this.time.getSeconds()/10)+Number(i.text())),this.set(n),this.upd(i)}},["sec-one","sec"+s],l+" "+s);for(;12>s;s++)this.btn(M,"&#160;",e.noop,["sec-one","sec"+s+"0"],l+" "+s).addClass("AnyTime-sec-one-btn-empty ui-state-default ui-state-disabled");d++}v&&(this.dO=e('<div class="AnyTime-offs" ></div>'),this.dT.append("<br />"),this.dT.append(this.dO),this.oList=e('<ul class="AnyTime-off-list ui-helper-reset" />'),this.dO.append(this.oList),this.oCur=this.btn(this.oList,"",this.newOffset,["off","off-cur"],l),this.oCur.removeClass("ui-state-default"),this.oCur.addClass("AnyTime-cur-btn ui-state-default ui-state-highlight"),this.oSel=this.btn(this.oList,"&#177;",this.newOffset,["off","off-select"],"+/- "+this.lO),this.oMinW=this.dO.outerWidth(!0),this.oLab=e('<h6 class="AnyTime-lbl AnyTime-lbl-off">'+this.lO+"</h6>"),this.dO.prepend(this.oLab),d++)}this.hTitle.append(a.labelTitle?a.labelTitle:d>1?"Select a "+(p?y?"Date and Time":"Date":"Time"):"Select");try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex()}catch(E){this.time=new Date}this.lastAjax=this.time,this.pop&&(this.div.hide(),this.div.css("position","absolute")),this.inp.blur(this.hBlur=function(e){o.inpBlur(e)}),this.inp.click(this.hClick=function(e){o.showPkr(e)}),this.inp.focus(this.hFocus=function(e){o.lostFocus&&o.showPkr(e),o.lostFocus=!1}),this.inp.keydown(this.hKeydown=function(e){o.key(e)}),this.inp.keypress(this.hKeypress=function(){}),this.div.click(function(){o.lostFocus=!1,o.inp.focus()}),e(window).resize(this.hResize=function(e){o.pos(e)}),n&&this.onReady()},ajax:function(){if(this.ajaxOpts&&this.time.getTime()!=this.lastAjax.getTime())try{var t=jQuery.extend({},this.ajaxOpts);if("object"==typeof t.data)t.data[this.inp[0].name||this.inp[0].id]=this.inp.val();else{var i=(this.inp[0].name||this.inp[0].id)+"="+encodeURI(this.inp.val());t.data?t.data+="&"+i:t.data=i}e.ajax(t),this.lastAjax=this.time}catch(n){}},askOffset:function(t){if(this.oDiv)this.cloak.show(),this.oDiv.show();else{this.makeCloak(),this.oDiv=e('<div class="AnyTime-win AnyTime-off-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.oDiv);var i=e('<h5 class="AnyTime-hdr AnyTime-hdr-off-selector ui-widget-header ui-corner-top" />');this.oDiv.append(i),this.oBody=e('<div class="AnyTime-body AnyTime-body-off-selector"></div>'),this.oDiv.append(this.oBody);var n=e('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");i.append(n),n.click(function(e){o.dismissODiv(e)}),i.append(this.lO);var s=e('<ul class="AnyTime-off-off" />'),r=null;this.oBody.append(s);var a=this.oConv.fmt.indexOf("%@")>=0;if(AnyTime.utcLabel)for(var l=-720;720>l;l++)if(AnyTime.utcLabel[l]){this.oConv.setUtcFormatOffsetAlleged(l);for(var d=0;d<AnyTime.utcLabel[l].length&&(this.oConv.setUtcFormatOffsetSubIndex(d),r=this.btn(s,this.oConv.format(this.time),this.newOPos,["off-off"],l),r[0].AnyTime_offMin=l,r[0].AnyTime_offSI=d,a);d++);}if(r&&r.addClass("AnyTime-off-off-last-btn"),this.oDiv.outerHeight(!0)>this.div.height()){var u=this.oBody.width();this.oBody.css("height","0"),this.oBody.css({height:String(this.div.height()-(this.oDiv.outerHeight(!0)+this.oBody.outerHeight(!1)))+"px",width:String(u+20)+"px"})}this.oDiv.outerWidth(!0)>this.div.width()&&(this.oBody.css("width","0"),this.oBody.css("width",String(this.div.width()-(this.oDiv.outerWidth(!0)+this.oBody.outerWidth(!1)))+"px"))}this.pos(t),this.updODiv(null);var c=this.oDiv.find(".AnyTime-off-off-btn.AnyTime-cur-btn:first");c.length||(c=this.oDiv.find(".AnyTime-off-off-btn:first")),this.setFocus(c)},askYear:function(t){if(this.yDiv)this.cloak.show(),this.yDiv.show();else{this.makeCloak(),this.yDiv=e('<div class="AnyTime-win AnyTime-yr-selector ui-widget ui-widget-content ui-corner-all"></div>'),this.div.append(this.yDiv);var n=e('<h5 class="AnyTime-hdr AnyTime-hdr-yr-selector ui-widget-header ui-corner-top" />');this.yDiv.append(n);var s=e('<div class="AnyTime-x-btn ui-state-default">'+this.lX+"</div>");n.append(s),s.click(function(e){o.dismissYDiv(e)}),n.append(this.lY);var r=e('<div class="AnyTime-body AnyTime-body-yr-selector" ></div>');for(this.yDiv.append(r),cont=e('<ul class="AnyTime-yr-mil" />'),r.append(cont),this.y0XXX=this.btn(cont,0,this.newYPos,["mil","mil0"],this.lY+" 0000"),i=1;10>i;i++)this.btn(cont,i,this.newYPos,["mil","mil"+i],this.lY+" "+i+"000");for(cont=e('<ul class="AnyTime-yr-cent" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["cent","cent"+i],this.lY+" "+i+"00");for(cont=e('<ul class="AnyTime-yr-dec" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["dec","dec"+i],this.lY+" "+i+"0");for(cont=e('<ul class="AnyTime-yr-yr" />'),r.append(cont),i=0;10>i;i++)this.btn(cont,i,this.newYPos,["yr","yr"+i],this.lY+" "+i);this.askEra&&(cont=e('<ul class="AnyTime-yr-era" />'),r.append(cont),this.btn(cont,this.conv.eAbbr[0],function(t){var i=new Date(this.time.getTime()),n=i.getFullYear();n>0&&i.setFullYear(0-n),this.set(i),this.updYDiv(e(t.target))},["era","bce"],this.conv.eAbbr[0]),this.btn(cont,this.conv.eAbbr[1],function(t){var i=new Date(this.time.getTime()),n=i.getFullYear();0>n&&i.setFullYear(0-n),this.set(i),this.updYDiv(e(t.target))},["era","ce"],this.conv.eAbbr[1]))}this.pos(t),this.updYDiv(null),this.setFocus(this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn:first"))},inpBlur:function(e){return this.oDiv&&this.oDiv.is(":visible")?void o.inp.focus():(this.lostFocus=!0,void setTimeout(function(){o.lostFocus&&(o.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),o.pop?o.dismiss(e):o.ajax())},334))},btn:function(t,i,n,s,r){for(var a="ul"==t[0].nodeName.toLowerCase()?"li":"td",l="<"+a+' class="AnyTime-btn',d=0;d<s.length;d++)l+=" AnyTime-"+s[d]+"-btn";var u=e(l+' ui-state-default">'+i+"</"+a+">");return t.append(u),u.AnyTime_title=r,u.click(function(e){o.tempFunc=n,o.tempFunc(e)}),u.dblclick(function(t){var i=e(this);i.is(".AnyTime-off-off-btn")?o.dismissODiv(t):i.is(".AnyTime-mil-btn")||i.is(".AnyTime-cent-btn")||i.is(".AnyTime-dec-btn")||i.is(".AnyTime-yr-btn")||i.is(".AnyTime-era-btn")?o.dismissYDiv(t):o.pop&&o.dismiss(t)}),u},cleanup:function(){this.inp.prop("readonly",this.ro).off("blur",this.hBlur).off("click",this.hClick).off("focus",this.hFocus).off("keydown",this.hKeydown).off("keypress",this.hKeypress),e(window).off("resize",this.hResize),this.div.remove()},dismiss:function(){this.ajax(),this.yDiv&&this.dismissYDiv(),this.oDiv&&this.dismissODiv(),this.div.hide(),this.lostFocus=!0},dismissODiv:function(){this.oDiv.hide(),this.cloak.hide(),this.setFocus(this.oCur)},dismissYDiv:function(){this.yDiv.hide(),this.cloak.hide(),this.setFocus(this.yCur)},setFocus:function(e){if(e.hasClass("AnyTime-focus-btn")||(this.div.find(".AnyTime-focus-btn").removeClass("AnyTime-focus-btn ui-state-focus"),this.fBtn=e,e.removeClass("ui-state-default ui-state-highlight"),e.addClass("AnyTime-focus-btn ui-state-default ui-state-highlight ui-state-focus")),e.hasClass("AnyTime-off-off-btn")){var t=this.oBody.offset().top,i=e.offset().top,n=e.outerHeight(!0);t>i-n?this.oBody.scrollTop(i+this.oBody.scrollTop()-(this.oBody.innerHeight()+t)+2*n):i+n>t+this.oBody.innerHeight()&&this.oBody.scrollTop(i+this.oBody.scrollTop()-(t+n))}},key:function(e){var i,n=null,s=this,r=(this.div.find(".AnyTime-focus-btn"),e.keyCode||e.which);if(this.denyTab=!0,16==r);else if(10==r||13==r||27==r)this.oDiv&&this.oDiv.is(":visible")?this.dismissODiv(e):this.yDiv&&this.yDiv.is(":visible")?this.dismissYDiv(e):this.pop&&this.dismiss(e);else if(33==r||9==r&&e.shiftKey){if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==r&&this.dismissODiv(e);else if(this.fBtn.hasClass("AnyTime-mil-btn"))9==r&&this.dismissYDiv(e);else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-mil-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-era-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.parents(".AnyTime-yrs").length){if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn")){if(9==r&&e.shiftKey)return void(this.denyTab=!1);n=new Date(this.time.getTime()),e.shiftKey?n.setFullYear(n.getFullYear()-1):(i=n.getMonth()-1,n.getDate()>t[i]&&n.setDate(t[i]),n.setMonth(i)),this.keyDateChange(n)}else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(n=this.dDoM||this.dMo)n.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn")){if(n=this.dH||this.dDoM||this.dMo)n.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-one-btn"))this.dM.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-sec-ten-btn")){if(n=this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)n.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)
}else if(this.fBtn.hasClass("AnyTime-sec-one-btn"))this.dS.AnyTime_clickCurrent();else if(this.fBtn.hasClass("AnyTime-off-btn"))if(n=this.dS?this.dS.find(".AnyTime-secs-ones"):this.dM?this.dM.find(".AnyTime-mins-ones"):this.dH||this.dDoM||this.dMo)n.AnyTime_clickCurrent();else if(this.dY)this.yCur.triggerHandler("click");else if(9==r)return void(this.denyTab=!1)}else if(34==r||9==r){if(this.fBtn.hasClass("AnyTime-mil-btn"))this.yDiv.find(".AnyTime-cent-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-cent-btn"))this.yDiv.find(".AnyTime-dec-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-dec-btn"))this.yDiv.find(".AnyTime-yr-btn.AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-yr-btn"))n=this.yDiv.find(".AnyTime-era-btn.AnyTime-cur-btn"),n.length?n.triggerHandler("click"):9==r&&this.dismissYDiv(e);else if(this.fBtn.hasClass("AnyTime-era-btn"))9==r&&this.dismissYDiv(e);else if(this.fBtn.hasClass("AnyTime-off-off-btn"))9==r&&this.dismissODiv(e);else if(this.fBtn.parents(".AnyTime-yrs").length){if(n=this.dDoM||this.dMo||this.dH||this.dM||this.dS||this.dO)n.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-mon-btn")){if(n=this.dDoM||this.dH||this.dM||this.dS||this.dO)n.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-dom-btn"))if(9==r){if(n=this.dH||this.dM||this.dS||this.dO,!n)return void(this.denyTab=!1);n.AnyTime_clickCurrent()}else n=new Date(this.time.getTime()),e.shiftKey?n.setFullYear(n.getFullYear()+1):(i=n.getMonth()+1,n.getDate()>t[i]&&n.setDate(t[i]),n.setMonth(i)),this.keyDateChange(n);else if(this.fBtn.hasClass("AnyTime-hr-btn")){if(n=this.dM||this.dS||this.dO)n.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-min-ten-btn"))this.dM.find(".AnyTime-mins-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-min-one-btn")){if(n=this.dS||this.dO)n.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-sec-ten-btn"))this.dS.find(".AnyTime-secs-ones .AnyTime-cur-btn").triggerHandler("click");else if(this.fBtn.hasClass("AnyTime-sec-one-btn")){if(this.dO)this.dO.AnyTime_clickCurrent();else if(9==r)return void(this.denyTab=!1)}else if(this.fBtn.hasClass("AnyTime-off-btn")&&9==r)return void(this.denyTab=!1)}else if(35==r)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?(n=this.yDiv.find(".AnyTime-ce-btn"),n.length||(n=this.yDiv.find(".AnyTime-yr9-btn")),n.triggerHandler("click")):this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(1),n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),e.ctrlKey&&n.setMonth(11),this.keyDateChange(n)):this.dS?this.dS.find(".AnyTime-sec9-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:last").triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yAhead.triggerHandler("click");else if(36==r)this.fBtn.hasClass("AnyTime-mil-btn")||this.fBtn.hasClass("AnyTime-cent-btn")||this.fBtn.hasClass("AnyTime-dec-btn")||this.fBtn.hasClass("AnyTime-yr-btn")||this.fBtn.hasClass("AnyTime-era-btn")?this.yDiv.find(".AnyTime-mil0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(1),e.ctrlKey&&n.setMonth(0),this.keyDateChange(n)):this.dY?this.yCur.triggerHandler("click"):this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dDoM?this.dDoM.find(".AnyTime-dom-btn-filled:first").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click");else if(37==r)this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(n.getDate()-1),this.keyDateChange(n)):this.keyBack();else if(38==r)this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(n.getDate()-7),this.keyDateChange(n)):this.keyBack();else if(39==r)this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(n.getDate()+1),this.keyDateChange(n)):this.keyAhead();else if(40==r)this.fBtn.hasClass("AnyTime-dom-btn")?(n=new Date(this.time.getTime()),n.setDate(n.getDate()+7),this.keyDateChange(n)):this.keyAhead();else{if((86==r||118==r)&&e.ctrlKey)return this.updVal(""),void setTimeout(function(){s.showPkr(null)},100);this.showPkr(null)}e.preventDefault()},keyAhead:function(){this.fBtn.hasClass("AnyTime-mil9-btn")?this.yDiv.find(".AnyTime-cent0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-cent9-btn")?this.yDiv.find(".AnyTime-dec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec9-btn")?this.yDiv.find(".AnyTime-yr0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr9-btn")?this.yDiv.find(".AnyTime-bce-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec9-btn")||(this.fBtn.hasClass("AnyTime-sec50-btn")?this.dS.find(".AnyTime-sec0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min9-btn")?this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min50-btn")?this.dM.find(".AnyTime-min0-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr23-btn")?this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr11-btn")?this.dH.find(".AnyTime-hr12-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon12-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yrs-ahead-btn")?this.dMo?this.dMo.find(".AnyTime-mon1-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr0-btn").triggerHandler("click"):this.dM?this.dM.find(".AnyTime-min00-btn").triggerHandler("click"):this.dS&&this.dS.find(".AnyTime-sec00-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yNext.triggerHandler("click"):this.fBtn.next().triggerHandler("click"))},keyBack:function(){this.fBtn.hasClass("AnyTime-cent0-btn")?this.yDiv.find(".AnyTime-mil9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-dec0-btn")?this.yDiv.find(".AnyTime-cent9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr0-btn")?this.yDiv.find(".AnyTime-dec9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-bce-btn")?this.yDiv.find(".AnyTime-yr9-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-yr-cur-btn")?this.yPrior.triggerHandler("click"):this.fBtn.hasClass("AnyTime-mon1-btn")?this.dY&&this.yCur.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr0-btn")?this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-hr12-btn")?this.dH.find(".AnyTime-hr11-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-min00-btn")?this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-min0-btn")?this.dM.find(".AnyTime-min50-btn").triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec00-btn")?this.dM?this.dM.find(".AnyTime-min9-btn").triggerHandler("click"):this.dH?this.dH.find(".AnyTime-hr23-btn").triggerHandler("click"):this.dDoM?this.dDoM.AnyTime_clickCurrent():this.dMo?this.dMo.find(".AnyTime-mon12-btn").triggerHandler("click"):this.dY&&this.yNext.triggerHandler("click"):this.fBtn.hasClass("AnyTime-sec0-btn")?this.dS.find(".AnyTime-sec50-btn").triggerHandler("click"):this.fBtn.prev().triggerHandler("click")},keyDateChange:function(e){this.fBtn.hasClass("AnyTime-dom-btn")&&(this.set(e),this.upd(null),this.setFocus(this.dDoM.find(".AnyTime-cur-btn")))},makeCloak:function(){this.cloak?this.cloak.show():(this.cloak=e('<div class="AnyTime-cloak"></div>'),this.div.append(this.cloak),this.cloak.click(function(e){o.oDiv&&o.oDiv.is(":visible")?o.dismissODiv(e):o.dismissYDiv(e)}))},newHour:function(t){var i,n,s=e(t.target);if(!s.hasClass("AnyTime-out-btn")){if(this.twelveHr){var r=s.text();n=r.indexOf("a"),0>n?(n=Number(r.substr(0,r.indexOf("p"))),i=12==n?12:n+12):(n=Number(r.substr(0,n)),i=12==n?0:n)}else i=Number(s.text());n=new Date(this.time.getTime()),n.setHours(i),this.set(n),this.upd(s)}},newOffset:function(e){e.target==this.oSel[0]?this.askOffset(e):this.upd(this.oCur)},newOPos:function(t){var i=e(t.target);this.offMin=i[0].AnyTime_offMin,this.offSI=i[0].AnyTime_offSI;var n=new Date(this.time.getTime());this.set(n),this.updODiv(i)},newYear:function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=i.text();if("<"==n||"&lt;"==n)this.askYear(t);else if(">"==n||"&gt;"==n)this.askYear(t);else{var s=new Date(this.time.getTime());s.setFullYear(Number(n)),this.set(s),this.upd(this.yCur)}}},newYPos:function(t){var i=e(t.target);if(!i.hasClass("AnyTime-out-btn")){var n=1,s=this.time.getFullYear();0>s&&(n=-1,s=0-s),s=AnyTime.pad(s,4),s=i.hasClass("AnyTime-mil-btn")?i.html()+s.substring(1,4):i.hasClass("AnyTime-cent-btn")?s.substring(0,1)+i.html()+s.substring(2,4):i.hasClass("AnyTime-dec-btn")?s.substring(0,2)+i.html()+s.substring(3,4):s.substring(0,3)+i.html(),"0000"==s&&(s=1);var r=new Date(this.time.getTime());r.setFullYear(n*s),this.set(r),this.updYDiv(i)}},onReady:function(){this.lostFocus=!0,this.pop?this.div.parent()!=document.body&&this.div.appendTo(document.body):this.upd(null)},pos:function(){if(this.pop){var t=this.inp.offset(),i=e(document.body).outerWidth(!0),n=this.div.outerWidth(!0),s=t.left;s+n>i-20&&(s=i-(n+20));var r=t.top-this.div.outerHeight(!0);0>r&&(r=t.top+this.inp.outerHeight(!0)),this.div.css({top:String(r)+"px",left:String(0>s?0:s)+"px"})}var a=this.div.offset();if(this.oDiv&&this.oDiv.is(":visible")){var o=this.oLab.offset();"absolute"==this.div.css("position")&&(o.top-=a.top,o.left=o.left-a.left,a={top:0,left:0});var l=this.oDiv.outerWidth(!0),d=this.div.outerWidth(!0);o.left+l>a.left+d&&(o.left=a.left+d-l,o.left<2&&(o.left=2));var u=this.oDiv.outerHeight(!0),c=this.div.outerHeight(!0);o.top+=this.oLab.outerHeight(!0),o.top+u>a.top+c&&(o.top=o.top-u),o.top<a.top&&(o.top=a.top),this.oDiv.css({top:o.top+"px",left:o.left+"px"})}else if(this.yDiv&&this.yDiv.is(":visible")){var h=this.yLab.offset();"absolute"==this.div.css("position")&&(h.top-=a.top,h.left=h.left-a.left,a={top:0,left:0}),h.left+=(this.yLab.outerWidth(!0)-this.yDiv.outerWidth(!0))/2,this.yDiv.css({top:h.top+"px",left:h.left+"px"})}this.cloak&&this.cloak.css({top:a.top+"px",left:a.left+"px",height:String(this.div.outerHeight(!0)-2)+"px",width:String(this.div.outerWidth(!0)-2)+"px"})},set:function(e){var t=e.getTime();this.time=this.earliest&&t<this.earliest?new Date(this.earliest):this.latest&&t>this.latest?new Date(this.latest):e},setEarliest:function(e){this.earliest=e,this.set(this.time)},setLatest:function(e){this.latest=e,this.set(this.time)},showPkr:function(e){try{this.time=this.conv.parse(this.inp.val()),this.offMin=this.conv.getUtcParseOffsetCaptured(),this.offSI=this.conv.getUtcParseOffsetSubIndex()}catch(t){this.time=new Date}this.set(this.time),this.upd(null),fBtn=null;var i=".AnyTime-cur-btn:first";this.dDoM?fBtn=this.dDoM.find(i):this.yCur?fBtn=this.yCur:this.dMo?fBtn=this.dMo.find(i):this.dH?fBtn=this.dH.find(i):this.dM?fBtn=this.dM.find(i):this.dS&&(fBtn=this.dS.find(i)),this.setFocus(fBtn),this.pos(e)},upd:function(t){var i=new Date(this.time.getTime());i.setMonth(0,1),i.setHours(0,0,0,0);var n=new Date(this.time.getTime());n.setMonth(11,31),n.setHours(23,59,59,999);var s=this.time.getFullYear();this.earliest&&this.yPast&&(n.setYear(s-2),n.getTime()<this.earliest?this.yPast.addClass("AnyTime-out-btn ui-state-disabled"):this.yPast.removeClass("AnyTime-out-btn ui-state-disabled")),this.yPrior&&(this.yPrior.text(AnyTime.pad(1==s?-1:s-1,4)),this.earliest&&(n.setYear(s-1),n.getTime()<this.earliest?this.yPrior.addClass("AnyTime-out-btn ui-state-disabled"):this.yPrior.removeClass("AnyTime-out-btn ui-state-disabled"))),this.yCur&&this.yCur.text(AnyTime.pad(s,4)),this.yNext&&(this.yNext.text(AnyTime.pad(-1==s?1:s+1,4)),this.latest&&(i.setYear(s+1),i.getTime()>this.latest?this.yNext.addClass("AnyTime-out-btn ui-state-disabled"):this.yNext.removeClass("AnyTime-out-btn ui-state-disabled"))),this.latest&&this.yAhead&&(i.setYear(s+2),i.getTime()>this.latest?this.yAhead.addClass("AnyTime-out-btn ui-state-disabled"):this.yAhead.removeClass("AnyTime-out-btn ui-state-disabled")),i.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear());var r=0;s=this.time.getMonth(),e("#"+this.id+" .AnyTime-mon-btn").each(function(){i.setMonth(r),n.setDate(1),n.setMonth(r+1),n.setDate(0),e(this).AnyTime_current(r==s,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),r++}),i.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear()),i.setMonth(this.time.getMonth()),n.setMonth(this.time.getMonth(),1),s=this.time.getDate();var a=this.time.getMonth(),l=-1,d=i.getDay();this.fDOW>d&&(d+=7);var u=0,c=0;e("#"+this.id+" .AnyTime-wk").each(function(){c=o.fDOW,e(this).children().each(function(){if(c-o.fDOW<7){var t=e(this);0==u&&d>c||i.getMonth()!=a?(t.html("&#160;"),t.removeClass("AnyTime-dom-btn-filled AnyTime-cur-btn ui-state-default ui-state-highlight"),t.addClass("AnyTime-dom-btn-empty"),u?(1==i.getDate()&&0!=c?t.addClass("AnyTime-dom-btn-empty-after-filled"):t.removeClass("AnyTime-dom-btn-empty-after-filled"),i.getDate()<=7?t.addClass("AnyTime-dom-btn-empty-below-filled"):t.removeClass("AnyTime-dom-btn-empty-below-filled"),i.setDate(i.getDate()+1),n.setDate(n.getDate()+1)):(t.addClass("AnyTime-dom-btn-empty-above-filled"),c==d-1?t.addClass("AnyTime-dom-btn-empty-before-filled"):t.removeClass("AnyTime-dom-btn-empty-before-filled")),t.addClass("ui-state-default ui-state-disabled")):((r=i.getDate())==l&&i.setDate(++r),l=r,t.text(r),t.removeClass("AnyTime-dom-btn-empty AnyTime-dom-btn-empty-above-filled AnyTime-dom-btn-empty-before-filled AnyTime-dom-btn-empty-after-filled AnyTime-dom-btn-empty-below-filled ui-state-default ui-state-disabled"),t.addClass("AnyTime-dom-btn-filled ui-state-default"),t.AnyTime_current(r==s,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),i.setDate(r+1),n.setDate(r+1))}c++}),u++}),i.setFullYear(this.time.getFullYear()),n.setFullYear(this.time.getFullYear()),i.setMonth(this.time.getMonth(),this.time.getDate()),n.setMonth(this.time.getMonth(),this.time.getDate());var h=!this.twelveHr,f=this.time.getHours();e("#"+this.id+" .AnyTime-hr-btn").each(function(){var t,s=this.innerHTML;h?t=Number(s):(t=Number(s.substring(0,s.length-2)),"a"==s.charAt(s.length-2)?12==t&&(t=0):12>t&&(t+=12)),i.setHours(t),n.setHours(t),e(this).AnyTime_current(f==t,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),23>t&&i.setHours(i.getHours()+1)}),i.setHours(this.time.getHours()),n.setHours(this.time.getHours(),9);var p=this.time.getMinutes(),m=String(Math.floor(p/10)),_=String(p%10);if(e("#"+this.id+" .AnyTime-min-ten-btn:not(.AnyTime-min-ten-btn-empty)").each(function(){e(this).AnyTime_current(this.innerHTML==m,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),i.getMinutes()<50&&(i.setMinutes(i.getMinutes()+10),n.setMinutes(n.getMinutes()+10))}),i.setMinutes(10*Math.floor(this.time.getMinutes()/10)),n.setMinutes(10*Math.floor(this.time.getMinutes()/10)),e("#"+this.id+" .AnyTime-min-one-btn:not(.AnyTime-min-one-btn-empty)").each(function(){e(this).AnyTime_current(this.innerHTML==_,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),i.setMinutes(i.getMinutes()+1),n.setMinutes(n.getMinutes()+1)}),i.setMinutes(this.time.getMinutes()),n.setMinutes(this.time.getMinutes(),9),p=this.time.getSeconds(),m=String(Math.floor(p/10)),_=String(p%10),e("#"+this.id+" .AnyTime-sec-ten-btn:not(.AnyTime-sec-ten-btn-empty)").each(function(){e(this).AnyTime_current(this.innerHTML==m,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),i.getSeconds()<50&&(i.setSeconds(i.getSeconds()+10),n.setSeconds(n.getSeconds()+10))}),i.setSeconds(10*Math.floor(this.time.getSeconds()/10)),n.setSeconds(10*Math.floor(this.time.getSeconds()/10)),e("#"+this.id+" .AnyTime-sec-one-btn:not(.AnyTime-sec-one-btn-empty)").each(function(){e(this).AnyTime_current(this.innerHTML==_,(!o.earliest||n.getTime()>=o.earliest)&&(!o.latest||i.getTime()<=o.latest)),i.setSeconds(i.getSeconds()+1),n.setSeconds(n.getSeconds()+1)}),this.oConv){this.oConv.setUtcFormatOffsetAlleged(this.offMin),this.oConv.setUtcFormatOffsetSubIndex(this.offSI);var g=this.oConv.format(this.time);this.oCur.html(g)}if(t&&this.setFocus(t),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.div.show(),this.dO){this.oCur.css("width","0");var v=this.dT.width()-this.oMinW;40>v&&(v=40),this.oCur.css("width",String(v)+"px")}this.pop||this.ajax()},updODiv:function(t){var i=!1,n=null;this.oDiv.find(".AnyTime-off-off-btn").each(function(){this.AnyTime_offMin==o.offMin?this.AnyTime_offSI==o.offSI?e(this).AnyTime_current(i=!0,!0):(e(this).AnyTime_current(!1,!0),null==n&&(n=e(this))):e(this).AnyTime_current(!1,!0)}),i||null==n||n.AnyTime_current(!0,!0),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(t)},updYDiv:function(t){var i,n,s=1,r=this.time.getFullYear();0>r&&(s=-1,r=0-r),r=AnyTime.pad(r,4);var a=o.earliest&&new Date(o.earliest).getFullYear(),l=o.latest&&new Date(o.latest).getFullYear();i=0,this.yDiv.find(".AnyTime-mil-btn").each(function(){n=(!o.earliest||s*(i+(0>s?0:999))>=a)&&(!o.latest||l>=s*(i+(s>0?0:999))),e(this).AnyTime_current(this.innerHTML==r.substring(0,1),n),i+=1e3}),i=1e3*Math.floor(r/1e3),this.yDiv.find(".AnyTime-cent-btn").each(function(){n=(!o.earliest||s*(i+(0>s?0:99))>=a)&&(!o.latest||l>=s*(i+(s>0?0:99))),e(this).AnyTime_current(this.innerHTML==r.substring(1,2),n),i+=100}),i=100*Math.floor(r/100),this.yDiv.find(".AnyTime-dec-btn").each(function(){n=(!o.earliest||s*(i+(0>s?0:9))>=a)&&(!o.latest||l>=s*(i+(s>0?0:9))),e(this).AnyTime_current(this.innerHTML==r.substring(2,3),n),i+=10}),i=10*Math.floor(r/10),this.yDiv.find(".AnyTime-yr-btn").each(function(){n=(!o.earliest||s*i>=a)&&(!o.latest||l>=s*i),e(this).AnyTime_current(this.innerHTML==r.substring(3),n),i+=1}),this.yDiv.find(".AnyTime-bce-btn").each(function(){e(this).AnyTime_current(0>s,!o.earliest||o.earliest<0)}),this.yDiv.find(".AnyTime-ce-btn").each(function(){e(this).AnyTime_current(s>0,!o.latest||o.latest>0)}),this.conv.setUtcFormatOffsetAlleged(this.offMin),this.conv.setUtcFormatOffsetSubIndex(this.offSI),this.updVal(this.conv.format(this.time)),this.upd(t)},updVal:function(e){this.inp.val()!=e&&(this.inp.val(e),this.inp.change())}},s[r].initialize(r)},AnyTime.setEarliest=function(e,t){s[e].setEarliest(t)},AnyTime.setLatest=function(e,t){s[e].setLatest(t)}}(jQuery),!function(e,t){"use strict";var i=5;e.fn.rating=function(n){this.each(function(){var s=e(this),r=e.extend({},s.data(),n);r.start=parseInt(r.start,10)||t,r.stop=parseInt(r.stop,10)||r.start+i||t,r.step=parseInt(r.step,10)||t,r=e.extend({},e.fn.rating.defaults,r);for(var a=function(e){var t=h.children();t.eq(e).prevAll(".rating-symbol").addBack().removeClass(r.empty).addClass(r.filled),t.eq(e).nextAll(".rating-symbol").removeClass(r.filled).addClass(r.empty)},o=function(e){return r.start+e*r.step},l=function(e){return Math.max(Math.ceil((e-r.start)/r.step),0)},d=function(e){var t=r.step>0?r.start:r.stop,i=r.step>0?r.stop-1:r.start+1;return e>=t&&i>=e&&(r.start+e)%r.step===0},u=function(e){var t=parseInt(e,10);d(t)&&a(l(t))},c=function(e){return function(){s.prop("disabled")||s.prop("readonly")||e.call(this)}},h=e("<div></div>").insertBefore(s),f=0;f<l(r.stop);f++)h.append('<div class="rating-symbol '+r.empty+'"></div>');u(s.val()),s.on("change",function(){u(e(this).val())}),h.on("click",".rating-symbol",c(function(){s.val(o(e(this).index())).change()})).on("mouseenter",".rating-symbol",c(function(){a(e(this).index())})).on("mouseleave",".rating-symbol",c(function(){a(l(s.val()))}))})},e.fn.rating.defaults={filled:"glyphicon glyphicon-star",empty:"glyphicon glyphicon-star-empty",start:0,stop:i,step:1},e(function(){e("input.rating").rating()})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(s,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof t&&s[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.2.0",n.prototype.close=function(t){function i(){r.detach().trigger("closed.bs.alert").remove()}var n=e(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var r=e(s);t&&t.preventDefault(),r.length||(r=n.hasClass("alert")?n:n.parent()),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(150):i())};var s=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=s,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.button"),r="object"==typeof t&&t;s||n.data("bs.button",s=new i(this,r)),"toggle"==t?s.toggle():t&&s.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.2.0",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[s]()),n[s](null==r[t]?this.options[t]:r[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:r.slide;s||n.data("bs.carousel",s=new i(this,r)),"number"==typeof t?s.to(t):a?s[a]():r.interval&&s.pause().cycle()})}var i=function(t,i){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.2.0",i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},i.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.to=function(t){var i=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,i){var n=this.$element.find(".item.active"),s=i||n[t](),r=this.interval,a="next"==t?"left":"right",o="next"==t?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[o]()}if(s.hasClass("active"))return this.sliding=!1;var d=s[0],u=e.Event("slide.bs.carousel",{relatedTarget:d,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(s)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:d,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,n.addClass(a),s.addClass(a),n.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*n.css("transition-duration").slice(0,-1))):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(h)),r&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(i){var n,s=e(this),r=e(s.attr("data-target")||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=e.extend({},r.data(),s.data()),o=s.attr("data-slide-to");o&&(a.interval=!1),t.call(r,a),o&&r.data("bs.carousel").to(o),i.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.collapse"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!s&&r.toggle&&"show"==t&&(t=!t),s||n.data("bs.collapse",s=new i(this,r)),"string"==typeof t&&s[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=e.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var s=n.data("bs.collapse");if(s&&s.transitioning)return;t.call(n,"hide"),s||n.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var o=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350)[r](this.$element[0][o])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var n,s=e(this),r=s.attr("data-target")||i.preventDefault()||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=e(r),o=a.data("bs.collapse"),l=o?"toggle":s.data(),d=s.attr("data-parent"),u=d&&e(d);o&&o.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+d+'"]').not(s).addClass("collapsed"),s[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(a,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(s).remove(),e(r).each(function(){var n=i(e(this)),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(n){var s=e(this);if(!s.is(".disabled, :disabled")){var r=i(s),a=r.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var o={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",o)),n.isDefaultPrevented())return;s.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(!a||a&&27==t.keyCode)return 27==t.which&&s.find(r).trigger("focus"),n.trigger("click");var o=" li:not(.divider):visible a",l=s.find('[role="menu"]'+o+', [role="listbox"]'+o);if(l.length){var d=l.index(l.filter(":focus"));38==t.keyCode&&d>0&&d--,40==t.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),+function(e){"use strict";
function t(t,n){return this.each(function(){var s=e(this),r=s.data("bs.modal"),a=e.extend({},i.DEFAULTS,s.data(),"object"==typeof t&&t);r||s.data("bs.modal",r=new i(this,a)),"string"==typeof t?r[t](n):a.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(150):r()}else t&&t()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),s=n.attr("href"),r=e(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.tooltip"),r="object"==typeof t&&t;(s||"destroy"!=t)&&(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof t&&s[t]())})}var i=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.2.0",i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var s=this.options.trigger.split(" "),r=s.length;r--;){var a=s[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,l=o.test(a);l&&(a=a.replace(o,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var d=this.getPosition(),u=s[0].offsetWidth,c=s[0].offsetHeight;if(l){var h=a,f=this.$element.parent(),p=this.getPosition(f);a="bottom"==a&&d.top+d.height+c-p.scroll>p.height?"top":"top"==a&&d.top-p.scroll-c<0?"bottom":"right"==a&&d.right+u>p.width?"left":"left"==a&&d.left-u<p.left?"right":a,s.removeClass(h).addClass(a)}var m=this.getCalculatedOffset(a,d,u,c);this.applyPlacement(m,a);var _=function(){n.$element.trigger("shown.bs."+n.type),n.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",_).emulateTransitionEnd(150):_()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),t.top=t.top+a,t.left=t.left+o,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=r&&(t.top=t.top+r-d);var u=this.getViewportAdjustedDelta(i,t,l,d);u.left?t.left+=u.left:t.top+=u.top;var c=u.left?2*u.left-s+l:2*u.top-r+d,h=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(c,n[0][f],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,n=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(s),s.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName;return e.extend({},"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect():null,{scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:n?e(window).width():t.outerWidth(),height:n?e(window).height():t.outerHeight()},n?{top:0,left:0}:t.offset())},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var o=t.top-r-a.scroll,l=t.top+r-a.scroll+n;o<a.top?s.top=a.top-o:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var d=t.left-r,u=t.left+r+i;d<a.left?s.left=a.left-d:u>a.width&&(s.left=a.left+a.width-u)}return s},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.popover"),r="object"==typeof t&&t;(s||"destroy"!=t)&&(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof t&&s[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.2.0",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){"use strict";function t(i,n){var s=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(i).is("body")?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),s=n.data("bs.scrollspy"),r="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new t(this,r)),"string"==typeof i&&s[i]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",i=0;e.isWindow(this.$scrollElement[0])||(t="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var n=this;this.$body.find(this.selector).map(function(){var n=e(this),s=n.data("target")||n.attr("href"),r=/^#./.test(s)&&e(s);return r&&r.length&&r.is(":visible")&&[[r[t]().top+i,s]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return a!=(e=r[r.length-1])&&this.activate(e);if(a&&t<=s[0])return a!=(e=r[0])&&this.activate(e);for(e=s.length;e--;)a!=r[e]&&t>=s[e]&&(!s[e+1]||t<=s[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof t&&s[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.2.0",i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],r=e.Event("show.bs.tab",{relatedTarget:s});if(t.trigger(r),!r.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(t,i,n){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var r=i.find("> .active"),a=n&&e.support.transition&&r.hasClass("fade");a?r.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),r.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.affix"),r="object"==typeof t&&t;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof t&&s[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.2.0",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),n=this.$target.scrollTop(),s=this.$element.offset(),r=this.options.offset,a=r.top,o=r.bottom;"object"!=typeof r&&(o=a=r),"function"==typeof a&&(a=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var l=null!=this.unpin&&n+this.unpin<=s.top?!1:null!=o&&s.top+this.$element.height()>=t-o?"bottom":null!=a&&a>=n?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var d="affix"+(l?"-"+l:""),u=e.Event(d+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(d).trigger(e.Event(d.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-o}))}}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(){var e,t;e=function(){var e;return $(".teachers_display_scheduler").length>0?(scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.first_hour=6,scheduler.config.last_hour=23,scheduler.config.readonly=!0,scheduler.config.time_step=30,scheduler.config.drag_create=!1,scheduler.config.drag_resize=!1,scheduler.locale.labels.timeline_tab="Timeline",scheduler.locale.labels.unit_tab="Unit",scheduler.locale.labels.section_custom="Section",scheduler.config.wide_form=!1,scheduler.config.dblclick_create=!1,e=scheduler.date.date_to_str("%d-%m-%Y %H:%i"),scheduler.config.details_on_create=!1,scheduler.config.details_on_dblclick=!1,scheduler.init("scheduler_here"),scheduler.parse(gon.events,"json"),t(),scheduler.attachEvent("onAfterSchedulerResize",function(){return t()}),scheduler.attachEvent("onViewChange",function(){return t()})):void 0},$(document).ready(e),$(document).on("page:load",e),t=function(){var e,t,i,n,s;for(n=gon.openingTimes,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(scheduler.markTimespan(e));return s}}.call(this),function(){var e,t,i,n,s;e=function(){var e,t;return $(".row_teachers_area").length>0&&($(window).on("resize",function(){return $(".teachers_area_scheduler").css("height",.8*$("body").height())}),$(".teachers_area_scheduler").css("height",.8*$("body").height()),scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.first_hour=6,scheduler.config.last_hour=23,scheduler.config.readonly=!1,scheduler.config.time_step=30,scheduler.config.drag_create=!1,scheduler.config.drag_resize=!1,scheduler.locale.labels.timeline_tab="Timeline",scheduler.locale.labels.unit_tab="Unit",scheduler.locale.labels.section_custom="Section",scheduler.config.wide_form=!1,scheduler.config.dblclick_create=!1,t=scheduler.date.date_to_str("%d-%m-%Y %H:%i"),scheduler.config.lightbox.sections=[{name:"time",height:72,type:"time",map_to:"auto"}],scheduler.config.details_on_create=!0,scheduler.config.details_on_dblclick=!0,scheduler.config.left_border=!0,scheduler.config.touch_tip=!0,e=i(),scheduler.init("scheduler_here"),scheduler.attachEvent("onClick",function(){}),scheduler.attachEvent("onConfirmedBeforeEventDelete",function(e,t){return console.log(JSON.stringify(t)),$.ajax({url:"/teachers/"+t.teacher_id+"/events/"+t.id,type:"DELETE",success:location.reload(),error:function(e){return console.log(e)}})}),scheduler.attachEvent("onEventSave",function(e,t){return $.ajax({url:"/teachers/"+gon.events[0].teacher_id+"/events/"+e,data:{event:{title:t.title,start_time:Date.parse(t.start_date)/1e3,end_time:Date.parse(t.end_date)/1e3,id:t.id}},type:"put",success:function(e){switch(console.log(JSON.stringify(e)),dhtmlx.message({text:"Event updated successfully",expire:1e3,type:"myCss"}),scheduler.getState()){case"day":return markTimespanDay(state.date.getDay());case"week":return markTimespanWeek(state.date.getDay())}},error:function(){return location.reload()}})}),scheduler.parse(e,"json"),scheduler.attachEvent("onViewChange",function(e,t){switch(e){case"day":return markTimespanDay(t.getDay());case"week":return markTimespanWeek(t.getDay())}}),scheduler.attachEvent("onAfterSchedulerResize",function(){var e;switch(scheduler.update_view(),e=scheduler.getState(),scheduler.getState().mode){case"day":return markTimespanDay(e.date.getDay());case"week":return markTimespanWeek(e.date.getDay())}}),s(),markTimespanWeek(),jQuery.isEmptyObject(gon.openingTimes)&&$("#calendar_unmark_time").css("display","none"),$("#calendar_unmark_time").tooltip(),$(".radio_label").tooltip()),$(".teacher_purchase_panel").length>0?$("#payment_choice_modal").on("shown.bs.modal",function(){return s()}):void 0},i=function(){var e;return e="undefined"===gon.events?[]:gon.events},s=function(){return $("#date").AnyTime_picker({format:"%Y-%m-%d"}),$("#start_time").AnyTime_picker({format:"%H:%i"}),$("#end_time").AnyTime_picker({format:"%H:%i"})},n=function(){return parseFloat(gon.openingTimes.openHour)+parseFloat(gon.openingTimes.openMin/60)},t=function(){return parseFloat(gon.openingTimes.closeHour)+parseFloat(gon.openingTimes.closeMin/60)},window.markedTimes=[],window.markTimespanDay=function(e){switch(e){case 1:return scheduler.markTimespan(gon.openingTimes[0]);case 2:return scheduler.markTimespan(gon.openingTimes[1]);case 3:return scheduler.markTimespan(gon.openingTimes[2]);case 4:return scheduler.markTimespan(gon.openingTimes[3]);case 5:return scheduler.markTimespan(gon.openingTimes[4]);case 6:return scheduler.markTimespan(gon.openingTimes[5]);case 0:return scheduler.markTimespan(gon.openingTimes[6])}},window.markTimespanWeek=function(){var e,t,i,n,s;for($("#calendar_unmark_time").prop({disabled:!1}),n=gon.openingTimes,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(window.markedTimes.push(scheduler.markTimespan(e)));return s},window.unmarkTimespan=function(){var e,t,i;for(t=0,i=markedTimes.length;i>t;t++)e=markedTimes[t],scheduler.unmarkTimespan(e);return $("#calendar_unmark_time").prop({disabled:!0})},$(document).ready(e),$(document).on("page:load",e)}.call(this),window.dhtmlXScheduler=window.scheduler={version:"4.1.0"},window.dhtmlx||(dhtmlx=function(e){for(var t in e)dhtmlx[t]=e[t];return dhtmlx}),dhtmlx.extend_api=function(e,t,i){var n=window[e];n&&(window[e]=function(e){var i;if(e&&"object"==typeof e&&!e.tagName){i=n.apply(this,t._init?t._init(e):arguments);for(var s in dhtmlx)t[s]&&this[t[s]](dhtmlx[s]);for(var s in e)t[s]?this[t[s]](e[s]):0===s.indexOf("on")&&this.attachEvent(s,e[s])}else i=n.apply(this,arguments);return t._patch&&t._patch(this),i||this},window[e].prototype=n.prototype,i&&dhtmlXHeir(window[e].prototype,i))},dhtmlxAjax={get:function(e,t){var i=new dtmlXMLLoaderObject(!0);return i.async=arguments.length<3,i.waitCall=t,i.loadXML(e),i},post:function(e,t,i){var n=new dtmlXMLLoaderObject(!0);return n.async=arguments.length<4,n.waitCall=i,n.loadXML(e,!0,t),n},getSync:function(e){return this.get(e,null,!0)},postSync:function(e,t){return this.post(e,t,null,!0)}},dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(e){var t=!0;return this.check=function(){if(e&&e.onloadAction&&(!e.xmlDoc.readyState||4==e.xmlDoc.readyState)){if(!t)return;t=!1,dtmlXMLLoaderObject.count++,"function"==typeof e.onloadAction&&e.onloadAction(e.mainObject,null,null,null,e),e.waitCall&&(e.waitCall.call(this,e),e.waitCall=null)}},this.check},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(e,t){var i;if(this.xmlDoc.responseXML){var n=this.xmlDoc.responseXML.getElementsByTagName(e);if(0===n.length&&-1!=e.indexOf(":"))var n=this.xmlDoc.responseXML.getElementsByTagName(e.split(":")[1]);i=n[0]}else i=this.xmlDoc.documentElement;if(i)return this._retry=!1,i;if(!this._retry&&_isIE){this._retry=!0;var t=this.xmlDoc;return this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(e,t)}return dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),document.createElement("DIV")},dtmlXMLLoaderObject.prototype.loadXMLString=function(e,t){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(e);else{var i=new DOMParser;this.xmlDoc=i.parseFromString(e,"text/xml")}t||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(e,t,i,n){this.rSeed&&(e+=(-1!=e.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=e,this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),this.xmlDoc.open(t?"POST":"GET",e,this.async),n?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):t&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(null||i),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null,null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(e){for(var t={},i=0;i<e.attributes.length;i++)t[e.attributes[i].name]=e.attributes[i].value;t._tagvalue=e.firstChild?e.firstChild.nodeValue:"";for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i].tagName;n&&(t[n]||(t[n]=[]),t[n].push(this.xmlNodeToJSON(e.childNodes[i])))}return t},dhtmlDragAndDropObject.prototype.removeDraggableItem=function(e){e.onmousedown=null,e.dragStarter=null,e.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(e,t){e.onmousedown=this.preCreateDragCopy,e.dragStarter=t,this.addDragLanding(e,t)},dhtmlDragAndDropObject.prototype.addDragLanding=function(e,t){e.dragLanding=t},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){return!e&&!window.event||2!=(e||event).button?window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(e),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),e&&e.preventDefault?(e.preventDefault(),!1):!1):void 0},dhtmlDragAndDropObject.prototype.callDrag=function(e){e||(e=window.event);var t=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-t.downtime<100)){if(!t.dragNode){if(!t.waitDrag)return t.stopDrag(e,!0);if(t.dragNode=t.dragStartObject._createDragNode(t.dragStartNode,e),!t.dragNode)return t.stopDrag();t.dragNode.onselectstart=function(){return!1},t.gldragNode=t.dragNode,document.body.appendChild(t.dragNode),document.body.onmouseup=t.stopDrag,t.waitDrag=0,t.dragNode.pWindow=window,t.initFrameRoute()}if(t.dragNode.parentNode!=window.document.body&&t.gldragNode){var i=t.gldragNode;t.gldragNode.old&&(i=t.gldragNode.old),i.parentNode.removeChild(i);var n=t.dragNode.pWindow;if(i.pWindow&&i.pWindow.dhtmlDragAndDrop.lastLanding&&i.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(i.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var s=document.createElement("Div");s.innerHTML=t.dragNode.outerHTML,t.dragNode=s.childNodes[0]}else t.dragNode=t.dragNode.cloneNode(!0);t.dragNode.pWindow=window,t.gldragNode.old=t.dragNode,document.body.appendChild(t.dragNode),n.dhtmlDragAndDrop.dragNode=t.dragNode}t.dragNode.style.left=e.clientX+15+(t.fx?-1*t.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",t.dragNode.style.top=e.clientY+3+(t.fy?-1*t.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";var r;r=e.srcElement?e.srcElement:e.target,t.checkLanding(r,e)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(e){if(window.name){for(var t=parent.frames[window.name].frameElement.offsetParent,i=0,n=0;t;)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;if(parent.dhtmlDragAndDrop){var s=parent.dhtmlDragAndDrop.calculateFramePosition(1);i+=1*s.split("_")[0],n+=1*s.split("_")[1]}if(e)return i+"_"+n;this.fx=i,this.fy=n}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(e,t){e&&e.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=e,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,t.clientX,t.clientY,t),this.lastLanding_scr=_isIE?t.srcElement:t.target):e&&"BODY"!=e.tagName?this.checkLanding(e.parentNode,t):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,t.clientX,t.clientY,t),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(e,t){var i=window.dhtmlDragAndDrop;if(!t){i.stopFrameRoute();var n=i.lastLanding;i.lastLanding=null,n&&n.dragLanding._drag(i.dragStartNode,i.dragStartObject,n,_isIE?event.srcElement:e.target)}i.lastLanding=null,i.dragNode&&i.dragNode.parentNode==document.body&&i.dragNode.parentNode.removeChild(i.dragNode),i.dragNode=0,i.gldragNode=0,i.fx=0,i.fy=0,i.dragStartNode=0,i.dragStartObject=0,document.body.onmouseup=i.tempDOMU,document.body.onmousemove=i.tempDOMM,i.tempDOMU=null,i.tempDOMM=null,i.waitDrag=0
},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(e){e&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var t=0;t<window.frames.length;t++)try{window.frames[t]!=e&&window.frames[t].dhtmlDragAndDrop&&window.frames[t].dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(e,t){e&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=e.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=e.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=e.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=e.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&t&&(!_isFF||1.8>_FFrv)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(i){}for(var n=0;n<window.frames.length;n++)try{window.frames[n]!=e&&window.frames[n].dhtmlDragAndDrop&&window.frames[n].dhtmlDragAndDrop.initFrameRoute(window,!e||t?1:0)}catch(i){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&-1==navigator.appVersion.indexOf("MSIE 10.0")||"BackCompat"==document.compatMode||(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(e,t,i,n){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(e,t);if(_isIE)return t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),i&&t.setProperty("SelectionNamespaces","xmlns:xsl='"+i+"'"),"single"==n?t.selectSingleNode(e):t.selectNodes(e)||new Array(0);var s=t;t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),-1!=t.nodeName.indexOf("document")?s=t:(s=t,t=t.ownerDocument);var r=XPathResult.ANY_TYPE;"single"==n&&(r=XPathResult.FIRST_ORDERED_NODE_TYPE);var a=[],o=t.evaluate(e,s,function(){return i},r,null);if(r==XPathResult.FIRST_ORDERED_NODE_TYPE)return o.singleNodeValue;for(var l=o.iterateNext();l;)a[a.length]=l,l=o.iterateNext();return a},_dhtmlxError.prototype.catchError=function(e,t){this.catches[e]=t},_dhtmlxError.prototype.throwError=function(e,t,i){return this.catches[e]?this.catches[e](e,t,i):this.catches.ALL?this.catches.ALL(e,t,i):(window.alert("Error type: "+arguments[0]+"\nDescription: "+arguments[1]),null)},window.dhtmlxError=new _dhtmlxError,dtmlXMLLoaderObject.prototype.doXPathOpera=function(e,t){var i=e.replace(/[\/]+/gi,"/").split("/"),n=null,s=1;if(!i.length)return[];if("."==i[0])n=[t];else{if(""!==i[0])return[];n=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(i[s].replace(/\[[^\]]*\]/g,"")),s++}for(s;s<i.length;s++)n=this._getAllNamedChilds(n,i[s]);return-1!=i[s-1].indexOf("[")&&(n=this._filterXPath(n,i[s-1])),n},dtmlXMLLoaderObject.prototype._filterXPath=function(e,t){for(var i=[],t=t.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),n=0;n<e.length;n++)e[n].getAttribute(t)&&(i[i.length]=e[n]);return i},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(e,t){var i=[];_isKHTML&&(t=t.toUpperCase());for(var n=0;n<e.length;n++)for(var s=0;s<e[n].childNodes.length;s++)_isKHTML?e[n].childNodes[s].tagName&&e[n].childNodes[s].tagName.toUpperCase()==t&&(i[i.length]=e[n].childNodes[s]):e[n].childNodes[s].tagName==t&&(i[i.length]=e[n].childNodes[s]);return i},dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(e,t,i){i||(i=this.xslDoc),i.responseXML&&(i=i.responseXML);var n=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+e+"']",i,"http://www.w3.org/1999/XSL/Transform","single");n&&(n.firstChild.nodeValue=t)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(e,t){e||(e=this.xslDoc),e.responseXML&&(e=e.responseXML),t||(t=this.xmlDoc),t.responseXML&&(t=t.responseXML);var i;if(_isIE){i=new ActiveXObject("Msxml2.DOMDocument.3.0");try{t.transformNodeToObject(e,i)}catch(n){i=t.transformNode(e)}}else this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(e)),i=this.XSLProcessor.transformToDocument(t);return i},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(e,t){var i=this.doXSLTransToObject(e,t);return"string"==typeof i?i:this.doSerialization(i)},dtmlXMLLoaderObject.prototype.doSerialization=function(e){if(e||(e=this.xmlDoc),e.responseXML&&(e=e.responseXML),_isIE)return e.xml;var t=new XMLSerializer;return t.serializeToString(e)},dhtmlxEventable=function(obj){obj.attachEvent=function(e,t,i){return e="ev_"+e.toLowerCase(),this[e]||(this[e]=new this.eventCatcher(i||this)),e+":"+this[e].addEvent(t)},obj.callEvent=function(e,t){return e="ev_"+e.toLowerCase(),this[e]?this[e].apply(this,t):!0},obj.checkEvent=function(e){return!!this["ev_"+e.toLowerCase()]},obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){for(var e=!0,t=0;t<dhx_catch.length;t++)if(dhx_catch[t]){var i=dhx_catch[t].apply(obj,arguments);e=e&&i}return e};return z.addEvent=function(ev){return"function"!=typeof ev&&(ev=eval(ev)),ev?dhx_catch.push(ev)-1:!1},z.removeEvent=function(e){dhx_catch[e]=null},z},obj.detachEvent=function(e){if(e){var t=e.split(":");this[t[0]].removeEvent(t[1])}},obj.detachAllEvents=function(){for(var e in this)0===e.indexOf("ev_")&&(this.detachEvent(e),this[e]=null)},obj=null},window.dhtmlx||(window.dhtmlx={}),function(){function e(e,t){var n=e.callback;i(!1),e.box.parentNode.removeChild(e.box),h=e.box=null,n&&n(t)}function t(t){if(h){t=t||event;var i=t.which||event.keyCode;return dhtmlx.message.keyboard&&((13==i||32==i)&&e(h,!0),27==i&&e(h,!1)),t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}function i(e){i.cover||(i.cover=document.createElement("DIV"),i.cover.onkeydown=t,i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover)),document.body.scrollHeight,i.cover.style.display=e?"inline-block":"none"}function n(e,t,i){var n=i?i:e||"",s="dhtmlx_"+n.toLowerCase().replace(/ /g,"_")+"_button";return"<div class='dhtmlx_popup_button "+s+"' result='"+t+"' ><div>"+e+"</div></div>"}function s(e){f.area||(f.area=document.createElement("DIV"),f.area.className="dhtmlx_message_area",f.area.style[f.position]="5px",document.body.appendChild(f.area)),f.hide(e.id);var t=document.createElement("DIV");return t.innerHTML="<div>"+e.text+"</div>",t.className="dhtmlx-info dhtmlx-"+e.type,t.onclick=function(){f.hide(e.id),e=null},"bottom"==f.position&&f.area.firstChild?f.area.insertBefore(t,f.area.firstChild):f.area.appendChild(t),e.expire>0&&(f.timers[e.id]=window.setTimeout(function(){f.hide(e.id)},e.expire)),f.pull[e.id]=t,t=null,e.id}function r(t,i,s){var r=document.createElement("DIV");r.className=" dhtmlx_modal_box dhtmlx-"+t.type,r.setAttribute("dhxbox",1);var a="";if(t.width&&(r.style.width=t.width),t.height&&(r.style.height=t.height),t.title&&(a+='<div class="dhtmlx_popup_title">'+t.title+"</div>"),a+='<div class="dhtmlx_popup_text"><span>'+(t.content?"":t.text)+'</span></div><div  class="dhtmlx_popup_controls">',i){var o=t.ok||scheduler.locale.labels.message_ok;void 0===o&&(o="OK"),a+=n(o,!0,"ok")}if(s){var l=t.cancel||scheduler.locale.labels.message_cancel;void 0===l&&(l="Cancel"),a+=n(l,!1,"cancel")}if(t.buttons)for(var d=0;d<t.buttons.length;d++)a+=n(t.buttons[d],d);if(a+="</div>",r.innerHTML=a,t.content){var u=t.content;"string"==typeof u&&(u=document.getElementById(u)),"none"==u.style.display&&(u.style.display=""),r.childNodes[t.title?1:0].appendChild(u)}return r.onclick=function(i){i=i||event;var n=i.target||i.srcElement;if(n.className||(n=n.parentNode),"dhtmlx_popup_button"==n.className.split(" ")[0]){var s=n.getAttribute("result");s="true"==s||("false"==s?!1:s),e(t,s)}},t.box=r,(i||s)&&(h=t),r}function a(e,n,s){var a=e.tagName?e:r(e,n,s);e.hidden||i(!0),document.body.appendChild(a);var o=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-a.offsetWidth)/2)),l=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-a.offsetHeight)/2));return a.style.top="top"==e.position?"-3px":l+"px",a.style.left=o+"px",a.onkeydown=t,a.focus(),e.hidden&&dhtmlx.modalbox.hide(a),a}function o(e){return a(e,!0,!1)}function l(e){return a(e,!0,!0)}function d(e){return a(e)}function u(e,t,i){return"object"!=typeof e&&("function"==typeof t&&(i=t,t=""),e={text:e,type:t,callback:i}),e}function c(e,t,i,n){return"object"!=typeof e&&(e={text:e,type:t,expire:i,id:n}),e.id=e.id||f.uid(),e.expire=e.expire||f.expire,e}var h=null;document.attachEvent?document.attachEvent("onkeydown",t):document.addEventListener("keydown",t,!0),dhtmlx.alert=function(){var e=u.apply(this,arguments);return e.type=e.type||"confirm",o(e)},dhtmlx.confirm=function(){var e=u.apply(this,arguments);return e.type=e.type||"alert",l(e)},dhtmlx.modalbox=function(){var e=u.apply(this,arguments);return e.type=e.type||"alert",d(e)},dhtmlx.modalbox.hide=function(e){for(;e&&e.getAttribute&&!e.getAttribute("dhxbox");)e=e.parentNode;e&&(e.parentNode.removeChild(e),i(!1))};var f=dhtmlx.message=function(e){e=c.apply(this,arguments),e.type=e.type||"info";var t=e.type.split("-")[0];switch(t){case"alert":return o(e);case"confirm":return l(e);case"modalbox":return d(e);default:return s(e)}};f.seed=(new Date).valueOf(),f.uid=function(){return f.seed++},f.expire=4e3,f.keyboard=!0,f.position="top",f.pull={},f.timers={},f.hideAll=function(){for(var e in f.pull)f.hide(e)},f.hide=function(e){var t=f.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.className+=" hidden",f.timers[e]&&window.clearTimeout(f.timers[e]),delete f.pull[e])}}(),dataProcessor.prototype={setTransactionMode:function(e,t){this._tMode=e,this._tSend=t},escape:function(e){return this._utf?encodeURIComponent(e):escape(e)},enableUTFencoding:function(e){this._utf=convertStringToBoolean(e)},setDataColumns:function(e){this._columns="string"==typeof e?e.split(","):e},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(e){this._endnm=convertStringToBoolean(e)},enablePartialDataSend:function(e){this._changed=convertStringToBoolean(e)},setUpdateMode:function(e,t){this.autoUpdate="cell"==e,this.updateMode=e,this.dnd=t},ignore:function(e,t){this._silent_mode=!0,e.call(t||window),this._silent_mode=!1},setUpdated:function(e,t,i){if(!this._silent_mode){var n=this.findRow(e);i=i||"updated";var s=this.obj.getUserData(e,this.action_param);s&&"updated"==i&&(i=s),t?(this.set_invalid(e,!1),this.updatedRows[n]=e,this.obj.setUserData(e,this.action_param,i),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(n,1),this.obj.setUserData(e,this.action_param,"")),t||this._clearUpdateFlag(e),this.markRow(e,t,i),t&&this.autoUpdate&&this.sendData(e)}},_clearUpdateFlag:function(){},markRow:function(e,t,i){var n="",s=this.is_invalid(e);if(s&&(n=this.styles[s],t=!0),this.callEvent("onRowMark",[e,t,i,s])&&(n=this.styles[t?i:"clear"]+n,this.obj[this._methods[0]](e,n),s&&s.details)){n+=this.styles[s+"_cell"];for(var r=0;r<s.details.length;r++)s.details[r]&&this.obj[this._methods[1]](e,r,n)}},getState:function(e){return this.obj.getUserData(e,this.action_param)},is_invalid:function(e){return this._invalid[e]},set_invalid:function(e,t,i){i&&(t={value:t,details:i,toString:function(){return this.value.toString()}}),this._invalid[e]=t},checkBeforeUpdate:function(){return!0},sendData:function(e){return!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2?(this.obj.editStop&&this.obj.editStop(),"undefined"==typeof e||this._tSend?this.sendAllData():this._in_progress[e]?!1:(this.messages=[],!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages])?!1:void this._beforeSendData(this._getRowData(e),e))):void 0},_beforeSendData:function(e,t){return this.callEvent("onBeforeUpdate",[t,this.getState(t),e])?void this._sendData(e,t):!1},serialize:function(e,t){if("string"==typeof e)return e;if("undefined"!=typeof t)return this.serialize_one(e,"");var i=[],n=[];for(var s in e)e.hasOwnProperty(s)&&(i.push(this.serialize_one(e[s],s+this.post_delim)),n.push(s));return i.push("ids="+this.escape(n.join(","))),dhtmlx.security_key&&i.push("dhx_security="+dhtmlx.security_key),i.join("&")},serialize_one:function(e,t){if("string"==typeof e)return e;var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(this.escape((t||"")+n)+"="+this.escape(e[n]));return i.join("&")},_sendData:function(e,t){if(e){if(!this.callEvent("onBeforeDataSending",t?[t,this.getState(t),e]:[null,null,e]))return!1;t&&(this._in_progress[t]=(new Date).valueOf());var i=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),n=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");"POST"!=this._tMode?i.loadXML(n+(-1!=n.indexOf("?")?"&":"?")+this.serialize(e,t)):i.loadXML(n,!0,this.serialize(e,t)),this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var e=!0,t=0;t<this.updatedRows.length;t++)e&=this.checkBeforeUpdate(this.updatedRows[t]);if(!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(var t=0;t<this.updatedRows.length;t++)if(!this._in_progress[this.updatedRows[t]]){if(this.is_invalid(this.updatedRows[t]))continue;if(this._beforeSendData(this._getRowData(this.updatedRows[t]),this.updatedRows[t]),this._waitMode&&("tree"==this.obj.mytype||this.obj._h2))return}}},_getAllData:function(){for(var e={},t=!1,i=0;i<this.updatedRows.length;i++){var n=this.updatedRows[i];this._in_progress[n]||this.is_invalid(n)||this.callEvent("onBeforeUpdate",[n,this.getState(n)])&&(e[n]=this._getRowData(n,n+this.post_delim),t=!0,this._in_progress[n]=(new Date).valueOf())}return t?e:null},setVerificator:function(e,t){this.mandatoryFields[e]=t||function(e){return""!==e}},clearVerificator:function(e){this.mandatoryFields[e]=!1},findRow:function(e){var t=0;for(t=0;t<this.updatedRows.length&&e!=this.updatedRows[t];t++);return t},defineAction:function(e,t){this._uActions||(this._uActions=[]),this._uActions[e]=t},afterUpdateCallback:function(e,t,i,n){var s=e,r="error"!=i&&"invalid"!=i;if(r||this.set_invalid(e,i),this._uActions&&this._uActions[i]&&!this._uActions[i](n))return delete this._in_progress[s];"wait"!=this._in_progress[s]&&this.setUpdated(e,!1);var a=e;switch(i){case"inserted":case"insert":t!=e&&(this.obj[this._methods[2]](e,t),e=t);break;case"delete":case"deleted":return this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj[this._methods[3]](e),delete this._in_progress[s],this.callEvent("onAfterUpdate",[e,i,t,n])}"wait"!=this._in_progress[s]?(r&&this.obj.setUserData(e,this.action_param,""),delete this._in_progress[s]):(delete this._in_progress[s],this.setUpdated(t,!0,this.obj.getUserData(e,this.action_param))),this.callEvent("onAfterUpdate",[a,i,t,n])},afterUpdate:function(e,t,i,n,s){if(s.getXMLTopNode("data"),s.xmlDoc.responseXML){for(var r=s.doXPath("//data/action"),a=0;a<r.length;a++){var o=r[a],l=o.getAttribute("type"),d=o.getAttribute("sid"),u=o.getAttribute("tid");e.afterUpdateCallback(d,u,l,o)}e.finalizeUpdate()}},finalizeUpdate:function(){this._waitMode&&this._waitMode--,("tree"==this.obj.mytype||this.obj._h2)&&this.updatedRows.length&&this.sendData(),this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(e){this.obj=e,this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(e){this.attachEvent("onAfterUpdate",e)},enableDebug:function(){},setOnBeforeUpdateHandler:function(e){this.attachEvent("onBeforeDataSending",e)},setAutoUpdate:function(e,t){e=e||2e3,this._user=t||(new Date).valueOf(),this._need_update=!1,this._loader=null,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(e,t,i,n){this.afterAutoUpdate(e,t,i,n)}),this.attachEvent("onFullSync",function(){this.fullSync()});var i=this;window.setInterval(function(){i.loadUpdate()},e)},afterAutoUpdate:function(e,t){return"collision"==t?(this._need_update=!0,!1):!0},fullSync:function(){return this._need_update===!0&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(e,t){return this._update_busy?!1:(this._update_busy=!0,this._loader=this._loader||new dtmlXMLLoaderObject(!0),this._loader.async=!0,this._loader.waitCall=t,void this._loader.loadXML(e))},_v:function(e){return e.firstChild?e.firstChild.nodeValue:""},_a:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=this._v(e[i]);return t},loadUpdate:function(){var e=this,t=this.obj.getUserData(0,"version"),i=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+t].join("&");i=i.replace("editing=true&",""),this.getUpdates(i,function(){var t=e._loader.doXPath("//userdata");e.obj.setUserData(0,"version",e._v(t[0]));var i=e._loader.doXPath("//update");if(i.length){e._silent_mode=!0;for(var n=0;n<i.length;n++){var s=i[n].getAttribute("status"),r=i[n].getAttribute("id"),a=i[n].getAttribute("parent");switch(s){case"inserted":e.callEvent("insertCallback",[i[n],r,a]);break;case"updated":e.callEvent("updateCallback",[i[n],r,a]);break;case"deleted":e.callEvent("deleteCallback",[i[n],r,a])}}e._silent_mode=!1}e._update_busy=!1,e=null})}},window.dhtmlXGridObject&&(dhtmlXGridObject.prototype._init_point_connector=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){var e=function(e){return e=e.replace(/(\?|\&)connector[^\f]*/g,""),e+(-1!=e.indexOf("?")?"&":"?")+"connector=true"+(this.hdr.rows.length>0?"&dhx_no_header=1":"")},t=function(t){return e.call(this,t)+(this._connector_sorting||"")+(this._connector_filter||"")},i=function(e,i,n){return this._connector_sorting="&dhx_sort["+i+"]="+n,t.call(this,e)},n=function(e,i,n){for(var s=0;s<i.length;s++)i[s]="dhx_filter["+i[s]+"]="+encodeURIComponent(n[s]);return this._connector_filter="&"+i.join("&"),t.call(this,e)};this.attachEvent("onCollectValues",function(e){return this._con_f_used[e]?"object"==typeof this._con_f_used[e]?this._con_f_used[e]:!1:!0}),this.attachEvent("onDynXLS",function(){return this.xmlFileUrl=t.call(this,this.xmlFileUrl),!0}),this.attachEvent("onBeforeSorting",function(e,t,n){if("connector"==t){var s=this;return this.clearAndLoad(i.call(this,this.xmlFileUrl,e,n),function(){s.setSortImgState(!0,e,n)}),!1}return!0}),this.attachEvent("onFilterStart",function(e,t){return this._con_f_used.length?(this.clearAndLoad(n.call(this,this.xmlFileUrl,e,t)),!1):!0}),this.attachEvent("onXLE",function(){}),this._init_point_connector&&this._init_point_connector()},dhtmlXGridObject.prototype._con_f_used=[],dhtmlXGridObject.prototype._in_header_connector_text_filter=function(e,t){return this._con_f_used[t]||(this._con_f_used[t]=1),this._in_header_text_filter(e,t)},dhtmlXGridObject.prototype._in_header_connector_select_filter=function(e,t){return this._con_f_used[t]||(this._con_f_used[t]=2),this._in_header_select_filter(e,t)},dhtmlXGridObject.prototype.load_connector=dhtmlXGridObject.prototype.load,dhtmlXGridObject.prototype.load=function(){var e=[].concat(arguments);if(!this._colls_loaded&&this.cellType){for(var t=[],i=0;i<this.cellType.length;i++)(0===this.cellType[i].indexOf("co")||2==this._con_f_used[i])&&t.push(i);t.length&&(e[0]+=(-1!=e[0].indexOf("?")?"&":"?")+"connector=true&dhx_colls="+t.join(","))}return this.load_connector.apply(this,e)},dhtmlXGridObject.prototype._parseHead_connector=dhtmlXGridObject.prototype._parseHead,dhtmlXGridObject.prototype._parseHead=function(){if(this._parseHead_connector.apply(this,arguments),!this._colls_loaded){for(var e=this.xmlLoader.doXPath("./coll_options",arguments[0]),t=0;t<e.length;t++){var i=e[t].getAttribute("for"),n=[],s=null;"combo"==this.cellType[i]&&(s=this.getColumnCombo(i)),0===this.cellType[i].indexOf("co")&&(s=this.getCombo(i));for(var r=this.xmlLoader.doXPath("./item",e[t]),a=0;a<r.length;a++){var o=r[a].getAttribute("value");if(s){var l=r[a].getAttribute("label")||o;s.addOption?s.addOption([[o,l]]):s.put(o,l),n[n.length]=l}else n[n.length]=o}this._con_f_used[1*i]&&(this._con_f_used[1*i]=n)}this._colls_loaded=!0}}),window.dataProcessor&&(dataProcessor.prototype.init_original=dataProcessor.prototype.init,dataProcessor.prototype.init=function(e){this.init_original(e),e._dataprocessor=this,this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!=this.serverProcessor.indexOf("?")?"&":"?")+"editing=true"}),dhtmlxError.catchError("LoadXML",function(e,t,i){i[0].status&&window.alert(i[0].responseText)}),dhtmlxEventable(scheduler),scheduler._detachDomEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)},scheduler._init_once=function(){function e(){return{w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function t(e,t){return e.w==t.w&&e.h==t.h}var i=e();dhtmlxEvent(window,"resize",function(){var n=e();t(i,n)||(window.clearTimeout(scheduler._resize_timer),scheduler._resize_timer=window.setTimeout(function(){scheduler.callEvent("onSchedulerResize",[])&&(scheduler.update_view(),scheduler.callEvent("onAfterSchedulerResize",[]))},100)),i=n}),scheduler._init_once=function(){}},scheduler.init=function(e,t,i){t=t||scheduler._currentDate(),i=i||"week",this._obj&&this.unset_actions(),this._obj="string"==typeof e?document.getElementById(e):e,this._skin_init&&scheduler._skin_init(),scheduler.date.init(),this._els=[],this._scroll=!0,this._quirks=_isIE&&"BackCompat"==document.compatMode,this._quirks7=_isIE&&-1==navigator.appVersion.indexOf("MSIE 8"),this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),scheduler.callEvent("onSchedulerReady",[]),this.setCurrentView(t,i)},scheduler.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22},scheduler.keys={edit_save:13,edit_cancel:27},scheduler.set_sizes=function(){var e=this._x=this._obj.clientWidth-this.xy.margin_left,t=this._y=this._obj.clientHeight-this.xy.margin_top,i=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,n=this._table_view?-1:this.xy.scale_width;this.set_xy(this._els.dhx_cal_navline[0],e,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],e-i,this.xy.scale_height,n,this.xy.nav_height+(this._quirks?-1:1));var s=this._els.dhx_cal_navline[0].offsetHeight;s>0&&(this.xy.nav_height=s);var r=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],e,t-(r+2),0,r+2)},scheduler.set_xy=function(e,t,i,n,s){e.style.width=Math.max(0,t)+"px",e.style.height=Math.max(0,i)+"px",arguments.length>3&&(e.style.left=n+"px",e.style.top=s+"px")},scheduler.get_elements=function(){for(var e=this._obj.getElementsByTagName("DIV"),t=0;t<e.length;t++){var i=e[t].className||"",n=e[t].getAttribute("name")||"";i&&(i=i.split(" ")[0]),this._els[i]||(this._els[i]=[]),this._els[i].push(e[t]);var s=scheduler.locale.labels[n||i];"string"!=typeof s&&n&&!e[t].innerHTML&&(s=n.split("_")[0]),s&&(e[t].innerHTML=s)}},scheduler.unset_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=null;this._obj.onselectstart=null,this._obj.onmousemove=null,this._obj.onmousedown=null,this._obj.onmouseup=null,this._obj.ondblclick=null,this._obj.oncontextmenu=null},scheduler.set_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=scheduler._click[e];this._obj.onselectstart=function(){return!1},this._obj.onmousemove=function(e){scheduler._temp_touch_block||scheduler._on_mouse_move(e||event)},this._obj.onmousedown=function(e){scheduler._ignore_next_click||scheduler._on_mouse_down(e||event)},this._obj.onmouseup=function(e){scheduler._ignore_next_click||scheduler._on_mouse_up(e||event)},this._obj.ondblclick=function(e){scheduler._on_dbl_click(e||event)},this._obj.oncontextmenu=function(e){var t=e||event,i=t.target||t.srcElement,n=scheduler.callEvent("onContextMenu",[scheduler._locate_event(i),t]);return n}},scheduler.select=function(e){this._select_id!=e&&(this.editStop(!1),this.unselect(),this._select_id=e,this.updateEvent(e))},scheduler.unselect=function(e){if(!e||e==this._select_id){var t=this._select_id;this._select_id=null,t&&this.getEvent(t)&&this.updateEvent(t)}},scheduler.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},scheduler._click={dhx_cal_data:function(e){if(scheduler._ignore_next_click)return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,scheduler._ignore_next_click=!1,!1;var t=e?e.target:event.srcElement,i=scheduler._locate_event(t);if(e=e||event,i){if(!scheduler.callEvent("onClick",[i,e])||scheduler.config.readonly)return}else scheduler.callEvent("onEmptyClick",[scheduler.getActionData(e).date,e]);if(i&&scheduler.config.select){scheduler.select(i);var n=t.className;-1!=n.indexOf("_icon")&&scheduler._click.buttons[n.split(" ")[1].replace("icon_","")](i)}else scheduler._close_not_saved(),scheduler.unselect()},dhx_cal_prev_button:function(){scheduler._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(e,t){scheduler.setCurrentView(scheduler.date.add(scheduler.date[scheduler._mode+"_start"](scheduler._date),t||1,scheduler._mode))},dhx_cal_today_button:function(){scheduler.callEvent("onBeforeTodayDisplayed",[])&&scheduler.setCurrentView(scheduler._currentDate())},dhx_cal_tab:function(){var e=this.getAttribute("name"),t=e.substring(0,e.search("_tab"));scheduler.setCurrentView(scheduler._date,t)},buttons:{"delete":function(e){var t=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(t,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(e)})},edit:function(e){scheduler.edit(e)},save:function(){scheduler.editStop(!0)},details:function(e){scheduler.showLightbox(e)},cancel:function(){scheduler.editStop(!1)}}},scheduler._dhtmlx_confirm=function(e,t,i){if(!e)return i();var n={text:e};t&&(n.title=t),i&&(n.callback=function(e){e&&i()}),dhtmlx.confirm(n)},scheduler.addEventNow=function(e,t,i){var n={};e&&null!==e.constructor.toString().match(/object/i)&&(n=e,e=null);var s=6e4*(this.config.event_duration||this.config.time_step);e||(e=n.start_date||Math.round(scheduler._currentDate().valueOf()/s)*s);var r=new Date(e);if(!t){var a=this.config.first_hour;a>r.getHours()&&(r.setHours(a),e=r.valueOf()),t=e.valueOf()+s}var o=new Date(t);r.valueOf()==o.valueOf()&&o.setTime(o.valueOf()+s),n.start_date=n.start_date||r,n.end_date=n.end_date||o,n.text=n.text||this.locale.labels.new_event,n.id=this._drag_id=this.uid(),this._drag_mode="new-size",this._loading=!0,this.addEvent(n),this.callEvent("onEventCreated",[this._drag_id,i]),this._loading=!1,this._drag_event={},this._on_mouse_up(i)},scheduler._on_dbl_click=function(e,t){if(t=t||e.target||e.srcElement,!this.config.readonly){var i=(t.className||"").split(" ")[0];switch(i){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!scheduler.config.dblclick_create)break;this.addEventNow(this.getActionData(e).date,null,e);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var n=this._locate_event(t);if(!this.callEvent("onDblClick",[n,e]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(n)._timed||!this.config.select?this.showLightbox(n):this.edit(n);break;case"dhx_time_block":case"dhx_cal_container":return;default:var s=this["dblclick_"+i];if(s)s.call(this,e);else if(t.parentNode&&t!=this)return scheduler._on_dbl_click(e,t.parentNode)}}},scheduler._get_column_index=function(e){var t=0;if(this._cols){for(var i=0,n=0;n<this._cols.length&&!i;n++)i=this._cols[n];if(t=i?e/i:0,this._ignores)for(var n=0;t>=n;n++)this._ignores[n]&&t++}return t},scheduler._week_indexes_from_pos=function(e){if(this._cols){var t=this._get_column_index(e.x);return e.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(t)-1)),e.y=Math.max(0,Math.ceil(60*e.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),e}return e},scheduler._mouse_coords=function(e){var t,i=document.body,n=document.documentElement;t=_isIE||!e.pageX&&!e.pageY?{x:e.clientX+(i.scrollLeft||n.scrollLeft||0)-i.clientLeft,y:e.clientY+(i.scrollTop||n.scrollTop||0)-i.clientTop}:{x:e.pageX,y:e.pageY},t.x-=getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width),t.y-=getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els.dhx_cal_data[0].scrollTop,t.ev=e;var s=this["mouse_"+this._mode];if(s)return s.call(this,t);if(this._table_view){var r=this._get_column_index(t.x);if(!this._cols||!this._colsS)return t;var a=0;for(a=1;a<this._colsS.heights.length&&!(this._colsS.heights[a]>t.y);a++);t.y=Math.ceil(24*(Math.max(0,r)+7*Math.max(0,a-1))*60/this.config.time_step),(scheduler._drag_mode||"month"==this._mode)&&(t.y=24*(Math.max(0,Math.ceil(r)-1)+7*Math.max(0,a-1))*60/this.config.time_step),"move"==this._drag_mode&&scheduler._ignores_detected&&scheduler.config.preserve_length&&(t._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),t.x=0}else t=this._week_indexes_from_pos(t);return t},scheduler._close_not_saved=function(){if((new Date).valueOf()-(scheduler._new_event||0)>500&&scheduler._edit_id){var e=scheduler.locale.labels.confirm_closing;scheduler._dhtmlx_confirm(e,scheduler.locale.labels.title_confirm_closing,function(){scheduler.editStop(scheduler.config.positive_closing)})}},scheduler._correct_shift=function(e,t){return e-=6e4*(new Date(scheduler._min_date).getTimezoneOffset()-new Date(e).getTimezoneOffset())*(t?-1:1)},scheduler._on_mouse_move=function(e){if(this._drag_mode){var t=this._mouse_coords(e);if(!this._drag_pos||t.force_redraw||this._drag_pos.x!=t.x||this._drag_pos.y!=t.y){var i,n;if(this._edit_id!=this._drag_id&&this._close_not_saved(),this._drag_pos=t,"create"==this._drag_mode){if(this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,i=this._get_date_from_pos(t).valueOf(),!this._drag_start){var s=this.callEvent("onBeforeEventCreated",[e,this._drag_id]);if(!s)return;return void(this._drag_start=i)}n=i,n==this._drag_start;var r=new Date(this._drag_start),a=new Date(n);"day"!=this._mode&&"week"!=this._mode||r.getHours()!=a.getHours()||r.getMinutes()!=a.getMinutes()||(a=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(r,a,this.locale.labels.new_event,this._drag_id,t.fields),this.callEvent("onEventCreated",[this._drag_id,e]),this._loading=!1,this._drag_mode="new-size"}var o,l=this.getEvent(this._drag_id);if("move"==this._drag_mode)i=this._min_date.valueOf()+6e4*(t.y*this.config.time_step+24*t.x*60-(scheduler._move_pos_shift||0)),!t.custom&&this._table_view&&(i+=1e3*this.date.time_part(l.start_date)),i=this._correct_shift(i),t._ignores&&this.config.preserve_length&&this._table_view?(this.matrix&&(o=this.matrix[this._mode]),o=o||{x_step:1,x_unit:"day"},n=1*i+this._get_fictional_event_length(i,this._drag_event._event_length,o)):n=l.end_date.valueOf()-(l.start_date.valueOf()-i);else{if(i=l.start_date.valueOf(),n=l.end_date.valueOf(),this._table_view){var d=this._min_date.valueOf()+t.y*this.config.time_step*6e4+(t.custom?0:864e5);if("month"==this._mode)if(d=this._correct_shift(d,!1),this._drag_from_start){var u=864e5;
d<=scheduler.date.date_part(new Date(n+u-1)).valueOf()&&(i=d-u)}else n=d;else t.resize_from_start?i=d:n=d}else n=this.date.date_part(new Date(l.end_date.valueOf()-1)).valueOf()+t.y*this.config.time_step*6e4,this._els.dhx_cal_data[0].style.cursor="s-resize",("week"==this._mode||"day"==this._mode)&&(n=this._correct_shift(n));if("new-size"==this._drag_mode)if(n<=this._drag_start){var c=t.shift||(this._table_view&&!t.custom?864e5:0);i=n-(t.shift?0:c),n=this._drag_start+(c||6e4*this.config.time_step)}else i=this._drag_start;else i>=n&&(n=i+6e4*this.config.time_step)}var h=new Date(n-1),f=new Date(i);if(scheduler.config.limit_drag_out&&(+f<+scheduler._min_date||+n>+scheduler._max_date)){var p=n-f;+f<+scheduler._min_date?(f=new Date(scheduler._min_date),n=new Date(+f+p)):(n=new Date(scheduler._max_date),f=new Date(+n-p));var h=new Date(n-1)}if(!this._table_view&&(t.x!=this._get_event_sday({start_date:new Date(n),end_date:new Date(n)})||new Date(n).getHours()>=this.config.last_hour)){var p=n-f,u=this._min_date.valueOf()+24*t.x*60*6e4;n=scheduler.date.date_part(new Date(u)),n.setHours(this.config.last_hour),h=new Date(n-1),"move"==this._drag_mode&&(f=new Date(+n-p))}if(this._table_view||h.getDate()==f.getDate()&&h.getHours()<this.config.last_hour||scheduler._allow_dnd)if(l.start_date=f,l.end_date=new Date(n),this.config.update_render){var m=scheduler._els.dhx_cal_data[0].scrollTop;this.update_view(),scheduler._els.dhx_cal_data[0].scrollTop=m}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(e){e.className+=" dhx_in_move"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,e])}}else if(scheduler.checkEvent("onMouseMove")){var _=this._locate_event(e.target||e.srcElement);this.callEvent("onMouseMove",[_,e])}},scheduler._on_mouse_down=function(e,t){if(2!=e.button&&!this.config.readonly&&!this._drag_mode){t=t||e.target||e.srcElement;var i=t.className&&t.className.split(" ")[0];switch(i){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",scheduler._drag_from_start=(t.className||"").indexOf("dhx_event_resize_end")<0?!0:!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(t.parentNode)return scheduler._on_mouse_down(e,t.parentNode);break;default:if((!scheduler.checkEvent("onMouseDown")||scheduler.callEvent("onMouseDown",[i]))&&t.parentNode&&t!=this&&"dhx_body"!=i)return scheduler._on_mouse_down(e,t.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var n=this._locate_event(t);this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[n,this._drag_mode,e])?(this._drag_id=n,this._drag_event=scheduler._lame_clone(this.getEvent(this._drag_id)||{})):this._drag_mode=this._drag_id=0}this._drag_start=null}},scheduler._get_private_properties=function(e){var t={};for(var i in e)0===i.indexOf("_")&&(t[i]=!0);return t},scheduler._clear_temporary_properties=function(e,t){var i=this._get_private_properties(e),n=this._get_private_properties(t);for(var s in n)i[s]||delete t[s]},scheduler._on_mouse_up=function(e){if(!e||2!=e.button||!scheduler.config.touch){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var t=this.getEvent(this._drag_id);if(this._drag_event._dhx_changed||!this._drag_event.start_date||t.start_date.valueOf()!=this._drag_event.start_date.valueOf()||t.end_date.valueOf()!=this._drag_event.end_date.valueOf()){var i="new-size"==this._drag_mode;if(this.callEvent("onBeforeEventChanged",[t,e,i,this._drag_event])){var n=this._drag_id,s=this._drag_mode;if(this._drag_id=this._drag_mode=null,i&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select)return scheduler.callEvent("onDragEnd",[n,s,e]),this.showLightbox(n);this._drag_pos=!0,this._select_id=this._edit_id=n}else this._new_event||this.callEvent(i?"onEventAdded":"onEventChanged",[n,this.getEvent(n)])}else i?this.deleteEvent(t.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(t,this._drag_event),scheduler._lame_copy(t,this._drag_event),this.updateEvent(t.id))}this._drag_pos&&this.render_view_data(),scheduler.callEvent("onDragEnd",[this._drag_id,this._drag_mode,e])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},scheduler._trigger_dyn_loading=function(){return this._load_mode&&this._load()?(this._render_wait=!0,!0):!1},scheduler.update_view=function(){var e=this[this._mode+"_view"];return e?e(!0):this._reset_scale(),this._trigger_dyn_loading()?!0:void this.render_view_data()},scheduler.isViewExists=function(e){return!!(scheduler[e+"_view"]||scheduler.date[e+"_start"]&&scheduler.templates[e+"_date"]&&scheduler.templates[e+"_scale_date"])},scheduler.updateView=function(e,t){e=e||this._date,t=t||this._mode;var i="dhx_cal_data";this._mode?this._obj.className=this._obj.className.replace("dhx_scheduler_"+this._mode,"dhx_scheduler_"+t):this._obj.className+=" dhx_scheduler_"+t;var n=this._mode==t&&this.config.preserve_scroll?this._els[i][0].scrollTop:!1;this[this._mode+"_view"]&&t&&this._mode!=t&&this[this._mode+"_view"](!1),this._close_not_saved();var s="dhx_multi_day";this._els[s]&&(this._els[s][0].parentNode.removeChild(this._els[s][0]),this._els[s]=null),this._mode=t,this._date=e,this._table_view="month"==this._mode,this._dy_shift=0;var r=this._els.dhx_cal_tab;if(r)for(var a=0;a<r.length;a++){var o=r[a].className;o=o.replace(/ active/g,""),r[a].getAttribute("name")==this._mode+"_tab"&&(o+=" active"),r[a].className=o}this.update_view(),"number"==typeof n&&(this._els[i][0].scrollTop=n)},scheduler.setCurrentView=function(e,t){this.callEvent("onBeforeViewChange",[this._mode,this._date,t||this._mode,e||this._date])&&(this.updateView(e,t),this.callEvent("onViewChange",[this._mode,this._date]))},scheduler._render_x_header=function(e,t,i,n){var s=document.createElement("DIV");s.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(s.className+=" "+this.templates[this._mode+"_scalex_class"](i));var r=this._cols[e]-1;"month"==this._mode&&0===e&&this.config.left_border&&(s.className+=" dhx_scale_bar_border",t+=1),this.set_xy(s,r,this.xy.scale_height-2,t,0),s.innerHTML=this.templates[this._mode+"_scale_date"](i,this._mode),n.appendChild(s)},scheduler._get_columns_num=function(e,t){var i=7;if(!scheduler._table_view){var n=scheduler.date["get_"+scheduler._mode+"_end"];n&&(t=n(e)),i=Math.round((t.valueOf()-e.valueOf())/864e5)}return i},scheduler._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},scheduler._get_view_end=function(){var e=this._get_timeunit_start(),t=scheduler.date.add(e,1,this._mode);if(!scheduler._table_view){var i=scheduler.date["get_"+scheduler._mode+"_end"];i&&(t=i(e))}return t},scheduler._calc_scale_sizes=function(e,t,i){var n=e,s=this._get_columns_num(t,i);this._process_ignores(t,s,"day",1);for(var r=s-this._ignores_detected,a=0;s>a;a++)this._ignores[a]?(this._cols[a]=0,r++):this._cols[a]=Math.floor(n/(r-a)),n-=this._cols[a],this._colsS[a]=(this._cols[a-1]||0)+(this._colsS[a-1]||(this._table_view?0:this.xy.scale_width+2)),this._colsS.col_length=s;this._colsS[s]=this._cols[s-1]+this._colsS[s-1]},scheduler._set_scale_col_size=function(e,t,i){var n=this.config;this.set_xy(e,t-1,n.hour_size_px*(n.last_hour-n.first_hour),i+this.xy.scale_width+1,0)},scheduler._render_scales=function(e,t){var i=new Date(scheduler._min_date),n=new Date(scheduler._max_date),s=this.date.date_part(scheduler._currentDate()),r=parseInt(e.style.width,10),a=new Date(this._min_date),o=this._get_columns_num(i,n);this._calc_scale_sizes(r,i,n);var l=0;e.innerHTML="";for(var d=0;o>d;d++){if(this._ignores[d]||this._render_x_header(d,l,a,e),!this._table_view){var u=document.createElement("DIV"),c="dhx_scale_holder";a.valueOf()==s.valueOf()&&(c="dhx_scale_holder_now"),this._ignores_detected&&this._ignores[d]&&(c+=" dhx_scale_ignore"),u.className=c+" "+this.templates.week_date_class(a,s),this._set_scale_col_size(u,this._cols[d],l),t.appendChild(u),this.callEvent("onScaleAdd",[u,a])}l+=this._cols[d],a=this.date.add(a,1,"day")}},scheduler._reset_scale=function(){if(this.templates[this._mode+"_date"]){var e=this._els.dhx_cal_header[0],t=this._els.dhx_cal_data[0],i=this.config;e.innerHTML="",t.innerHTML="";var n=(i.readonly||!i.drag_resize?" dhx_resize_denied":"")+(i.readonly||!i.drag_move?" dhx_move_denied":"");t.className="dhx_cal_data"+n,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var s,r,a=this._get_timeunit_start(),o=scheduler._get_view_end();if(s=r=this._table_view?scheduler.date.week_start(a):a,this._min_date=s,this._els.dhx_cal_date[0].innerHTML=this.templates[this._mode+"_date"](a,o,this._mode),this._max_date=o,scheduler._render_scales(e,t),this._table_view)this._reset_month_scale(t,a,r);else if(this._reset_hours_scale(t,a,r),i.multi_day){var l="dhx_multi_day";this._els[l]&&(this._els[l][0].parentNode.removeChild(this._els[l][0]),this._els[l]=null);var d=this._els.dhx_cal_navline[0],u=d.offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,c=document.createElement("DIV");c.className=l,c.style.visibility="hidden",this.set_xy(c,this._colsS[this._colsS.col_length]+this.xy.scroll_width,0,0,u),t.parentNode.insertBefore(c,t);var h=c.cloneNode(!0);h.className=l+"_icon",h.style.visibility="hidden",this.set_xy(h,this.xy.scale_width,0,0,u),c.appendChild(h),this._els[l]=[c,h],this._els[l][0].onclick=this._click.dhx_cal_data}}},scheduler._reset_hours_scale=function(e){var t=document.createElement("DIV");t.className="dhx_scale_holder";for(var i=new Date(1980,1,1,this.config.first_hour,0,0),n=1*this.config.first_hour;n<this.config.last_hour;n++){var s=document.createElement("DIV");s.className="dhx_scale_hour",s.style.height=this.config.hour_size_px-(this._quirks?0:1)+"px";var r=this.xy.scale_width;this.config.left_border&&(r-=1,s.className+=" dhx_scale_hour_border"),s.style.width=r+"px",s.innerHTML=scheduler.templates.hour_scale(i),t.appendChild(s),i=this.date.add(i,1,"hour")}e.appendChild(t),this.config.scroll_hour&&(e.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},scheduler._currentDate=function(){return scheduler.config.now_date?new Date(scheduler.config.now_date):new Date},scheduler._process_ignores=function(e,t,i,n,s){this._ignores={},this._ignores_detected=0;var r=scheduler["ignore_"+this._mode];if(r)for(var a=new Date(e),o=0;t>o;o++)r(a)&&(this._ignores_detected+=1,this._ignores[o]=!0,s&&t++),a=scheduler.date.add(a,n,i)},scheduler._render_month_scale=function(e,t,i){function n(e){var t=scheduler._colsS.height;return void 0!==scheduler._colsS.heights[e+1]&&(t=scheduler._colsS.heights[e+1]-(scheduler._colsS.heights[e]||0)),t}var s=scheduler.date.add(t,1,"month"),r=new Date(i),a=scheduler._currentDate();this.date.date_part(a),this.date.date_part(i);for(var o=Math.ceil(Math.round((s.valueOf()-i.valueOf())/864e5)/7),l=[],d=0;7>=d;d++){var u=(this._cols[d]||0)-1;0===d&&this.config.left_border&&(u-=1),l[d]=" style='width:"+u+"px;"}for(var c=0,h="<table cellpadding='0' cellspacing='0'>",f=[],d=0;o>d;d++){h+="<tr>";for(var p=Math.max(n(d)-scheduler.xy.month_head_height,0),m=0;7>m;m++){h+="<td";var _="";t>i?_="dhx_before":i>=s?_="dhx_after":i.valueOf()==a.valueOf()&&(_="dhx_now"),this._ignores_detected&&this._ignores[m]&&(_+=" dhx_scale_ignore"),h+=" class='"+_+" "+this.templates.month_date_class(i,a)+"' >";var g="dhx_month_body",v="dhx_month_head";0===m&&this.config.left_border&&(g+=" dhx_month_body_border",v+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[m]?h+="<div></div><div></div>":(h+="<div class='"+v+"'>"+this.templates.month_day(i)+"</div>",h+="<div class='"+g+"' "+l[m]+";height:"+p+"px;'></div></td>"),f.push(i);var y=i.getDate();i=this.date.add(i,1,"day"),i.getDate()-y>1&&(i=new Date(i.getFullYear(),i.getMonth(),y+1,12,0))}h+="</tr>",scheduler._colsS.heights[d]=c,c+=n(d)}h+="</table>",this._min_date=r,this._max_date=i,e.innerHTML=h,this._scales={};for(var b=e.getElementsByTagName("div"),d=0;d<f.length;d++){var e=b[2*d+1],w=f[d];this._scales[+w]=e}for(var d=0;d<f.length;d++){var w=f[d];this.callEvent("onScaleAdd",[this._scales[+w],w])}return this._max_date},scheduler._reset_month_scale=function(e,t,i){var n=scheduler.date.add(t,1,"month"),s=scheduler._currentDate();this.date.date_part(s),this.date.date_part(i);var r=Math.ceil(Math.round((n.valueOf()-i.valueOf())/864e5)/7),a=Math.floor(e.clientHeight/r)-this.xy.month_head_height;return this._colsS.height=a+this.xy.month_head_height,this._colsS.heights=[],scheduler._render_month_scale(e,t,i)},scheduler.getLabel=function(e,t){for(var i=this.config.lightbox.sections,n=0;n<i.length;n++)if(i[n].map_to==e)for(var s=i[n].options,r=0;r<s.length;r++)if(s[r].key==t)return s[r].label;return""},scheduler.updateCollection=function(e,t){var i=scheduler.serverList(e);return i?(i.splice(0,i.length),i.push.apply(i,t||[]),scheduler.callEvent("onOptionsLoad",[]),scheduler.resetLightbox(),!0):!1},scheduler._lame_clone=function(e,t){var i,n,s;for(t=t||[],i=0;i<t.length;i+=2)if(e===t[i])return t[i+1];if(e&&"object"==typeof e){for(s={},n=[Array,Date,Number,String,Boolean],i=0;i<n.length;i++)e instanceof n[i]&&(s=i?new n[i](e):new n[i]);t.push(e,s);for(i in e)Object.prototype.hasOwnProperty.apply(e,[i])&&(s[i]=scheduler._lame_clone(e[i],t))}return s||e},scheduler._lame_copy=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},scheduler._get_date_from_pos=function(e){var t=this._min_date.valueOf()+6e4*(e.y*this.config.time_step+24*(this._table_view?0:e.x)*60);return new Date(this._correct_shift(t))},scheduler.getActionData=function(e){var t=this._mouse_coords(e);return{date:this._get_date_from_pos(t),section:t.section}},scheduler._focus=function(e,t){e&&e.focus&&(this.config.touch?window.setTimeout(function(){e.focus()},100):(t&&e.select&&e.select(),e.focus()))},scheduler._get_real_event_length=function(e,t,i){var n,s=t-e,r=i._start_correction+i._end_correction||0,a=this["ignore_"+this._mode],o=0;for(i.render?(o=this._get_date_index(i,e),n=this._get_date_index(i,t)):n=Math.round(s/60/60/1e3/24);n>o;){var l=scheduler.date.add(t,-i.x_step,i.x_unit);s-=a&&a(t)?t-l:r,t=l,n--}return s},scheduler._get_fictional_event_length=function(e,t,i,n){var s=new Date(e),r=n?-1:1;if(i._start_correction||i._end_correction){var a;a=n?60*s.getHours()+s.getMinutes()-60*(i.first_hour||0):60*(i.last_hour||0)-(60*s.getHours()+s.getMinutes());var o=60*(i.last_hour-i.first_hour),l=Math.ceil((t/6e4-a)/o);t+=l*(1440-o)*60*1e3}var d,u=new Date(1*e+t*r),c=this["ignore_"+this._mode],h=0;for(i.render?(h=this._get_date_index(i,s),d=this._get_date_index(i,u)):d=Math.round(t/60/60/1e3/24);d*r>=h*r;){var f=scheduler.date.add(s,i.x_step*r,i.x_unit);c&&c(s)&&(t+=(f-s)*r,d+=r),s=f,h+=r}return t},scheduler._get_section_view=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode]:this._props&&this._props[this._mode]?this._props[this._mode]:null},scheduler._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},scheduler._is_initialized=function(){var e=this.getState();return this._obj&&e.date&&e.mode},scheduler._is_lightbox_open=function(){var e=this.getState();return null!==e.lightbox_id&&void 0!==e.lightbox_id},scheduler.date={init:function(){for(var e=scheduler.locale.date.month_short,t=scheduler.locale.date.month_short_hash={},i=0;i<e.length;i++)t[e[i]]=i;for(var e=scheduler.locale.date.month_full,t=scheduler.locale.date.month_full_hash={},i=0;i<e.length;i++)t[e[i]]=i},date_part:function(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),0!==e.getHours()&&e.setTime(e.getTime()+36e5*(24-e.getHours())),e},time_part:function(e){return(e.valueOf()/1e3-60*e.getTimezoneOffset())%86400},week_start:function(e){var t=e.getDay();return scheduler.config.start_on_monday&&(0===t?t=6:t--),this.date_part(this.add(e,-1*t,"day"))},month_start:function(e){return e.setDate(1),this.date_part(e)},year_start:function(e){return e.setMonth(0),this.month_start(e)},day_start:function(e){return this.date_part(e)},_add_days:function(e,t){var i=new Date(e.valueOf());return i.setDate(i.getDate()+t),!e.getHours()&&i.getHours()&&i.setTime(i.getTime()+36e5*(24-i.getHours())),i},add:function(e,t,i){var n=new Date(e.valueOf());switch(i){case"day":n=scheduler.date._add_days(n,t);break;case"week":n=scheduler.date._add_days(n,7*t);break;case"month":n.setMonth(n.getMonth()+t);break;case"year":n.setYear(n.getFullYear()+t);break;case"hour":n.setHours(n.getHours()+t);break;case"minute":n.setMinutes(n.getMinutes()+t);break;default:return scheduler.date["add_"+i](e,t,i)}return n},to_fixed:function(e){return 10>e?"0"+e:e},copy:function(e){return new Date(e.valueOf())},date_to_str:function(e,t){return e=e.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return'"+scheduler.date.to_fixed(date.getDate())+"';case"%m":return'"+scheduler.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+scheduler.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+scheduler.locale.date.day_short[date.getDay()]+"';case"%l":return'"+scheduler.locale.date.day_full[date.getDay()]+"';case"%M":return'"+scheduler.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+scheduler.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+scheduler.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+scheduler.date.to_fixed(date.getHours())+"';case"%i":return'"+scheduler.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+scheduler.date.to_fixed(date.getSeconds())+"';case"%W":return'"+scheduler.date.to_fixed(scheduler.date.getISOWeek(date))+"';default:return e}}),t&&(e=e.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+e+'";')},str_to_date:function(e,t){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",n=e.match(/%[a-zA-Z]/g),s=0;s<n.length;s++)switch(n[s]){case"%j":case"%d":i+="set[2]=temp["+s+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+s+"]||1)-1;";break;case"%y":i+="set[0]=temp["+s+"]*1+(temp["+s+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+s+"]||0;";break;case"%i":i+="set[4]=temp["+s+"]||0;";break;case"%Y":i+="set[0]=temp["+s+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+s+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+s+"]||0;";break;case"%M":i+="set[1]=scheduler.locale.date.month_short_hash[temp["+s+"]]||0;";break;case"%F":i+="set[1]=scheduler.locale.date.month_full_hash[temp["+s+"]]||0;"}var r="set[0],set[1],set[2],set[3],set[4],set[5]";return t&&(r=" Date.UTC("+r+")"),new Function("date","var set=[0,0,1,0,0,0]; "+i+" return new Date("+r+");")},getISOWeek:function(e){if(!e)return!1;var t=e.getDay();0===t&&(t=7);var i=new Date(e.valueOf());i.setDate(e.getDate()+(4-t));var n=i.getFullYear(),s=Math.round((i.getTime()-new Date(n,0,1).getTime())/864e5),r=1+Math.floor(s/7);return r},getUTCISOWeek:function(e){return this.getISOWeek(this.convert_to_utc(e))},convert_to_utc:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}},scheduler.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel"}},scheduler.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",xml_date:"%m/%d/%Y %H:%i",api_date:"%d-%m-%Y %H:%i",preserve_length:!0,time_step:5,start_on_monday:1,first_hour:0,last_hour:24,readonly:!1,drag_resize:1,drag_move:1,drag_create:1,dblclick_create:1,edit_on_create:1,details_on_create:0,resize_month_events:!1,resize_month_timed:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",height:200,map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1},scheduler.templates={},scheduler.init_templates=function(){var e=scheduler.locale.labels;e.dhx_save_btn=e.icon_save,e.dhx_cancel_btn=e.icon_cancel,e.dhx_delete_btn=e.icon_delete;var t=scheduler.date.date_to_str,i=scheduler.config,n=function(e,t){for(var i in t)e[i]||(e[i]=t[i])};n(scheduler.templates,{day_date:t(i.default_date),month_date:t(i.month_date),week_date:function(e,t){return scheduler.templates.day_date(e)+" &ndash; "+scheduler.templates.day_date(scheduler.date.add(t,-1,"day"))},day_scale_date:t(i.default_date),month_scale_date:t(i.week_date),week_scale_date:t(i.day_date),hour_scale:t(i.hour_date),time_picker:t(i.hour_date),event_date:t(i.hour_date),month_day:t(i.month_day),xml_date:scheduler.date.str_to_date(i.xml_date,i.server_utc),load_format:t(i.load_date,i.server_utc),xml_format:t(i.xml_date,i.server_utc),api_date:scheduler.date.str_to_date(i.api_date),event_header:function(e,t){return scheduler.templates.event_date(e)+" - "+scheduler.templates.event_date(t)},event_text:function(e,t,i){return i.text},event_class:function(){return""},month_date_class:function(){return""},week_date_class:function(){return""},event_bar_date:function(e){return scheduler.templates.event_date(e)+" "},event_bar_text:function(e,t,i){return i.text},month_events_link:function(e,t){return"<a>View more("+t+" events)</a>"},drag_marker_class:function(){return""},drag_marker_content:function(){return""}}),this.callEvent("onTemplatesReady",[])},scheduler.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++},scheduler._events={},scheduler.clearAll=function(){this._events={},this._loaded={},this.clear_view(),this.callEvent("onClearAll",[])},scheduler.addEvent=function(e,t,i,n,s){if(!arguments.length)return this.addEventNow();var r=e;1!=arguments.length&&(r=s||{},r.start_date=e,r.end_date=t,r.text=i,r.id=n),r.id=r.id||scheduler.uid(),r.text=r.text||"","string"==typeof r.start_date&&(r.start_date=this.templates.api_date(r.start_date)),"string"==typeof r.end_date&&(r.end_date=this.templates.api_date(r.end_date));var a=6e4*(this.config.event_duration||this.config.time_step);r.start_date.valueOf()==r.end_date.valueOf()&&r.end_date.setTime(r.end_date.valueOf()+a),r._timed=this.isOneDayEvent(r);var o=!this._events[r.id];return this._events[r.id]=r,this.event_updated(r),this._loading||this.callEvent(o?"onEventAdded":"onEventChanged",[r.id,r]),r.id},scheduler.deleteEvent=function(e,t){var i=this._events[e];(t||this.callEvent("onBeforeEventDelete",[e,i])&&this.callEvent("onConfirmedBeforeEventDelete",[e,i]))&&(i&&(this._select_id=null,delete this._events[e],this.event_updated(i)),this.callEvent("onEventDeleted",[e,i]))},scheduler.getEvent=function(e){return this._events[e]},scheduler.setEvent=function(e,t){t.id||(t.id=e),this._events[e]=t},scheduler.for_rendered=function(e,t){for(var i=this._rendered.length-1;i>=0;i--)this._rendered[i].getAttribute("event_id")==e&&t(this._rendered[i],i)},scheduler.changeEventId=function(e,t){if(e!=t){var i=this._events[e];i&&(i.id=t,this._events[t]=i,delete this._events[e]),this.for_rendered(e,function(e){e.setAttribute("event_id",t)}),this._select_id==e&&(this._select_id=t),this._edit_id==e&&(this._edit_id=t),this.callEvent("onEventIdChange",[e,t])}},function(){for(var e=["text","Text","start_date","StartDate","end_date","EndDate"],t=function(e){return function(t){return scheduler.getEvent(t)[e]}},i=function(e){return function(t,i){var n=scheduler.getEvent(t);n[e]=i,n._changed=!0,n._timed=this.isOneDayEvent(n),scheduler.event_updated(n,!0)}},n=0;n<e.length;n+=2)scheduler["getEvent"+e[n+1]]=t(e[n]),scheduler["setEvent"+e[n+1]]=i(e[n])}(),scheduler.event_updated=function(e){this.is_visible_events(e)?this.render_view_data():this.clear_event(e.id)},scheduler.is_visible_events=function(e){var t=e.start_date<this._max_date&&this._min_date<e.end_date;if(t){var i=e.end_date.getHours()>=this.config.first_hour&&e.end_date.getHours()<this.config.last_hour||e.start_date.getHours()>=this.config.first_hour&&e.start_date.getHours()<this.config.last_hour;if(i)return!0;var n=(e.end_date.valueOf()-e.start_date.valueOf())/36e5,s=24-(this.config.last_hour-this.config.first_hour);return n>s}return!1},scheduler.isOneDayEvent=function(e){var t=e.end_date.getDate()-e.start_date.getDate();return t?(0>t&&(t=Math.ceil((e.end_date.valueOf()-e.start_date.valueOf())/864e5)),1==t&&!e.end_date.getHours()&&!e.end_date.getMinutes()&&(e.start_date.getHours()||e.start_date.getMinutes())):e.start_date.getMonth()==e.end_date.getMonth()&&e.start_date.getFullYear()==e.end_date.getFullYear()},scheduler.get_visible_events=function(e){var t=[];for(var i in this._events)this.is_visible_events(this._events[i])&&(!e||this._events[i]._timed)&&this.filter_event(i,this._events[i])&&t.push(this._events[i]);return t},scheduler.filter_event=function(e,t){var i=this["filter_"+this._mode];return i?i(e,t):!0},scheduler._is_main_area_event=function(e){return!!e._timed},scheduler.render_view_data=function(e,t){if(!e){if(this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),e=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var i=0,n=e.length;n>i;i++)this._recalculate_timed(e[i]);if(this.config.multi_day&&!this._table_view){for(var s=[],r=[],i=0;i<e.length;i++)this._is_main_area_event(e[i])?s.push(e[i]):r.push(e[i]);this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(r,t),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(s,t)}else this._rendered_location=this._els.dhx_cal_data[0],this.render_data(e,t)},scheduler._view_month_day=function(e){var t=scheduler.getActionData(e).date;scheduler.callEvent("onViewMoreClick",[t])&&scheduler.setCurrentView(t,"day")},scheduler._render_month_link=function(e){for(var t=this._rendered_location,i=this._lame_clone(e),n=e._sday;n<e._eday;n++){i._sday=n,i._eday=n+1;var s=scheduler.date,r=scheduler._min_date;r=s.add(r,i._sweek,"week"),r=s.add(r,i._sday,"day");var a=scheduler.getEvents(r,s.add(r,1,"day")).length,o=this._get_event_bar_pos(i),l=o.x2-o.x,d=document.createElement("div");d.onclick=function(e){scheduler._view_month_day(e||event)},d.className="dhx_month_link",d.style.top=o.y+"px",d.style.left=o.x+"px",d.style.width=l+"px",d.innerHTML=scheduler.templates.month_events_link(r,a),this._rendered.push(d),t.appendChild(d)}},scheduler._recalculate_timed=function(e){if(e){var t;t="object"!=typeof e?this._events[e]:e,t&&(t._timed=scheduler.isOneDayEvent(t))}},scheduler.attachEvent("onEventChanged",scheduler._recalculate_timed),scheduler.attachEvent("onEventAdded",scheduler._recalculate_timed),scheduler.render_data=function(e,t){e=this._pre_render_events(e,t);for(var i=0;i<e.length;i++)if(this._table_view)if("month"!=scheduler._mode)this.render_event_bar(e[i]);else{var n=scheduler.config.max_month_events;n!==1*n||e[i]._sorder<n?this.render_event_bar(e[i]):void 0!==n&&e[i]._sorder==n&&scheduler._render_month_link(e[i])}else this.render_event(e[i])},scheduler._pre_render_events=function(e,t){var i=this.xy.bar_height,n=this._colsS.heights,s=this._colsS.heights=[0,0,0,0,0,0,0],r=this._els.dhx_cal_data[0];if(e=this._table_view?this._pre_render_events_table(e,t):this._pre_render_events_line(e,t),this._table_view)if(t)this._colsS.heights=n;else{var a=r.firstChild;if(a.rows){for(var o=0;o<a.rows.length;o++){s[o]++;var l=this._colsS.height-this.xy.month_head_height;if(s[o]*i>l){var d=a.rows[o].cells,u=l;1*this.config.max_month_events!==this.config.max_month_events||s[o]<=this.config.max_month_events?u=s[o]*i:(this.config.max_month_events+1)*i>l&&(u=(this.config.max_month_events+1)*i);for(var c=0;c<d.length;c++)d[c].childNodes[1].style.height=u+"px";s[o]=(s[o-1]||0)+d[0].offsetHeight}s[o]=(s[o-1]||0)+a.rows[o].cells[0].offsetHeight}if(s.unshift(0),a.parentNode.offsetHeight<a.parentNode.scrollHeight&&!scheduler._colsS.scroll_fix&&scheduler.xy.scroll_width){var h=scheduler._colsS,f=h[h.col_length],p=h.heights.slice();f-=scheduler.xy.scroll_width||0,this._calc_scale_sizes(f,this._min_date,this._max_date),scheduler._colsS.heights=p,this.set_xy(this._els.dhx_cal_header[0],f,this.xy.scale_height),scheduler._render_scales(this._els.dhx_cal_header[0]),scheduler._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),h.scroll_fix=!0}}else if(e.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(s[0]=-1),e.length||-1==s[0]){var m=(a.parentNode.childNodes,(s[0]+1)*i+1),_=m,g=m+"px";this.config.multi_day_height_limit&&(_=Math.min(m,this.config.multi_day_height_limit),g=_+"px"),r.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+_+"px",r.style.height=this._obj.offsetHeight-parseInt(r.style.top,10)-(this.xy.margin_top||0)+"px";var v=this._els.dhx_multi_day[0];v.style.height=g,v.style.visibility=-1==s[0]?"hidden":"visible";var y=this._els.dhx_multi_day[1];y.style.height=g,y.style.visibility=-1==s[0]?"hidden":"visible",y.className=s[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(s[0]+1)*i,s[0]=0,_!=m&&(r.style.top=parseInt(r.style.top)+2+"px",v.style.overflowY="auto",v.style.width=parseInt(v.style.width)-2+"px",y.style.position="fixed",y.style.top="",y.style.left="")}}return e},scheduler._get_event_sday=function(e){return Math.floor((e.start_date.valueOf()-this._min_date.valueOf())/864e5)},scheduler._get_event_mapped_end_date=function(e){var t=e.end_date;if(this.config.separate_short_events){var i=(e.end_date-e.start_date)/6e4;i<this._min_mapped_duration&&(t=this.date.add(t,this._min_mapped_duration-i,"minute"))}return t},scheduler._pre_render_events_line=function(e,t){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});var i=[],n=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var s=0;s<e.length;s++){var r=e[s],a=r.start_date,o=r.end_date,l=a.getHours(),d=o.getHours();if(r._sday=this._get_event_sday(r),this._ignores[r._sday])e.splice(s,1),s--;else{if(i[r._sday]||(i[r._sday]=[]),!t){r._inner=!1;for(var u=i[r._sday];u.length;){var c=u[u.length-1],h=this._get_event_mapped_end_date(c);if(!(h.valueOf()<=r.start_date.valueOf()))break;u.splice(u.length-1,1)}for(var f=u.length,p=!1,m=0;m<u.length;m++){var c=u[m],h=this._get_event_mapped_end_date(c);if(h.valueOf()<=r.start_date.valueOf()){p=!0,r._sorder=c._sorder,f=m,r._inner=!0;break}}if(u.length&&(u[u.length-1]._inner=!0),!p)if(u.length)if(u.length<=u[u.length-1]._sorder){if(u[u.length-1]._sorder)for(m=0;m<u.length;m++){for(var _=!1,g=0;g<u.length;g++)if(u[g]._sorder==m){_=!0;break}if(!_){r._sorder=m;
break}}else r._sorder=0;r._inner=!0}else{var v=u[0]._sorder;for(m=1;m<u.length;m++)u[m]._sorder>v&&(v=u[m]._sorder);r._sorder=v+1,r._inner=!1}else r._sorder=0;u.splice(f,f==u.length?0:1,r),u.length>(u.max_count||0)?(u.max_count=u.length,r._count=u.length):r._count=r._count?r._count:1}(l<this.config.first_hour||d>=this.config.last_hour)&&(n.push(r),e[s]=r=this._copy_event(r),l<this.config.first_hour&&(r.start_date.setHours(this.config.first_hour),r.start_date.setMinutes(0)),d>=this.config.last_hour&&(r.end_date.setMinutes(0),r.end_date.setHours(this.config.last_hour)),r.start_date>r.end_date||l==this.config.last_hour)&&(e.splice(s,1),s--)}}if(!t){for(var s=0;s<e.length;s++)e[s]._count=i[e[s]._sday].max_count;for(var s=0;s<n.length;s++)n[s]._count=i[n[s]._sday].max_count}return e},scheduler._time_order=function(e){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e._timed&&!t._timed?1:!e._timed&&t._timed?-1:e.id>t.id?1:-1:e.start_date>t.start_date?1:-1})},scheduler._pre_render_events_table=function(e,t){this._time_order(e);for(var i,n=[],s=[[],[],[],[],[],[],[]],r=this._colsS.heights,a=this._cols.length,o={},l=0;l<e.length;l++){var d=e[l],u=d.id;o[u]||(o[u]={first_chunk:!0,last_chunk:!0});var c=o[u],h=i||d.start_date,f=d.end_date;h<this._min_date&&(c.first_chunk=!1,h=this._min_date),f>this._max_date&&(c.last_chunk=!1,f=this._max_date);var p=this.locate_holder_day(h,!1,d);if(d._sday=p%a,!this._ignores[d._sday]||!d._timed){var m=this.locate_holder_day(f,!0,d)||a;d._eday=m%a||a,d._length=m-p,d._sweek=Math.floor((this._correct_shift(h.valueOf(),1)-this._min_date.valueOf())/(864e5*a));var _,g=s[d._sweek];for(_=0;_<g.length&&!(g[_]._eday<=d._sday);_++);if(d._sorder&&t||(d._sorder=_),d._sday+d._length<=a)i=null,n.push(d),g[_]=d,r[d._sweek]=g.length-1,d._first_chunk=c.first_chunk,d._last_chunk=c.last_chunk;else{var v=this._copy_event(d);v.id=d.id,v._length=a-d._sday,v._eday=a,v._sday=d._sday,v._sweek=d._sweek,v._sorder=d._sorder,v.end_date=this.date.add(h,v._length,"day"),v._first_chunk=c.first_chunk,c.first_chunk&&(c.first_chunk=!1),n.push(v),g[_]=v,i=v.end_date,r[d._sweek]=g.length-1,l--}}}return n},scheduler._copy_dummy=function(){var e=new Date(this.start_date),t=new Date(this.end_date);this.start_date=e,this.end_date=t},scheduler._copy_event=function(e){return this._copy_dummy.prototype=e,new this._copy_dummy},scheduler._rendered=[],scheduler.clear_view=function(){for(var e=0;e<this._rendered.length;e++){var t=this._rendered[e];t.parentNode&&t.parentNode.removeChild(t)}this._rendered=[]},scheduler.updateEvent=function(e){var t=this.getEvent(e);this.clear_event(e),t&&this.is_visible_events(t)&&this.filter_event(e,t)&&(this._table_view||this.config.multi_day||t._timed)&&(this.config.update_render?this.render_view_data():this.render_view_data([t],!0))},scheduler.clear_event=function(e){this.for_rendered(e,function(e,t){e.parentNode&&e.parentNode.removeChild(e),scheduler._rendered.splice(t,1)})},scheduler._y_from_date=function(e){var t=60*e.getHours()+e.getMinutes();return Math.round((60*t*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},scheduler._calc_event_y=function(e,t){t=t||0;var i=60*e.start_date.getHours()+e.start_date.getMinutes(),n=60*e.end_date.getHours()+e.end_date.getMinutes()||60*scheduler.config.last_hour,s=this._y_from_date(e.start_date),r=Math.max(t,(n-i)*this.config.hour_size_px/60);return{top:s,height:r}},scheduler.render_event=function(e){var t=scheduler.xy.menu_width,i=this.config.use_select_menu_space?0:t;if(!(e._sday<0)){var n=scheduler.locate_holder(e._sday);if(n){var s=this._calc_event_y(e,scheduler.xy.min_event_height),r=s.top,a=s.height,o=e._count||1,l=e._sorder||0,d=Math.floor((n.clientWidth-i)/o),u=l*d+1;if(e._inner||(d*=o-l),this.config.cascade_event_display){var c=this.config.cascade_event_count,h=this.config.cascade_event_margin;u=l%c*h;var f=e._inner?(o-l-1)%c*h/2:0;d=Math.floor(n.clientWidth-i-u-f)}var p=this._render_v_bar(e,i+u,r,d,a,e._text_style,scheduler.templates.event_header(e.start_date,e.end_date,e),scheduler.templates.event_text(e.start_date,e.end_date,e));if(this._rendered.push(p),n.appendChild(p),u=u+parseInt(n.style.left,10)+i,this._edit_id==e.id){p.style.zIndex=1,d=Math.max(d-4,scheduler.xy.editor_width),p=document.createElement("DIV"),p.setAttribute("event_id",e.id),this.set_xy(p,d,a-20,u,r+14),p.className="dhx_cal_event dhx_cal_editor";var m=scheduler.templates.event_class(e.start_date,e.end_date,e);m&&(p.className+=" "+m);var _=document.createElement("DIV");this.set_xy(_,d-6,a-26),_.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",p.appendChild(_),this._els.dhx_cal_data[0].appendChild(p),this._rendered.push(p),_.innerHTML="<textarea class='dhx_cal_editor'>"+e.text+"</textarea>",this._quirks7&&(_.firstChild.style.height=a-12+"px"),this._editor=_.firstChild,this._editor.onkeydown=function(e){if((e||event).shiftKey)return!0;var t=(e||event).keyCode;t==scheduler.keys.edit_save&&scheduler.editStop(!0),t==scheduler.keys.edit_cancel&&scheduler.editStop(!1)},this._editor.onselectstart=function(e){return(e||event).cancelBubble=!0,!0},scheduler._focus(_.firstChild,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(0!==this.xy.menu_width&&this._select_id==e.id){this.config.cascade_event_display&&this._drag_mode&&(p.style.zIndex=1);for(var g=this.config["icons_"+(this._edit_id==e.id?"edit":"select")],v="",y=e.color?"background-color: "+e.color+";":"",b=e.textColor?"color: "+e.textColor+";":"",w=0;w<g.length;w++)v+="<div class='dhx_menu_icon "+g[w]+"' style='"+y+b+"' title='"+this.locale.labels[g[w]]+"'></div>";var x=this._render_v_bar(e,u-t+1,r,t,20*g.length+26-2,"","<div style='"+y+b+"' class='dhx_menu_head'></div>",v,!0);x.style.left=u-t+1,this._els.dhx_cal_data[0].appendChild(x),this._rendered.push(x)}this.config.drag_highlight&&this._drag_id==e.id&&this.highlightEventPosition(e)}}},scheduler._render_v_bar=function(e,t,i,n,s,r,a,o,l){var d=document.createElement("DIV"),u=e.id,c=l?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",h=scheduler.templates.event_class(e.start_date,e.end_date,e);h&&(c=c+" "+h);var f=e.color?"background:"+e.color+";":"",p=e.textColor?"color:"+e.textColor+";":"",m='<div event_id="'+u+'" class="'+c+'" style="position:absolute; top:'+i+"px; left:"+t+"px; width:"+(n-4)+"px; height:"+s+"px;"+(r||"")+'"></div>';d.innerHTML=m;var _=d.cloneNode(!0).firstChild;if(!l&&scheduler.renderEvent(_,e,n,s,a,o))return _;_=d.firstChild;var g='<div class="dhx_event_move dhx_header" style=" width:'+(n-6)+"px;"+f+'" >&nbsp;</div>';g+='<div class="dhx_event_move dhx_title" style="'+f+p+'">'+a+"</div>",g+='<div class="dhx_body" style=" width:'+(n-(this._quirks?4:14))+"px; height:"+(s-(this._quirks?20:30)+1)+"px;"+f+p+'">'+o+"</div>";var v="dhx_event_resize dhx_footer";return l&&(v="dhx_resize_denied "+v),g+='<div class="'+v+'" style=" width:'+(n-8)+"px;"+(l?" margin-top:-1px;":"")+f+p+'" ></div>',_.innerHTML=g,_},scheduler.renderEvent=function(){return!1},scheduler.locate_holder=function(e){return"day"==this._mode?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[e]},scheduler.locate_holder_day=function(e,t){var i=Math.floor((this._correct_shift(e,1)-this._min_date)/864e5);return t&&this.date.time_part(e)&&i++,i},scheduler._get_dnd_order=function(e,t,i){if(!this._drag_event)return e;this._drag_event._orig_sorder?e=this._drag_event._orig_sorder:this._drag_event._orig_sorder=e;for(var n=t*e;n+t>i;)e--,n-=t;return e=Math.max(e,0)},scheduler._get_event_bar_pos=function(e){var t=this._colsS[e._sday],i=this._colsS[e._eday];i==t&&(i=this._colsS[e._eday+1]);var n=this.xy.bar_height,s=e._sorder;if(e.id==this._drag_id){var r=this._colsS.heights[e._sweek+1]-this._colsS.heights[e._sweek]-this.xy.month_head_height;s=scheduler._get_dnd_order(s,n,r)}var a=s*n,o=this._colsS.heights[e._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+a;return{x:t,x2:i,y:o}},scheduler.render_event_bar=function(e){var t=this._rendered_location,i=this._get_event_bar_pos(e),n=i.y,s=i.x,r=i.x2,a="";if(r){var o=scheduler.config.resize_month_events&&"month"==this._mode&&(!e._timed||scheduler.config.resize_month_timed),l=document.createElement("DIV"),d=e.hasOwnProperty("_first_chunk")&&e._first_chunk,u=e.hasOwnProperty("_last_chunk")&&e._last_chunk,c=o&&(e._timed||d),h=o&&(e._timed||u),f="dhx_cal_event_clear";(!e._timed||o)&&(f="dhx_cal_event_line"),d&&(f+=" dhx_cal_event_line_start"),u&&(f+=" dhx_cal_event_line_end"),c&&(a+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),h&&(a+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var p=scheduler.templates.event_class(e.start_date,e.end_date,e);p&&(f+=" "+p);var m=e.color?"background:"+e.color+";":"",_=e.textColor?"color:"+e.textColor+";":"",g=["position:absolute","top:"+n+"px","left:"+s+"px","width:"+(r-s-15)+"px",_,m,e._text_style||""].join(";"),v='<div event_id="'+e.id+'" class="'+f+'" style="'+g+'">';o&&(v+=a),"month"==scheduler.getState().mode&&(e=scheduler.getEvent(e.id)),e._timed&&(v+=scheduler.templates.event_bar_date(e.start_date,e.end_date,e)),v+=scheduler.templates.event_bar_text(e.start_date,e.end_date,e)+"</div>",v+="</div>",l.innerHTML=v,this._rendered.push(l.firstChild),t.appendChild(l.firstChild)}},scheduler._locate_event=function(e){for(var t=null;e&&!t&&e.getAttribute;)t=e.getAttribute("event_id"),e=e.parentNode;return t},scheduler.edit=function(e){this._edit_id!=e&&(this.editStop(!1,e),this._edit_id=e,this.updateEvent(e))},scheduler.editStop=function(e,t){if(!t||this._edit_id!=t){var i=this.getEvent(this._edit_id);i&&(e&&(i.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(i.id),this._edit_stop_event(i,e))}},scheduler._edit_stop_event=function(e,t){this._new_event?(t?this.callEvent("onEventAdded",[e.id,e]):e&&this.deleteEvent(e.id,!0),this._new_event=null):t&&this.callEvent("onEventChanged",[e.id,e])},scheduler.getEvents=function(e,t){var i=[];for(var n in this._events){var s=this._events[n];s&&(!e&&!t||s.start_date<t&&s.end_date>e)&&i.push(s)}return i},scheduler.getRenderedEvent=function(e){if(e){for(var t=scheduler._rendered,i=0;i<t.length;i++){var n=t[i];if(n.getAttribute("event_id")==e)return n}return null}},scheduler.showEvent=function(e,t){var i="number"==typeof e||"string"==typeof e?scheduler.getEvent(e):e;if(t=t||scheduler._mode,i&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[i,t]))){var n=scheduler.config.scroll_hour;scheduler.config.scroll_hour=i.start_date.getHours();var s=scheduler.config.preserve_scroll;scheduler.config.preserve_scroll=!1;var r=i.color,a=i.textColor;scheduler.config.highlight_displayed_event&&(i.color=scheduler.config.displayed_event_color,i.textColor=scheduler.config.displayed_event_text_color),scheduler.setCurrentView(new Date(i.start_date),t),i.color=r,i.textColor=a,scheduler.config.scroll_hour=n,scheduler.config.preserve_scroll=s,scheduler.matrix&&scheduler.matrix[t]&&(scheduler._els.dhx_cal_data[0].scrollTop=getAbsoluteTop(scheduler.getRenderedEvent(i.id))-getAbsoluteTop(scheduler._els.dhx_cal_data[0])-20),scheduler.callEvent("onAfterEventDisplay",[i,t])}},scheduler._append_drag_marker=function(e){if(!e.parentNode){var t=scheduler._els.dhx_cal_data[0],i=t.lastChild;i.className&&i.className.indexOf("dhx_scale_holder")<0&&i.previousSibling&&(i=i.previousSibling),i&&0===i.className.indexOf("dhx_scale_holder")&&i.appendChild(e)}},scheduler._update_marker_position=function(e,t){var i=scheduler._calc_event_y(t,0);e.style.top=i.top+"px",e.style.height=i.height+"px"},scheduler.highlightEventPosition=function(e){var t=document.createElement("div");t.setAttribute("event_id",e.id),this._rendered.push(t),this._update_marker_position(t,e);var i=this.templates.drag_marker_class(e.start_date,e.end_date,e),n=this.templates.drag_marker_content(e.start_date,e.end_date,e);t.className="dhx_drag_marker",i&&(t.className+=" "+i),n&&(t.innerHTML=n),this._append_drag_marker(t)},scheduler._loaded={},scheduler._load=function(e,t){if(e=e||this._load_url){e+=(-1==e.indexOf("?")?"?":"&")+"timeshift="+(new Date).getTimezoneOffset(),this.config.prevent_cache&&(e+="&uid="+this.uid());var i;if(t=t||this._date,this._load_mode){var n=this.templates.load_format;for(t=this.date[this._load_mode+"_start"](new Date(t.valueOf()));t>this._min_date;)t=this.date.add(t,-1,this._load_mode);i=t;for(var s=!0;i<this._max_date;)i=this.date.add(i,1,this._load_mode),this._loaded[n(t)]&&s?t=this.date.add(t,1,this._load_mode):s=!1;var r=i;do i=r,r=this.date.add(i,-1,this._load_mode);while(r>t&&this._loaded[n(r)]);if(t>=i)return!1;for(dhtmlxAjax.get(e+"&from="+n(t)+"&to="+n(i),function(e){scheduler.on_load(e)});i>t;)this._loaded[n(t)]=!0,t=this.date.add(t,1,this._load_mode)}else dhtmlxAjax.get(e,function(e){scheduler.on_load(e)});return this.callEvent("onXLS",[]),!0}},scheduler.on_load=function(e){var t;t=this._process&&"xml"!=this._process?this[this._process].parse(e.xmlDoc.responseText):this._magic_parser(e),scheduler._process_loading(t),this.callEvent("onXLE",[])},scheduler._process_loading=function(e){this._loading=!0,this._not_render=!0;for(var t=0;t<e.length;t++)this.callEvent("onEventLoading",[e[t]])&&this.addEvent(e[t]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},scheduler._init_event=function(e){e.text=e.text||e._tagvalue||"",e.start_date=scheduler._init_date(e.start_date),e.end_date=scheduler._init_date(e.end_date)},scheduler._init_date=function(e){return e?"string"==typeof e?scheduler.templates.xml_date(e):new Date(e):null},scheduler.json={},scheduler.json.parse=function(data){"string"==typeof data&&(scheduler._temp=eval("("+data+")"),data=scheduler._temp?scheduler._temp.data||scheduler._temp.d||scheduler._temp:[]),data.dhx_security&&(dhtmlx.security_key=data.dhx_security);var collections=scheduler._temp&&scheduler._temp.collections?scheduler._temp.collections:{},collections_loaded=!1;for(var key in collections)if(collections.hasOwnProperty(key)){collections_loaded=!0;var collection=collections[key],arr=scheduler.serverList[key];if(!arr)continue;arr.splice(0,arr.length);for(var j=0;j<collection.length;j++){var option=collection[j],obj={key:option.value,label:option.label};for(var option_key in option)if(option.hasOwnProperty(option_key)){if("value"==option_key||"label"==option_key)continue;obj[option_key]=option[option_key]}arr.push(obj)}}collections_loaded&&scheduler.callEvent("onOptionsLoad",[]);for(var evs=[],i=0;i<data.length;i++){var event=data[i];scheduler._init_event(event),evs.push(event)}return evs},scheduler.parse=function(e,t){this._process=t,this.on_load({xmlDoc:{responseText:e}})},scheduler.load=function(e,t){"string"==typeof t&&(this._process=t,t=arguments[2]),this._load_url=e,this._after_call=t,this._load(e,this._date)},scheduler.setLoadMode=function(e){"all"==e&&(e=""),this._load_mode=e},scheduler.serverList=function(e,t){return t?(this.serverList[e]=t.slice(0),this.serverList[e]):(this.serverList[e]=this.serverList[e]||[],this.serverList[e])},scheduler._userdata={},scheduler._magic_parser=function(e){var t;if(!e.getXMLTopNode){var i=e.xmlDoc.responseText;e=new dtmlXMLLoaderObject(function(){}),e.loadXMLString(i)}if(t=e.getXMLTopNode("data"),"data"!=t.tagName)return[];var n=t.getAttribute("dhx_security");n&&(dhtmlx.security_key=n);for(var s=e.doXPath("//coll_options"),r=0;r<s.length;r++){var a=s[r].getAttribute("for"),o=this.serverList[a];if(o){o.splice(0,o.length);for(var l=e.doXPath(".//item",s[r]),d=0;d<l.length;d++){for(var u=l[d],c=u.attributes,h={key:l[d].getAttribute("value"),label:l[d].getAttribute("label")},f=0;f<c.length;f++){var p=c[f];"value"!=p.nodeName&&"label"!=p.nodeName&&(h[p.nodeName]=p.nodeValue)}o.push(h)}}}s.length&&scheduler.callEvent("onOptionsLoad",[]);for(var m=e.doXPath("//userdata"),r=0;r<m.length;r++){var _=this._xmlNodeToJSON(m[r]);this._userdata[_.name]=_.text}var g=[];t=e.doXPath("//event");for(var r=0;r<t.length;r++){var v=g[r]=this._xmlNodeToJSON(t[r]);scheduler._init_event(v)}return g},scheduler._xmlNodeToJSON=function(e){for(var t={},i=0;i<e.attributes.length;i++)t[e.attributes[i].name]=e.attributes[i].value;for(var i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];1==n.nodeType&&(t[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}return t.text||(t.text=e.firstChild?e.firstChild.nodeValue:""),t},scheduler.attachEvent("onXLS",function(){if(this.config.show_loading===!0){var e;e=this.config.show_loading=document.createElement("DIV"),e.className="dhx_loading",e.style.left=Math.round((this._x-128)/2)+"px",e.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(e)}}),scheduler.attachEvent("onXLE",function(){var e=this.config.show_loading;e&&"object"==typeof e&&(this._obj.removeChild(e),this.config.show_loading=!0)}),scheduler.ical={parse:function(e){var t=e.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(t.length){t[0]=t[0].replace(/[\r\n]+(?=[a-z \t])/g," "),t[0]=t[0].replace(/\;[^:\r\n]*:/g,":");for(var i,n=[],s=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");null!==(i=s.exec(t));){for(var r,a={},o=/[^\r\n]+[\r\n]+/g;null!==(r=o.exec(i[1]));)this.parse_param(r.toString(),a);a.uid&&!a.id&&(a.id=a.uid),n.push(a)}return n}},parse_param:function(e,t){var i=e.indexOf(":");if(-1!=i){var n=e.substr(0,i).toLowerCase(),s=e.substr(i+1).replace(/\\\,/g,",").replace(/[\r\n]+$/,"");"summary"==n?n="text":"dtstart"==n?(n="start_date",s=this.parse_date(s,0,0)):"dtend"==n&&(n="end_date",s=this.parse_date(s,0,0)),t[n]=s}},parse_date:function(e,t,i){var n=e.split("T");n[1]&&(t=n[1].substr(0,2),i=n[1].substr(2,2));var s=n[0].substr(0,4),r=parseInt(n[0].substr(4,2),10)-1,a=n[0].substr(6,2);return scheduler.config.server_utc&&!n[1]?new Date(Date.UTC(s,r,a,t,i)):new Date(s,r,a,t,i)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"},scheduler._lightbox_controls={},scheduler.formSection=function(e){var t=this.config.lightbox.sections,i=0;for(i;i<t.length&&t[i].name!=e;i++);var n=t[i];scheduler._lightbox||scheduler.getLightbox();var s=document.getElementById(n.id),r=s.nextSibling,a={section:n,header:s,node:r,getValue:function(e){return scheduler.form_blocks[n.type].get_value(r,e||{},n)},setValue:function(e,t){return scheduler.form_blocks[n.type].set_value(r,e,t||{},n)}},o=scheduler._lightbox_controls["get_"+n.type+"_control"];return o?o(a):a},scheduler._lightbox_controls.get_template_control=function(e){return e.control=e.node,e},scheduler._lightbox_controls.get_select_control=function(e){return e.control=e.node.getElementsByTagName("select")[0],e},scheduler._lightbox_controls.get_textarea_control=function(e){return e.control=e.node.getElementsByTagName("textarea")[0],e},scheduler._lightbox_controls.get_time_control=function(e){return e.control=e.node.getElementsByTagName("select"),e},scheduler.form_blocks={template:{render:function(e){var t=(e.height||"30")+"px";return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+t+";'></div>"},set_value:function(e,t){e.innerHTML=t||""},get_value:function(e){return e.innerHTML||""},focus:function(){}},textarea:{render:function(e){var t=(e.height||"130")+"px";return"<div class='dhx_cal_ltext' style='height:"+t+";'><textarea></textarea></div>"},set_value:function(e,t){e.firstChild.value=t||""},get_value:function(e){return e.firstChild.value},focus:function(e){var t=e.firstChild;scheduler._focus(t,!0)}},select:{render:function(e){for(var t=(e.height||"23")+"px",i="<div class='dhx_cal_ltext' style='height:"+t+";'><select style='width:100%;'>",n=0;n<e.options.length;n++)i+="<option value='"+e.options[n].key+"'>"+e.options[n].label+"</option>";return i+="</select></div>"},set_value:function(e,t,i,n){var s=e.firstChild;!s._dhx_onchange&&n.onchange&&(s.onchange=n.onchange,s._dhx_onchange=!0),"undefined"==typeof t&&(t=(s.options[0]||{}).value),s.value=t||""},get_value:function(e){return e.firstChild.value},focus:function(e){var t=e.firstChild;scheduler._focus(t,!0)}},time:{render:function(e){e.time_format||(e.time_format=["%H:%i","%d","%m","%Y"]),e._time_format_order={};var t=e.time_format,i=scheduler.config,n=this.date.date_part(scheduler._currentDate()),s=1440,r=0;scheduler.config.limit_time_select&&(s=60*i.last_hour+1,r=60*i.first_hour,n.setHours(i.first_hour));for(var a="",o=0;o<t.length;o++){var l=t[o];switch(o>0&&(a+=" "),l){case"%Y":e._time_format_order[3]=o,a+="<select>";for(var d=n.getFullYear()-5,u=0;10>u;u++)a+="<option value='"+(d+u)+"'>"+(d+u)+"</option>";a+="</select> ";break;case"%m":e._time_format_order[2]=o,a+="<select>";for(var u=0;12>u;u++)a+="<option value='"+u+"'>"+this.locale.date.month_full[u]+"</option>";a+="</select>";break;case"%d":e._time_format_order[1]=o,a+="<select>";for(var u=1;32>u;u++)a+="<option value='"+u+"'>"+u+"</option>";a+="</select>";break;case"%H:%i":e._time_format_order[0]=o,a+="<select>";var u=r,c=n.getDate();for(e._time_values=[];s>u;){var h=this.templates.time_picker(n);a+="<option value='"+u+"'>"+h+"</option>",e._time_values.push(u),n.setTime(n.valueOf()+60*this.config.time_step*1e3);var f=n.getDate()!=c?1:0;u=24*f*60+60*n.getHours()+n.getMinutes()}a+="</select>"}}return"<div style='height:30px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+a+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+a+"</div>"},set_value:function(e,t,i,n){function s(e,t,i){for(var s=n._time_values,r=60*i.getHours()+i.getMinutes(),a=r,o=!1,l=0;l<s.length;l++){var u=s[l];if(u===r){o=!0;break}r>u&&(a=u)}e[t+d[0]].value=o?r:a,o||a||(e[t+d[0]].selectedIndex=-1),e[t+d[1]].value=i.getDate(),e[t+d[2]].value=i.getMonth(),e[t+d[3]].value=i.getFullYear()}var r,a,o=scheduler.config,l=e.getElementsByTagName("select"),d=n._time_format_order;if(o.full_day){if(!e._full_day){var u="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+scheduler.locale.labels.full_day+"&nbsp;</label></input>";scheduler.config.wide_form||(u=e.previousSibling.innerHTML+u),e.previousSibling.innerHTML=u,e._full_day=!0}var c=e.previousSibling.getElementsByTagName("input")[0];c.checked=0===scheduler.date.time_part(i.start_date)&&0===scheduler.date.time_part(i.end_date),l[d[0]].disabled=c.checked,l[d[0]+l.length/2].disabled=c.checked,c.onclick=function(){if(c.checked){var t={};scheduler.form_blocks.time.get_value(e,t,n),r=scheduler.date.date_part(t.start_date),a=scheduler.date.date_part(t.end_date),(+a==+r||+a>=+r&&(0!==i.end_date.getHours()||0!==i.end_date.getMinutes()))&&(a=scheduler.date.add(a,1,"day"))}l[d[0]].disabled=c.checked,l[d[0]+l.length/2].disabled=c.checked,s(l,0,r||i.start_date),s(l,4,a||i.end_date)}}if(o.auto_end_date&&o.event_duration)for(var h=function(){r=new Date(l[d[3]].value,l[d[2]].value,l[d[1]].value,0,l[d[0]].value),a=new Date(r.getTime()+60*scheduler.config.event_duration*1e3),s(l,4,a)},f=0;4>f;f++)l[f].onchange=h;s(l,0,i.start_date),s(l,4,i.end_date)},get_value:function(e,t,i){var n=e.getElementsByTagName("select"),s=i._time_format_order;return t.start_date=new Date(n[s[3]].value,n[s[2]].value,n[s[1]].value,0,n[s[0]].value),t.end_date=new Date(n[s[3]+4].value,n[s[2]+4].value,n[s[1]+4].value,0,n[s[0]+4].value),t.end_date<=t.start_date&&(t.end_date=scheduler.date.add(t.start_date,scheduler.config.time_step,"minute")),{start_date:new Date(t.start_date),end_date:new Date(t.end_date)}},focus:function(e){scheduler._focus(e.getElementsByTagName("select")[0])}}},scheduler.showCover=function(e){if(e){e.style.display="block";var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,i=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,n=window.innerHeight||document.documentElement.clientHeight;e.style.top=t?Math.round(t+Math.max((n-e.offsetHeight)/2,0))+"px":Math.round(Math.max((n-e.offsetHeight)/2,0)+9)+"px",e.style.left=document.documentElement.scrollWidth>document.body.offsetWidth?Math.round(i+(document.body.offsetWidth-e.offsetWidth)/2)+"px":Math.round((document.body.offsetWidth-e.offsetWidth)/2)+"px"}this.show_cover()},scheduler.showLightbox=function(e){if(e){if(!this.callEvent("onBeforeLightbox",[e]))return void(this._new_event&&(this._new_event=null));var t=this.getLightbox();this.showCover(t),this._fill_lightbox(e,t),this.callEvent("onLightbox",[e])}},scheduler._fill_lightbox=function(e,t){var i=this.getEvent(e),n=t.getElementsByTagName("span");scheduler.templates.lightbox_header?(n[1].innerHTML="",n[2].innerHTML=scheduler.templates.lightbox_header(i.start_date,i.end_date,i)):(n[1].innerHTML=this.templates.event_header(i.start_date,i.end_date,i),n[2].innerHTML=(this.templates.event_bar_text(i.start_date,i.end_date,i)||"").substr(0,70));for(var s=this.config.lightbox.sections,r=0;r<s.length;r++){var a=s[r],o=document.getElementById(a.id).nextSibling,l=this.form_blocks[a.type],d=void 0!==i[a.map_to]?i[a.map_to]:a.default_value;l.set_value.call(this,o,d,i,a),s[r].focus&&l.focus.call(this,o)}scheduler._lightbox_id=e},scheduler._lightbox_out=function(e){for(var t=this.config.lightbox.sections,i=0;i<t.length;i++){var n=document.getElementById(t[i].id);n=n?n.nextSibling:n;var s=this.form_blocks[t[i].type],r=s.get_value.call(this,n,e,t[i]);"auto"!=t[i].map_to&&(e[t[i].map_to]=r)}return e},scheduler._empty_lightbox=function(e){var t=scheduler._lightbox_id,i=this.getEvent(t);this.getLightbox(),this._lame_copy(i,e),this.setEvent(i.id,i),this._edit_stop_event(i,!0),this.render_view_data()},scheduler.hide_lightbox=function(){this.hideCover(this.getLightbox()),this._lightbox_id=null,this.callEvent("onAfterLightbox",[])},scheduler.hideCover=function(e){e&&(e.style.display="none"),this.hide_cover()},scheduler.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},scheduler.show_cover=function(){if(!this._cover){this._cover=document.createElement("DIV"),this._cover.className="dhx_cal_cover";var e=void 0!==document.height?document.height:document.body.offsetHeight,t=document.documentElement?document.documentElement.scrollHeight:0;this._cover.style.height=Math.max(e,t)+"px",document.body.appendChild(this._cover)}},scheduler.save_lightbox=function(){var e=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));(!this.checkEvent("onEventSave")||this.callEvent("onEventSave",[this._lightbox_id,e,this._new_event]))&&(this._empty_lightbox(e),this.hide_lightbox())},scheduler.startLightbox=function(e,t){this._lightbox_id=e,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=t,this.showCover(t)},scheduler.endLightbox=function(e,t){this._edit_stop_event(scheduler.getEvent(this._lightbox_id),e),e&&scheduler.render_view_data(),this.hideCover(t),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null},scheduler.resetLightbox=function(){scheduler._lightbox&&!scheduler._custom_lightbox&&scheduler._lightbox.parentNode.removeChild(scheduler._lightbox),scheduler._lightbox=null},scheduler.cancel_lightbox=function(){this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.endLightbox(!1),this.hide_lightbox()},scheduler._init_lightbox_events=function(){this.getLightbox().onclick=function(e){var t=e?e.target:event.srcElement;if(t.className||(t=t.previousSibling),t&&t.className)switch(t.className){case"dhx_save_btn":scheduler.save_lightbox();break;case"dhx_delete_btn":var i=scheduler.locale.labels.confirm_deleting;scheduler._dhtmlx_confirm(i,scheduler.locale.labels.title_confirm_deleting,function(){scheduler.deleteEvent(scheduler._lightbox_id),scheduler._new_event=null,scheduler.hide_lightbox()});break;case"dhx_cancel_btn":scheduler.cancel_lightbox();break;default:if(t.getAttribute("dhx_button"))scheduler.callEvent("onLightboxButton",[t.className,t,e]);else{var n,s,r;-1!=t.className.indexOf("dhx_custom_button")&&(-1!=t.className.indexOf("dhx_custom_button_")?(n=t.parentNode.getAttribute("index"),r=t.parentNode.parentNode):(n=t.getAttribute("index"),r=t.parentNode,t=t.firstChild)),n&&(s=scheduler.form_blocks[scheduler.config.lightbox.sections[n].type],s.button_click(n,t,r,r.nextSibling))}}},this.getLightbox().onkeydown=function(e){switch((e||event).keyCode){case scheduler.keys.edit_save:if((e||event).shiftKey)return;scheduler.save_lightbox();break;case scheduler.keys.edit_cancel:scheduler.cancel_lightbox()}}},scheduler.setLightboxSize=function(){var e=this._lightbox;if(e){var t=e.childNodes[1];t.style.height="0px",t.style.height=t.scrollHeight+"px",e.style.height=t.scrollHeight+scheduler.xy.lightbox_additional_height+"px",t.style.height=t.scrollHeight+"px"}},scheduler._init_dnd_events=function(){dhtmlxEvent(document.body,"mousemove",scheduler._move_while_dnd),dhtmlxEvent(document.body,"mouseup",scheduler._finish_dnd),scheduler._init_dnd_events=function(){}},scheduler._move_while_dnd=function(e){if(scheduler._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var t=scheduler.getLightbox(),i=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY];t.style.top=scheduler._lb_start[1]+i[1]-scheduler._dnd_start_lb[1]+"px",t.style.left=scheduler._lb_start[0]+i[0]-scheduler._dnd_start_lb[0]+"px"}},scheduler._ready_to_dnd=function(e){var t=scheduler.getLightbox();scheduler._lb_start=[parseInt(t.style.left,10),parseInt(t.style.top,10)],scheduler._dnd_start_lb=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY]},scheduler._finish_dnd=function(){scheduler._lb_start&&(scheduler._lb_start=scheduler._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},scheduler.getLightbox=function(){if(!this._lightbox){var e=document.createElement("DIV");e.className="dhx_cal_light",scheduler.config.wide_form&&(e.className+=" dhx_cal_light_wide"),scheduler.form_blocks.recurring&&(e.className+=" dhx_cal_light_rec"),/msie|MSIE 6/.test(navigator.userAgent)&&(e.className+=" dhx_ie6"),e.style.visibility="hidden";for(var t=this._lightbox_template,i=this.config.buttons_left,n=0;n<i.length;n++)t+="<div class='dhx_btn_set dhx_left_btn_set "+i[n]+"_set'><div dhx_button='1' class='"+i[n]+"'></div><div>"+scheduler.locale.labels[i[n]]+"</div></div>";i=this.config.buttons_right;for(var n=0;n<i.length;n++)t+="<div class='dhx_btn_set dhx_right_btn_set "+i[n]+"_set' style='float:right;'><div dhx_button='1' class='"+i[n]+"'></div><div>"+scheduler.locale.labels[i[n]]+"</div></div>";t+="</div>",e.innerHTML=t,scheduler.config.drag_lightbox&&(e.firstChild.onmousedown=scheduler._ready_to_dnd,e.firstChild.onselectstart=function(){return!1},e.firstChild.style.cursor="pointer",scheduler._init_dnd_events()),document.body.insertBefore(e,document.body.firstChild),this._lightbox=e;var s=this.config.lightbox.sections;t="";for(var n=0;n<s.length;n++){var r=this.form_blocks[s[n].type];if(r){s[n].id="area_"+this.uid();var a="";s[n].button&&(a="<div class='dhx_custom_button' index='"+n+"'><div class='dhx_custom_button_"+s[n].button+"'></div><div>"+this.locale.labels["button_"+s[n].button]+"</div></div>"),this.config.wide_form&&(t+="<div class='dhx_wrap_section'>");var o=this.locale.labels["section_"+s[n].name];"string"!=typeof o&&(o=s[n].name),t+="<div id='"+s[n].id+"' class='dhx_cal_lsection'>"+a+o+"</div>"+r.render.call(this,s[n]),t+="</div>"}}for(var l=e.getElementsByTagName("div"),n=0;n<l.length;n++){var d=l[n];if("dhx_cal_larea"==d.className){d.innerHTML=t;break}}this.setLightboxSize(),this._init_lightbox_events(this),e.style.display="none",e.style.visibility="visible"}return this._lightbox},scheduler._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>",scheduler._init_touch_events=function(){"force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))),this.config.touch&&(this.xy.scroll_width=0,window.navigator.msPointerEnabled?(this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(e){return e.pointerType==e.MSPOINTER_TYPE_MOUSE?null:e},function(e){return!e||e.pointerType==e.MSPOINTER_TYPE_MOUSE}),this._obj.ondblclick=function(){}):this._touch_events(["touchmove","touchstart","touchend"],function(e){return e.touches&&e.touches.length>1?null:e.touches[0]?{target:e.target,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}:e},function(){return!1}))},scheduler._touch_events=function(e,t,i){function n(e,t,i){dhtmlxEvent(e,t,function(e){return scheduler._is_lightbox_open()?!0:i(e)
})}function s(e,t,i){if(e&&t){var n=Math.abs(e.pageY-t.pageY),s=Math.abs(e.pageX-t.pageX);s>i&&(!n||s/n>3)&&(e.pageX>t.pageX?scheduler._click.dhx_cal_next_button():scheduler._click.dhx_cal_prev_button())}}function r(e){scheduler._hide_global_tip(),d&&(scheduler._on_mouse_up(t(e||event)),scheduler._temp_touch_block=!1),scheduler._drag_id=null,scheduler._drag_mode=null,scheduler._drag_pos=null,clearTimeout(l),d=c=!1,u=!0}var a,o,l,d,u,c,h=-1!=navigator.userAgent.indexOf("Android")&&-1!=navigator.userAgent.indexOf("WebKit"),f=0;n(document.body,e[0],function(e){if(!i(e)){if(d)return scheduler._on_mouse_move(t(e)),scheduler._update_global_tip(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1;if(o&&h&&s(o,t(e),0),o=t(e),c)return o?void((a.target!=o.target||Math.abs(a.pageX-o.pageX)>5||Math.abs(a.pageY-o.pageY)>5)&&(u=!0,clearTimeout(l))):void(u=!0)}}),n(this._els.dhx_cal_data[0],"scroll",r),n(this._els.dhx_cal_data[0],"touchcancel",r),n(this._els.dhx_cal_data[0],"contextmenu",function(e){return c?(e&&e.preventDefault&&e.preventDefault(),(e||event).cancelBubble=!0,!1):void 0}),n(this._els.dhx_cal_data[0],e[1],function(e){if(!i(e)){var n;if(d=u=!1,c=!0,scheduler._temp_touch_block=!0,n=o=t(e),!n)return void(u=!0);var s=new Date;if(!u&&!d&&250>s-f)return scheduler._click.dhx_cal_data(n),window.setTimeout(function(){scheduler._on_dbl_click(n)},50),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,scheduler._block_next_stop=!0,!1;f=s,u||d||!scheduler.config.touch_drag||(l=setTimeout(function(){d=!0;var e=a.target;if(e&&e.className&&-1!=e.className.indexOf("dhx_body")&&(e=e.previousSibling),scheduler._on_mouse_down(a,e),scheduler._drag_mode&&"create"!=scheduler._drag_mode){var t=-1;if(scheduler.for_rendered(scheduler._drag_id,function(e,i){t=e.getBoundingClientRect().top,e.style.display="none",scheduler._rendered.splice(i,1)}),t>=0){var i=scheduler.config.time_step;scheduler._move_pos_shift=i*Math.round(60*(n.pageY-t)/(scheduler.config.hour_size_px*i))}}scheduler.config.touch_tip&&scheduler._show_global_tip(),scheduler._on_mouse_move(a)},scheduler.config.touch_drag),a=n)}}),n(this._els.dhx_cal_data[0],e[2],function(e){return i(e)?void 0:(d||s(a,o,200),d&&(scheduler._ignore_next_click=!0),r(e),scheduler._block_next_stop?(scheduler._block_next_stop=!1,e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1):void 0)}),dhtmlxEvent(document.body,e[2],r)},scheduler._show_global_tip=function(){scheduler._hide_global_tip();var e=scheduler._global_tip=document.createElement("DIV");e.className="dhx_global_tip",scheduler._update_global_tip(1),document.body.appendChild(e)},scheduler._update_global_tip=function(e){var t=scheduler._global_tip;if(t){var i="";if(scheduler._drag_id&&!e){var n=scheduler.getEvent(scheduler._drag_id);n&&(i="<div>"+(n._timed?scheduler.templates.event_header(n.start_date,n.end_date,n):scheduler.templates.day_date(n.start_date,n.end_date,n))+"</div>")}t.innerHTML="create"==scheduler._drag_mode||"new-size"==scheduler._drag_mode?(scheduler.locale.drag_to_create||"Drag to create")+i:(scheduler.locale.drag_to_move||"Drag to move")+i}},scheduler._hide_global_tip=function(){var e=scheduler._global_tip;e&&e.parentNode&&(e.parentNode.removeChild(e),scheduler._global_tip=0)},scheduler._dp_init=function(e){e._methods=["_set_event_text_style","","changeEventId","_dp_hook_delete"],this._dp_hook_delete=function(e){return this.deleteEvent(e,!0)},this.attachEvent("onEventAdded",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"inserted")}),this.attachEvent("onConfirmedBeforeEventDelete",function(t){if(this._validId(t)){var i=e.getState(t);return"inserted"==i||this._new_event?(e.setUpdated(t,!1),!0):"deleted"==i?!1:"true_deleted"==i?!0:(e.setUpdated(t,!0,"deleted"),!1)}}),this.attachEvent("onEventChanged",function(t){!this._loading&&this._validId(t)&&e.setUpdated(t,!0,"updated")}),e._getRowData=function(e){var t=this.obj.getEvent(e),i={};for(var n in t)0!==n.indexOf("_")&&(i[n]=t[n]&&t[n].getUTCFullYear?this.obj.templates.xml_format(t[n]):t[n]);return i},e._clearUpdateFlag=function(){},e.attachEvent("insertCallback",scheduler._update_callback),e.attachEvent("updateCallback",scheduler._update_callback),e.attachEvent("deleteCallback",function(e,t){this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj.deleteEvent(t)})},scheduler._validId=function(){return!0},scheduler.setUserData=function(e,t,i){e?this.getEvent(e)[t]=i:this._userdata[t]=i},scheduler.getUserData=function(e,t){return e?this.getEvent(e)[t]:this._userdata[t]},scheduler._set_event_text_style=function(e,t){this.for_rendered(e,function(e){e.style.cssText+=";"+t});var i=this.getEvent(e);i._text_style=t,this.event_updated(i)},scheduler._update_callback=function(e){var t=scheduler._xmlNodeToJSON(e.firstChild);t.text=t.text||t._tagvalue,t.start_date=scheduler.templates.xml_date(t.start_date),t.end_date=scheduler.templates.xml_date(t.end_date),scheduler.addEvent(t)},scheduler._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},scheduler._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},scheduler._configure=function(e,t,i){for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n][i])},scheduler._skin_init=function(){if(!scheduler.skin)for(var e=document.getElementsByTagName("link"),t=0;t<e.length;t++){var i=e[t].href.match("dhtmlxscheduler_([a-z]+).css");if(i){scheduler.skin=i[1];break}}var n=0;if(!scheduler.skin||"classic"!==scheduler.skin&&"glossy"!==scheduler.skin||(n=1),this._configure(scheduler.config,scheduler._skin_settings,n),this._configure(scheduler.xy,scheduler._skin_xy,n),!n){var s=scheduler.config.minicalendar;s&&(s.padding=14),scheduler.templates.event_bar_date=function(e){return"\u2022 <b>"+scheduler.templates.event_date(e)+"</b> "},scheduler.attachEvent("onTemplatesReady",function(){var e=scheduler.date.date_to_str("%d");scheduler.templates._old_month_day||(scheduler.templates._old_month_day=scheduler.templates.month_day);var t=scheduler.templates._old_month_day;if(scheduler.templates.month_day=function(i){if("month"==this._mode){var n=e(i);return 1==i.getDate()&&(n=scheduler.locale.date.month_full[i.getMonth()]+" "+n),+i==+scheduler.date.date_part(new Date)&&(n=scheduler.locale.labels.dhx_cal_today_button+" "+n),n}return t.call(this,i)},scheduler.config.fix_tab_position){for(var i=scheduler._els.dhx_cal_navline[0].getElementsByTagName("div"),n=null,s=211,r=0;r<i.length;r++){var a=i[r],o=a.getAttribute("name");if(o)switch(a.style.right="auto",o){case"day_tab":a.style.left="14px",a.className+=" dhx_cal_tab_first";break;case"week_tab":a.style.left="75px";break;case"month_tab":a.style.left="136px",a.className+=" dhx_cal_tab_last";break;default:a.style.left=s+"px",a.className+=" dhx_cal_tab_standalone",s=s+14+a.offsetWidth}else 0===(a.className||"").indexOf("dhx_minical_icon")&&a.parentNode==scheduler._els.dhx_cal_navline[0]&&(n=a)}n&&(n.style.left=s+"px")}scheduler.skin&&"flat"===scheduler.skin&&(scheduler.xy.scale_height=35,scheduler.templates.hour_scale=function(e){var t=e.getMinutes();t=10>t?"0"+t:t;var i="<span class='dhx_scale_h'>"+e.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+t+"</span>";return i})}),scheduler._skin_init=function(){}}},window.jQuery&&!function(e){var t=[];e.fn.dhx_scheduler=function(i){if("string"!=typeof i){var n=[];return this.each(function(){if(this&&this.getAttribute&&!this.getAttribute("dhxscheduler")){for(var e in i)"data"!=e&&(scheduler.config[e]=i[e]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),scheduler.init(this,scheduler.config.date,scheduler.config.mode),i.data&&scheduler.parse(i.data),n.push(scheduler)}}),1===n.length?n[0]:n}return t[i]?t[i].apply(this,[]):void e.error("Method "+i+" does not exist on jQuery.dhx_scheduler")}}(jQuery),scheduler.config.limit_start=null,scheduler.config.limit_end=null,scheduler.config.limit_view=!1,scheduler.config.check_limits=!0,scheduler.config.mark_now=!0,scheduler.config.display_marked_timespans=!0,scheduler._temp_limit_scope=function(){function e(e,t,i,n,s){var r=scheduler,a=[],o={_props:"map_to",matrix:"y_property"};for(var l in o){var d=o[l];if(r[l])for(var u in r[l]){var c=r[l][u],h=c[d];e[h]&&(a=r._add_timespan_zones(a,scheduler._get_blocked_zones(t[u],e[h],i,n,s)))}}return a=r._add_timespan_zones(a,scheduler._get_blocked_zones(t,"global",i,n,s))}var t=null,i="dhx_time_block",n="default",s=function(e,t,i){return t instanceof Date&&i instanceof Date?(e.start_date=t,e.end_date=i):(e.days=t,e.zones=i),e},r=function(e,t,n){var r="object"==typeof e?e:{days:e};return r.type=i,r.css="",t&&(n&&(r.sections=n),r=s(r,e,t)),r};scheduler.blockTime=function(e,t,i){var n=r(e,t,i);return scheduler.addMarkedTimespan(n)},scheduler.unblockTime=function(e,t,i){t=t||"fullday";var n=r(e,t,i);return scheduler.deleteMarkedTimespan(n)},scheduler.attachEvent("onBeforeViewChange",function(e,t,i,n){return scheduler.config.limit_view&&(n=n||t,i=i||e,n.valueOf()>scheduler.config.limit_end.valueOf()||this.date.add(n,1,i)<=scheduler.config.limit_start.valueOf())?(setTimeout(function(){scheduler.setCurrentView(t||scheduler.config.limit_start,i)},1),!1):!0}),scheduler.checkInMarkedTimespan=function(t,i,s){i=i||n;for(var r=!0,a=new Date(t.start_date.valueOf()),o=scheduler.date.add(a,1,"day"),l=scheduler._marked_timespans;a<t.end_date;a=scheduler.date.date_part(o),o=scheduler.date.add(a,1,"day")){var d=+scheduler.date.date_part(new Date(a)),u=a.getDay(),c=e(t,l,u,d,i);if(c)for(var h=0;h<c.length;h+=2){var f=scheduler._get_zone_minutes(a),p=t.end_date>o||t.end_date.getDate()!=a.getDate()?1440:scheduler._get_zone_minutes(t.end_date),m=c[h],_=c[h+1];if(p>m&&_>f&&(r="function"==typeof s?s(t,f,p,m,_):!1,!r))break}}return!r};var a=scheduler.checkLimitViolation=function(e){if(!e)return!0;if(!scheduler.config.check_limits)return!0;var t=scheduler,n=t.config,s=[];if(e.rec_type)for(var r=scheduler.getRecDates(e),a=0;a<r.length;a++){var o=scheduler._copy_event(e);scheduler._lame_copy(o,r[a]),s.push(o)}else s=[e];for(var l=!0,d=0;d<s.length;d++){var u=!0,o=s[d];o._timed=scheduler.isOneDayEvent(o),u=n.limit_start&&n.limit_end?o.start_date.valueOf()>=n.limit_start.valueOf()&&o.end_date.valueOf()<=n.limit_end.valueOf():!0,u&&(u=!scheduler.checkInMarkedTimespan(o,i,function(e,i,n,s,r){var a=!0;return r>=i&&i>=s&&((1440==r||r>n)&&(a=!1),e._timed&&t._drag_id&&"new-size"==t._drag_mode?(e.start_date.setHours(0),e.start_date.setMinutes(r)):a=!1),(n>=s&&r>n||s>i&&n>r)&&(e._timed&&t._drag_id&&"new-size"==t._drag_mode?(e.end_date.setHours(0),e.end_date.setMinutes(s)):a=!1),a})),u||(u=t.checkEvent("onLimitViolation")?t.callEvent("onLimitViolation",[o.id,o]):u),l=l&&u}return l||(t._drag_id=null,t._drag_mode=null),l};scheduler._get_blocked_zones=function(e,t,i,n,s){var r=[];if(e&&e[t])for(var a=e[t],o=this._get_relevant_blocked_zones(i,n,a,s),l=0;l<o.length;l++)r=this._add_timespan_zones(r,o[l].zones);return r},scheduler._get_relevant_blocked_zones=function(e,t,i,n){var s=i[t]&&i[t][n]?i[t][n]:i[e]&&i[e][n]?i[e][n]:[];return s},scheduler.attachEvent("onMouseDown",function(e){return!(e==i)}),scheduler.attachEvent("onBeforeDrag",function(e){return e?a(scheduler.getEvent(e)):!0}),scheduler.attachEvent("onClick",function(e){return a(scheduler.getEvent(e))}),scheduler.attachEvent("onBeforeLightbox",function(e){var i=scheduler.getEvent(e);return t=[i.start_date,i.end_date],a(i)}),scheduler.attachEvent("onEventSave",function(e,t){if(!t.start_date||!t.end_date){var i=scheduler.getEvent(e);t.start_date=new Date(i.start_date),t.end_date=new Date(i.end_date)}if(t.rec_type){var n=scheduler._lame_clone(t);return scheduler._roll_back_dates(n),a(n)}return a(t)}),scheduler.attachEvent("onEventAdded",function(e){if(!e)return!0;var t=scheduler.getEvent(e);return!a(t)&&scheduler.config.limit_start&&scheduler.config.limit_end&&(t.start_date<scheduler.config.limit_start&&(t.start_date=new Date(scheduler.config.limit_start)),t.start_date.valueOf()>=scheduler.config.limit_end.valueOf()&&(t.start_date=this.date.add(scheduler.config.limit_end,-1,"day")),t.end_date<scheduler.config.limit_start&&(t.end_date=new Date(scheduler.config.limit_start)),t.end_date.valueOf()>=scheduler.config.limit_end.valueOf()&&(t.end_date=this.date.add(scheduler.config.limit_end,-1,"day")),t.start_date.valueOf()>=t.end_date.valueOf()&&(t.end_date=this.date.add(t.start_date,this.config.event_duration||this.config.time_step,"minute")),t._timed=this.isOneDayEvent(t)),!0}),scheduler.attachEvent("onEventChanged",function(e){if(!e)return!0;var i=scheduler.getEvent(e);if(!a(i)){if(!t)return!1;i.start_date=t[0],i.end_date=t[1],i._timed=this.isOneDayEvent(i)}return!0}),scheduler.attachEvent("onBeforeEventChanged",function(e){return a(e)}),scheduler.attachEvent("onBeforeEventCreated",function(e){var t=scheduler.getActionData(e).date,i={_timed:!0,start_date:t,end_date:scheduler.date.add(t,scheduler.config.time_step,"minute")};return a(i)}),scheduler.attachEvent("onViewChange",function(){scheduler._mark_now()}),scheduler.attachEvent("onSchedulerResize",function(){return window.setTimeout(function(){scheduler._mark_now()},1),!0}),scheduler.attachEvent("onTemplatesReady",function(){scheduler._mark_now_timer=window.setInterval(function(){scheduler._is_initialized()&&scheduler._mark_now()},6e4)}),scheduler._mark_now=function(e){var t="dhx_now_time";this._els[t]||(this._els[t]=[]);var i=scheduler._currentDate(),n=this.config;if(scheduler._remove_mark_now(),!e&&n.mark_now&&i<this._max_date&&i>this._min_date&&i.getHours()>=n.first_hour&&i.getHours()<n.last_hour){var s=this.locate_holder_day(i);this._els[t]=scheduler._append_mark_now(s,i)}},scheduler._append_mark_now=function(e,t){var i="dhx_now_time",n=scheduler._get_zone_minutes(t),s={zones:[n,n+1],css:i,type:i};if(!this._table_view){if(this._props&&this._props[this._mode]){for(var r=this._els.dhx_cal_data[0].childNodes,a=[],o=0;o<r.length-1;o++){var l=e+o;s.days=l;var d=scheduler._render_marked_timespan(s,null,l)[0];a.push(d)}return a}return s.days=e,scheduler._render_marked_timespan(s,null,e)}return"month"==this._mode?(s.days=+scheduler.date.date_part(t),scheduler._render_marked_timespan(s,null,null)):void 0},scheduler._remove_mark_now=function(){for(var e="dhx_now_time",t=this._els[e],i=0;i<t.length;i++){var n=t[i],s=n.parentNode;s&&s.removeChild(n)}this._els[e]=[]},scheduler._marked_timespans={global:{}},scheduler._get_zone_minutes=function(e){return 60*e.getHours()+e.getMinutes()},scheduler._prepare_timespan_options=function(e){var t=[],i=[];if("fullweek"==e.days&&(e.days=[0,1,2,3,4,5,6]),e.days instanceof Array){for(var s=e.days.slice(),r=0;r<s.length;r++){var a=scheduler._lame_clone(e);a.days=s[r],t.push.apply(t,scheduler._prepare_timespan_options(a))}return t}if(!e||!(e.start_date&&e.end_date&&e.end_date>e.start_date||void 0!==e.days&&e.zones))return t;var o=0,l=1440;"fullday"==e.zones&&(e.zones=[o,l]),e.zones&&e.invert_zones&&(e.zones=scheduler.invertZones(e.zones)),e.id=scheduler.uid(),e.css=e.css||"",e.type=e.type||n;var d=e.sections;if(d){for(var u in d)if(d.hasOwnProperty(u)){var c=d[u];c instanceof Array||(c=[c]);for(var r=0;r<c.length;r++){var h=scheduler._lame_copy({},e);h.sections={},h.sections[u]=c[r],i.push(h)}}}else i.push(e);for(var f=0;f<i.length;f++){var p=i[f],m=p.start_date,_=p.end_date;if(m&&_)for(var g=scheduler.date.date_part(new Date(m)),v=scheduler.date.add(g,1,"day");_>g;){var h=scheduler._lame_copy({},p);delete h.start_date,delete h.end_date,h.days=g.valueOf();var y=m>g?scheduler._get_zone_minutes(m):o,b=_>v||_.getDate()!=g.getDate()?l:scheduler._get_zone_minutes(_);h.zones=[y,b],t.push(h),g=v,v=scheduler.date.add(v,1,"day")}else p.days instanceof Date&&(p.days=scheduler.date.date_part(p.days).valueOf()),p.zones=e.zones.slice(),t.push(p)}return t},scheduler._get_dates_by_index=function(e,t,i){var n=[];t=scheduler.date.date_part(new Date(t||scheduler._min_date)),i=new Date(i||scheduler._max_date);for(var s=t.getDay(),r=e-s>=0?e-s:7-t.getDay()+e,a=scheduler.date.add(t,r,"day");i>a;a=scheduler.date.add(a,1,"week"))n.push(a);return n},scheduler._get_css_classes_by_config=function(e){var t=[];return e.type==i&&(t.push(i),e.css&&t.push(i+"_reset")),t.push("dhx_marked_timespan",e.css),t.join(" ")},scheduler._get_block_by_config=function(e){var t=document.createElement("DIV");return e.html&&("string"==typeof e.html?t.innerHTML=e.html:t.appendChild(e.html)),t},scheduler._render_marked_timespan=function(e,t,i){var n=[],s=scheduler.config,r=this._min_date,a=this._max_date,o=!1;if(!s.display_marked_timespans)return n;if(!i&&0!==i){if(e.days<7)i=e.days;else{var l=new Date(e.days);if(o=+l,!(+a>+l&&+l>=+r))return n;i=l.getDay()}var d=r.getDay();d>i?i=7-(d-i):i-=d}var u=e.zones,c=scheduler._get_css_classes_by_config(e);if(scheduler._table_view&&"month"==scheduler._mode){var h=[],f=[];if(t)h.push(t),f.push(i);else{f=o?[o]:scheduler._get_dates_by_index(i);for(var p=0;p<f.length;p++)h.push(this._scales[f[p]])}for(var p=0;p<h.length;p++){t=h[p],i=f[p];var m=Math.floor((this._correct_shift(i,1)-r.valueOf())/(864e5*this._cols.length)),_=this.locate_holder_day(i,!1)%this._cols.length;if(!this._ignores[_]){var g=scheduler._get_block_by_config(e),v=Math.max(t.offsetHeight-1,0),y=Math.max(t.offsetWidth-1,0),b=this._colsS[_],w=this._colsS.heights[m]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;g.className=c,g.style.top=w+"px",g.style.lineHeight=g.style.height=v+"px";for(var x=0;x<u.length;x+=2){var k=u[p],D=u[p+1];if(k>=D)return[];var T=g.cloneNode(!0);T.style.left=b+Math.round(k/1440*y)+"px",T.style.width=Math.round((D-k)/1440*y)+"px",t.appendChild(T),n.push(T)}}}}else{var M=i;if(this._ignores[this.locate_holder_day(i,!1)])return n;if(this._props&&this._props[this._mode]&&e.sections&&e.sections[this._mode]){var C=this._props[this._mode];M=C.order[e.sections[this._mode]],C.size&&M>C.position+C.size&&(M=0)}t=t?t:scheduler.locate_holder(M);for(var p=0;p<u.length;p+=2){var k=Math.max(u[p],60*s.first_hour),D=Math.min(u[p+1],60*s.last_hour);if(k>=D){if(p+2<u.length)continue;return[]}var T=scheduler._get_block_by_config(e);T.className=c;var A=24*this.config.hour_size_px+1,E=36e5;T.style.top=Math.round((60*k*1e3-this.config.first_hour*E)*this.config.hour_size_px/E)%A+"px",T.style.lineHeight=T.style.height=Math.max(Math.round(60*(D-k)*1e3*this.config.hour_size_px/E)%A,1)+"px",t.appendChild(T),n.push(T)}}return n},scheduler.markTimespan=function(e){var t=scheduler._prepare_timespan_options(e);if(t.length){for(var i=[],n=0;n<t.length;n++){var s=t[n],r=scheduler._render_marked_timespan(s,null,null);r.length&&i.push.apply(i,r)}return i}},scheduler.unmarkTimespan=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];i.parentNode&&i.parentNode.removeChild(i)}},scheduler._marked_timespans_ids={},scheduler.addMarkedTimespan=function(e){var t=scheduler._prepare_timespan_options(e),i="global";if(t.length){var n=t[0].id,s=scheduler._marked_timespans,r=scheduler._marked_timespans_ids;r[n]||(r[n]=[]);for(var a=0;a<t.length;a++){var o=t[a],l=o.days,d=(o.zones,o.css,o.sections),u=o.type;if(o.id=n,d){for(var c in d)if(d.hasOwnProperty(c)){s[c]||(s[c]={});var h=d[c],f=s[c];f[h]||(f[h]={}),f[h][l]||(f[h][l]={}),f[h][l][u]||(f[h][l][u]=[],scheduler._marked_timespans_types||(scheduler._marked_timespans_types={}),scheduler._marked_timespans_types[u]||(scheduler._marked_timespans_types[u]=!0));var p=f[h][l][u];o._array=p,p.push(o),r[n].push(o)}}else{s[i][l]||(s[i][l]={}),s[i][l][u]||(s[i][l][u]=[]),scheduler._marked_timespans_types||(scheduler._marked_timespans_types={}),scheduler._marked_timespans_types[u]||(scheduler._marked_timespans_types[u]=!0);var p=s[i][l][u];o._array=p,p.push(o),r[n].push(o)}}return n}},scheduler._add_timespan_zones=function(e,t){var i=e.slice();if(t=t.slice(),!i.length)return t;for(var n=0;n<i.length;n+=2)for(var s=i[n],r=i[n+1],a=n+2==i.length,o=0;o<t.length;o+=2){var l=t[o],d=t[o+1];if(d>r&&r>=l||s>l&&d>=s)i[n]=Math.min(s,l),i[n+1]=Math.max(r,d),n-=2;else{if(!a)continue;var u=s>l?0:2;i.splice(n+u,0,l,d)}t.splice(o--,2);break}return i},scheduler._subtract_timespan_zones=function(e,t){for(var i=e.slice(),n=0;n<i.length;n+=2)for(var s=i[n],r=i[n+1],a=0;a<t.length;a+=2){var o=t[a],l=t[a+1];if(l>s&&r>o){var d=!1;s>=o&&l>=r&&i.splice(n,2),o>s&&(i.splice(n,2,s,o),d=!0),r>l&&i.splice(d?n+2:n,d?0:2,l,r),n-=2;break}}return i},scheduler.invertZones=function(e){return scheduler._subtract_timespan_zones([0,1440],e.slice())},scheduler._delete_marked_timespan_by_id=function(e){var t=scheduler._marked_timespans_ids[e];if(t)for(var i=0;i<t.length;i++)for(var n=t[i],s=n._array,r=0;r<s.length;r++)if(s[r]==n){s.splice(r,1);break}},scheduler._delete_marked_timespan_by_config=function(e){var t=scheduler._marked_timespans,i=e.sections,s=e.days,r=e.type||n,a=[];if(i){for(var o in i)if(i.hasOwnProperty(o)&&t[o]){var l=i[o];t[o][l]&&t[o][l][s]&&t[o][l][s][r]&&(a=t[o][l][s][r])}}else t.global[s]&&t.global[s][r]&&(a=t.global[s][r]);for(var d=0;d<a.length;d++){var u=a[d],c=scheduler._subtract_timespan_zones(u.zones,e.zones);if(c.length)u.zones=c;else{a.splice(d,1),d--;for(var h=scheduler._marked_timespans_ids[u.id],f=0;f<h.length;f++)if(h[f]==u){h.splice(f,1);break}}}},scheduler.deleteMarkedTimespan=function(e){if(arguments.length||(scheduler._marked_timespans={global:{}},scheduler._marked_timespans_ids={},scheduler._marked_timespans_types={}),"object"!=typeof e)scheduler._delete_marked_timespan_by_id(e);else{e.start_date&&e.end_date||(e.days||(e.days="fullweek"),e.zones||(e.zones="fullday"));var t=[];if(e.type)t.push(e.type);else for(var i in scheduler._marked_timespans_types)t.push(i);for(var n=scheduler._prepare_timespan_options(e),s=0;s<n.length;s++)for(var r=n[s],a=0;a<t.length;a++){var o=scheduler._lame_clone(r);o.type=t[a],scheduler._delete_marked_timespan_by_config(o)}}},scheduler._get_types_to_render=function(e,t){var i=e?scheduler._lame_copy({},e):{};for(var n in t||{})t.hasOwnProperty(n)&&(i[n]=t[n]);return i},scheduler._get_configs_to_render=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push.apply(t,e[i]);return t},scheduler.attachEvent("onScaleAdd",function(e,t){if(!scheduler._table_view||"month"==scheduler._mode){var i=t.getDay(),n=t.valueOf(),s=this._mode,r=scheduler._marked_timespans,a=[];if(this._props&&this._props[s]){var o=this._props[s],l=o.options,d=scheduler._get_unit_index(o,t),u=l[d];if(t=scheduler.date.date_part(new Date(this._date)),i=t.getDay(),n=t.valueOf(),r[s]&&r[s][u.key]){var c=r[s][u.key],h=scheduler._get_types_to_render(c[i],c[n]);a.push.apply(a,scheduler._get_configs_to_render(h))}}var f=r.global,p=f[n]||f[i];a.push.apply(a,scheduler._get_configs_to_render(p));for(var m=0;m<a.length;m++)scheduler._render_marked_timespan(a[m],e,t)}}),scheduler.dblclick_dhx_marked_timespan=function(e,t){scheduler.config.dblclick_create||scheduler.callEvent("onScaleDblClick",[scheduler.getActionData(e).date,t,e]),scheduler.addEventNow(scheduler.getActionData(e).date,null,e)}},scheduler._temp_limit_scope(),scheduler.templates.calendar_month=scheduler.date.date_to_str("%F %Y"),scheduler.templates.calendar_scale_date=scheduler.date.date_to_str("%D"),scheduler.templates.calendar_date=scheduler.date.date_to_str("%d"),scheduler.config.minicalendar={mark_events:!0},scheduler._synced_minicalendars=[],scheduler.renderCalendar=function(e,t,i){var n=null,s=e.date||scheduler._currentDate();if("string"==typeof s&&(s=this.templates.api_date(s)),t)n=this._render_calendar(t.parentNode,s,e,t),scheduler.unmarkCalendar(n);else{var r=e.container,a=e.position;if("string"==typeof r&&(r=document.getElementById(r)),"string"==typeof a&&(a=document.getElementById(a)),a&&"undefined"==typeof a.left){var o=getOffset(a);a={top:o.top+a.offsetHeight,left:o.left}}r||(r=scheduler._get_def_cont(a)),n=this._render_calendar(r,s,e),n.onclick=function(e){e=e||event;var t=e.target||e.srcElement;if(-1!=t.className.indexOf("dhx_month_head")){var i=t.parentNode.className;if(-1==i.indexOf("dhx_after")&&-1==i.indexOf("dhx_before")){var n=scheduler.templates.xml_date(this.getAttribute("date"));n.setDate(parseInt(t.innerHTML,10)),scheduler.unmarkCalendar(this),scheduler.markCalendar(this,n,"dhx_calendar_click"),this._last_date=n,this.conf.handler&&this.conf.handler.call(scheduler,n,this)}}}}if(scheduler.config.minicalendar.mark_events)for(var l=scheduler.date.month_start(s),d=scheduler.date.add(l,1,"month"),u=this.getEvents(l,d),c=this["filter_"+this._mode],h=0;h<u.length;h++){var f=u[h];if(!c||c(f.id,f)){var p=f.start_date;for(p.valueOf()<l.valueOf()&&(p=l),p=scheduler.date.date_part(new Date(p.valueOf()));p<f.end_date&&(this.markCalendar(n,p,"dhx_year_event"),p=this.date.add(p,1,"day"),!(p.valueOf()>=d.valueOf())););}}return this._markCalendarCurrentDate(n),n.conf=e,e.sync&&!i&&this._synced_minicalendars.push(n),n},scheduler._get_def_cont=function(e){return this._def_count||(this._def_count=document.createElement("DIV"),this._def_count.className="dhx_minical_popup",this._def_count.onclick=function(e){(e||event).cancelBubble=!0},document.body.appendChild(this._def_count)),this._def_count.style.left=e.left+"px",this._def_count.style.top=e.top+"px",this._def_count._created=new Date,this._def_count},scheduler._locateCalendar=function(e,t){if("string"==typeof t&&(t=scheduler.templates.api_date(t)),+t>+e._max_date||+t<+e._min_date)return null;for(var i=e.childNodes[2].childNodes[0],n=0,s=new Date(e._min_date);+this.date.add(s,1,"week")<=+t;)s=this.date.add(s,1,"week"),n++;var r=scheduler.config.start_on_monday,a=(t.getDay()||(r?7:0))-(r?1:0);return i.rows[n].cells[a].firstChild},scheduler.markCalendar=function(e,t,i){var n=this._locateCalendar(e,t);n&&(n.className+=" "+i)},scheduler.unmarkCalendar=function(e,t,i){if(t=t||e._last_date,i=i||"dhx_calendar_click",t){var n=this._locateCalendar(e,t);n&&(n.className=(n.className||"").replace(RegExp(i,"g")))}},scheduler._week_template=function(e){for(var t=e||250,i=0,n=document.createElement("div"),s=this.date.week_start(scheduler._currentDate()),r=0;7>r;r++)this._cols[r]=Math.floor(t/(7-r)),this._render_x_header(r,i,s,n),s=this.date.add(s,1,"day"),t-=this._cols[r],i+=this._cols[r];return n.lastChild.className+=" dhx_scale_bar_last",n},scheduler.updateCalendar=function(e,t){e.conf.date=t,this.renderCalendar(e.conf,e,!0)},scheduler._mini_cal_arrows=["&nbsp","&nbsp"],scheduler._render_calendar=function(e,t,i,n){var s=scheduler.templates,r=this._cols;this._cols=[];var a=this._mode;this._mode="calendar";var o=this._colsS;this._colsS={height:0};var l=new Date(this._min_date),d=new Date(this._max_date),u=new Date(scheduler._date),c=s.month_day,h=this._ignores_detected;this._ignores_detected=0,s.month_day=s.calendar_date,t=this.date.month_start(t);var f,p=this._week_template(e.offsetWidth-1-this.config.minicalendar.padding);if(n?f=n:(f=document.createElement("DIV"),f.className="dhx_cal_container dhx_mini_calendar"),f.setAttribute("date",this.templates.xml_format(t)),f.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_week'>"+p.innerHTML+"</div><div class='dhx_year_body'></div>",f.childNodes[0].innerHTML=this.templates.calendar_month(t),i.navigation)for(var m=function(e,t){var i=scheduler.date.add(e._date,t,"month");scheduler.updateCalendar(e,i),scheduler._date.getMonth()==e._date.getMonth()&&scheduler._date.getFullYear()==e._date.getFullYear()&&scheduler._markCalendarCurrentDate(e)},_=["dhx_cal_prev_button","dhx_cal_next_button"],g=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],v=[-1,1],y=function(e){return function(){if(i.sync)for(var t=scheduler._synced_minicalendars,n=0;n<t.length;n++)m(t[n],e);else m(f,e)}},b=0;2>b;b++){var w=document.createElement("DIV");w.className=_[b],w.style.cssText=g[b],w.innerHTML=this._mini_cal_arrows[b],f.firstChild.appendChild(w),w.onclick=y(v[b])}f._date=new Date(t),f.week_start=(t.getDay()-(this.config.start_on_monday?1:0)+7)%7;var x=f._min_date=this.date.week_start(t);f._max_date=this.date.add(f._min_date,6,"week"),this._reset_month_scale(f.childNodes[2],t,x);for(var k=f.childNodes[2].firstChild.rows,D=k.length;6>D;D++){var T=k[k.length-1];k[0].parentNode.appendChild(T.cloneNode(!0));var M=parseInt(T.childNodes[T.childNodes.length-1].childNodes[0].innerHTML);M=10>M?M:0;for(var C=0;C<k[D].childNodes.length;C++)k[D].childNodes[C].className="dhx_after",k[D].childNodes[C].childNodes[0].innerHTML=scheduler.date.to_fixed(++M)}return n||e.appendChild(f),f.childNodes[1].style.height=f.childNodes[1].childNodes[0].offsetHeight-1+"px",this._cols=r,this._mode=a,this._colsS=o,this._min_date=l,this._max_date=d,scheduler._date=u,s.month_day=c,this._ignores_detected=h,f},scheduler.destroyCalendar=function(e,t){!e&&this._def_count&&this._def_count.firstChild&&(t||(new Date).valueOf()-this._def_count._created.valueOf()>500)&&(e=this._def_count.firstChild),e&&(e.onclick=null,e.innerHTML="",e.parentNode&&e.parentNode.removeChild(e),this._def_count&&(this._def_count.style.top="-1000px"))},scheduler.isCalendarVisible=function(){return this._def_count&&parseInt(this._def_count.style.top,10)>0?this._def_count:!1},scheduler._attach_minical_events=function(){dhtmlxEvent(document.body,"click",function(){scheduler.destroyCalendar()}),scheduler._attach_minical_events=function(){}},scheduler.attachEvent("onTemplatesReady",function(){scheduler._attach_minical_events()}),scheduler.templates.calendar_time=scheduler.date.date_to_str("%d-%m-%Y"),scheduler.form_blocks.calendar_time={render:function(){var e="<input class='dhx_readonly' type='text' readonly='true'>",t=scheduler.config,i=this.date.date_part(scheduler._currentDate()),n=1440,s=0;t.limit_time_select&&(s=60*t.first_hour,n=60*t.last_hour+1),i.setHours(s/60),e+=" <select>";for(var r=s;n>r;r+=1*this.config.time_step){var a=this.templates.time_picker(i);e+="<option value='"+r+"'>"+a+"</option>",i=this.date.add(i,this.config.time_step,"minute")}return e+="</select>",scheduler.config.full_day,"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time'>"+e+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+e+"</div>"},set_value:function(e,t,i){function n(e,t,i){l(e,t,i),e.value=scheduler.templates.calendar_time(t),e._date=scheduler.date.date_part(new Date(t))}var s,r,a=e.getElementsByTagName("input"),o=e.getElementsByTagName("select"),l=function(e,t,i){e.onclick=function(){scheduler.destroyCalendar(null,!0),scheduler.renderCalendar({position:e,date:new Date(this._date),navigation:!0,handler:function(t){e.value=scheduler.templates.calendar_time(t),e._date=new Date(t),scheduler.destroyCalendar(),scheduler.config.event_duration&&scheduler.config.auto_end_date&&0===i&&h()}})}};if(scheduler.config.full_day){if(!e._full_day){var d="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+scheduler.locale.labels.full_day+"&nbsp;</label></input>";scheduler.config.wide_form||(d=e.previousSibling.innerHTML+d),e.previousSibling.innerHTML=d,e._full_day=!0}var u=e.previousSibling.getElementsByTagName("input")[0],c=0===scheduler.date.time_part(i.start_date)&&0===scheduler.date.time_part(i.end_date);u.checked=c,o[0].disabled=u.checked,o[1].disabled=u.checked,u.onclick=function(){if(u.checked===!0){var t={};scheduler.form_blocks.calendar_time.get_value(e,t),s=scheduler.date.date_part(t.start_date),r=scheduler.date.date_part(t.end_date),(+r==+s||+r>=+s&&(0!==i.end_date.getHours()||0!==i.end_date.getMinutes()))&&(r=scheduler.date.add(r,1,"day"))}var l=s||i.start_date,d=r||i.end_date;n(a[0],l),n(a[1],d),o[0].value=60*l.getHours()+l.getMinutes(),o[1].value=60*d.getHours()+d.getMinutes(),o[0].disabled=u.checked,o[1].disabled=u.checked}}if(scheduler.config.event_duration&&scheduler.config.auto_end_date){var h=function(){s=scheduler.date.add(a[0]._date,o[0].value,"minute"),r=new Date(s.getTime()+60*scheduler.config.event_duration*1e3),a[1].value=scheduler.templates.calendar_time(r),a[1]._date=scheduler.date.date_part(new Date(r)),o[1].value=60*r.getHours()+r.getMinutes()};o[0].onchange=h}n(a[0],i.start_date,0),n(a[1],i.end_date,1),l=function(){},o[0].value=60*i.start_date.getHours()+i.start_date.getMinutes(),o[1].value=60*i.end_date.getHours()+i.end_date.getMinutes()},get_value:function(e,t){var i=e.getElementsByTagName("input"),n=e.getElementsByTagName("select");
return t.start_date=scheduler.date.add(i[0]._date,n[0].value,"minute"),t.end_date=scheduler.date.add(i[1]._date,n[1].value,"minute"),t.end_date<=t.start_date&&(t.end_date=scheduler.date.add(t.start_date,scheduler.config.time_step,"minute")),{start_date:new Date(t.start_date),end_date:new Date(t.end_date)}},focus:function(){}},scheduler.linkCalendar=function(e,t){var i=function(){var i=scheduler._date,n=new Date(i.valueOf());return t&&(n=t(n)),n.setDate(1),scheduler.updateCalendar(e,n),!0};scheduler.attachEvent("onViewChange",i),scheduler.attachEvent("onXLE",i),scheduler.attachEvent("onEventAdded",i),scheduler.attachEvent("onEventChanged",i),scheduler.attachEvent("onAfterEventDelete",i),i()},scheduler._markCalendarCurrentDate=function(e){var t=scheduler._date,i=scheduler._mode,n=scheduler.date.month_start(new Date(e._date)),s=scheduler.date.add(n,1,"month");if("day"==i||this._props&&this._props[i])n.valueOf()<=t.valueOf()&&s>t&&scheduler.markCalendar(e,t,"dhx_calendar_click");else if("week"==i)for(var r=scheduler.date.week_start(new Date(t.valueOf())),a=0;7>a;a++)n.valueOf()<=r.valueOf()&&s>r&&scheduler.markCalendar(e,r,"dhx_calendar_click"),r=scheduler.date.add(r,1,"day")},scheduler.attachEvent("onEventCancel",function(){scheduler.destroyCalendar(null,!0)}),window.dhtmlXTooltip=scheduler.dhtmlXTooltip=window.dhtmlxTooltip={},dhtmlXTooltip.config={className:"dhtmlXTooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},dhtmlXTooltip.tooltip=document.createElement("div"),dhtmlXTooltip.tooltip.className=dhtmlXTooltip.config.className,dhtmlXTooltip.show=function(e,t){if(!scheduler.config.touch||scheduler.config.touch_tooltip){var i=dhtmlXTooltip,n=this.tooltip,s=n.style;i.tooltip.className=i.config.className;var r=this.position(e),a=e.target||e.srcElement;if(!this.isTooltip(a)){var o=r.x+(i.config.delta_x||0),l=r.y-(i.config.delta_y||0);s.visibility="hidden",s.removeAttribute?(s.removeAttribute("right"),s.removeAttribute("bottom")):(s.removeProperty("right"),s.removeProperty("bottom")),s.left="0",s.top="0",this.tooltip.innerHTML=t,document.body.appendChild(this.tooltip);var d=this.tooltip.offsetWidth,u=this.tooltip.offsetHeight;document.body.offsetWidth-o-d<0?(s.removeAttribute?s.removeAttribute("left"):s.removeProperty("left"),s.right=document.body.offsetWidth-o+2*(i.config.delta_x||0)+"px"):s.left=0>o?r.x+Math.abs(i.config.delta_x||0)+"px":o+"px",document.body.offsetHeight-l-u<0?(s.removeAttribute?s.removeAttribute("top"):s.removeProperty("top"),s.bottom=document.body.offsetHeight-l-2*(i.config.delta_y||0)+"px"):s.top=0>l?r.y+Math.abs(i.config.delta_y||0)+"px":l+"px",s.visibility="visible",this.tooltip.onmouseleave=function(e){for(var t=scheduler.dhtmlXTooltip,i=e.relatedTarget;i!=scheduler._obj&&i;)i=i.parentNode;i!=scheduler._obj&&t.delay(t.hide,t,[],t.config.timeout_to_hide)},scheduler.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},dhtmlXTooltip._clearTimeout=function(){this.tooltip._timeout_id&&window.clearTimeout(this.tooltip._timeout_id)},dhtmlXTooltip.hide=function(){if(this.tooltip.parentNode){var e=this.tooltip.event_id;this.tooltip.event_id=null,this.tooltip.onmouseleave=null,this.tooltip.parentNode.removeChild(this.tooltip),scheduler.callEvent("onAfterTooltip",[e])}this._clearTimeout()},dhtmlXTooltip.delay=function(e,t,i,n){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var n=e.apply(t,i);return e=t=i=null,n},n||this.config.timeout_to_display)},dhtmlXTooltip.isTooltip=function(e){var t=!1;for("dhtmlXTooltip"==e.className.split(" ")[0];e&&!t;)t=e.className==this.tooltip.className,e=e.parentNode;return t},dhtmlXTooltip.position=function(e){if(e=e||window.event,e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};var t=window._isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:e.clientX+t.scrollLeft-t.clientLeft,y:e.clientY+t.scrollTop-t.clientTop}},scheduler.attachEvent("onMouseMove",function(e,t){var i=window.event||t,n=i.target||i.srcElement,s=dhtmlXTooltip,r=s.isTooltip(n),a=s.isTooltipTarget&&s.isTooltipTarget(n);if(e||r||a){var o;if(e||s.tooltip.event_id){var l=scheduler.getEvent(e)||scheduler.getEvent(s.tooltip.event_id);if(!l)return;if(s.tooltip.event_id=l.id,o=scheduler.templates.tooltip_text(l.start_date,l.end_date,l),!o)return s.hide()}a&&(o="");var d;if(_isIE){d={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0};for(var u in d)d[u]=i[u]}if(!scheduler.callEvent("onBeforeTooltip",[e])||!o)return;s.delay(s.show,s,[d||i,o])}else s.delay(s.hide,s,[],s.config.timeout_to_hide)}),scheduler.attachEvent("onBeforeDrag",function(){return dhtmlXTooltip.hide(),!0}),scheduler.attachEvent("onEventDeleted",function(){return dhtmlXTooltip.hide(),!0}),scheduler.templates.tooltip_date_format=scheduler.date.date_to_str("%Y-%m-%d %H:%i"),scheduler.templates.tooltip_text=function(e,t,i){return"<b>Event:</b> "+i.text+"<br/><b>Start date:</b> "+scheduler.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+scheduler.templates.tooltip_date_format(t)},function(){function e(t){var i=e.modules[t];if(!i)throw new Error('failed to require "'+t+'"');return"exports"in i||"function"!=typeof i.definition||(i.client=i.component=!0,i.definition.call(this,i.exports={},i),delete i.definition),i.exports}e.modules={},e.register=function(t,i){e.modules[t]={definition:i}},e.define=function(t,i){e.modules[t]={exports:i}},e.register("component~emitter@1.1.2",function(e,t){function i(e){return e?n(e):void 0}function n(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,s=0;s<i.length;s++)if(n=i[s],n===t||n.fn===t){i.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,s=i.length;s>n;++n)i[n].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("dropzone",function(t,i){i.exports=e("dropzone/lib/dropzone.js")}),e.register("dropzone/lib/dropzone.js",function(t,i){(function(){var t,n,s,r,a,o,l,d,u={}.hasOwnProperty,c=function(e,t){function i(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},h=[].slice;n="undefined"!=typeof Emitter&&null!==Emitter?Emitter:e("component~emitter@1.1.2"),l=function(){},t=function(e){function t(e,n){var s,r,a;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,s=null!=(a=t.optionsForElement(this.element))?a:{},this.options=i({},this.defaultOptions,s,null!=n?n:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?t.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:t.getElements(this.options.clickable,"clickable")),this.init()}var i;return c(t,e),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,i,n,s,r,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),s=0,r=a.length;r>s;s++)e=a[s],/(^| )dz-message($| )/.test(e.className)&&(i=e,e.className="dz-message");return i||(i=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i,n,s,r,a,o,l,d,u,c,h,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),c=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=c.length;l>r;r++)i=c[r],i.textContent=e.name;for(h=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,d=h.length;d>a;a++)i=h[a],i.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(i){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)}}(this),f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],o=0,u=f.length;u>o;o++)s=f[o],p.push(s.addEventListener("click",n));return p}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,r,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),e.previewElement.classList.add("dz-image-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),a=[],n=0,s=r.length;s>n;n++)i=r[n],i.alt=e.name,a.push(i.src=t);return a}},error:function(e,t){var i,n,s,r,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],n=0,s=r.length;s>n;n++)i=r[n],a.push(i.textContent=t);return a}},errormultiple:l,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:l,uploadprogress:function(e,t){var i,n,s,r,a;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],n=0,s=r.length;s>n;n++)i=r[n],a.push(i.style.width=""+t+"%");return a}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){return e._removeLink?e._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},i=function(){var e,t,i,n,s,r,a;for(n=arguments[0],i=2<=arguments.length?h.call(arguments,1):[],r=0,a=i.length;a>r;r++){t=i[r];for(e in t)s=t[e],n[e]=s}return n},t.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&s.push(e);return s},t.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||s.push(e);return s},t.prototype.getFilesWithStatus=function(e){var t,i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.status===e&&r.push(t);return r},t.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(t.QUEUED)},t.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(t.UPLOADING)},t.prototype.getActiveFiles=function(){var e,i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)e=s[i],(e.status===t.UPLOADING||e.status===t.QUEUED)&&r.push(e);return r},t.prototype.init=function(){var e,i,n,s,r,a,o;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,s,r;if(i=e.hiddenFileInput.files,i.length)for(s=0,r=i.length;r>s;s++)t=i[s],e.addFile(t);return n()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,o=this.events,s=0,r=o.length;r>s;s++)e=o[s],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(t){return i(t),e.emit("dragenter",t)}}(this),dragover:function(e){return function(t){var n;try{n=t.dataTransfer.effectAllowed}catch(s){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(t),e.emit("dragover",t)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(t){return i(t),e.drop(t)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(i){return e.listeners.push({element:i,events:{click:function(n){return i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector(".dz-message"))?e.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,r,a,o;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(o=this.getActiveFiles(),r=0,a=o.length;a>r;r++)t=o[r],n+=t.upload.bytesSent,i+=t.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},t.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},t.prototype.getFallbackForm=function(){var e,i,n,s;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=t.createElement(n),"FORM"!==this.element.tagName?(s=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:i)},t.prototype.getExistingFallback=function(){var e,t,i,n,s,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],n=0,s=r.length;s>n;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},t.prototype.setupEventListeners=function(){var e,t,i,n,s,r,a;for(r=this.listeners,a=[],n=0,s=r.length;s>n;n++)e=r[n],a.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return a},t.prototype.removeEventListeners=function(){var e,t,i,n,s,r,a;for(r=this.listeners,a=[],n=0,s=r.length;s>n;n++)e=r[n],a.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return a},t.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(this.cancelUpload(e));return s},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t;return e>=109951162777.6?(e/=109951162777.6,t="TiB"):e>=107374182.4?(e/=107374182.4,t="GiB"):e>=104857.6?(e/=104857.6,t="MiB"):e>=102.4?(e/=102.4,t="KiB"):(e=10*e,t="b"),"<strong>"+Math.round(e)/10+"</strong> "+t},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},t.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},t.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;n>i;i++)t=e[i],s.push(this.addFile(t));return s},t.prototype._addFilesFromItems=function(e){var t,i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],r.push(null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?this.addFile(i.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return r},t.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,s,r;for(s=0,r=i.length;r>s;s++)n=i[s],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},t.prototype.accept=function(e,i){return e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},t.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){if(e.status!==t.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},t.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},t.prototype.removeFile=function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=d(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(e){var i,n,s,r;for(null==e&&(e=!1),r=this.files.slice(),n=0,s=r.length;s>n;n++)i=r[n],(i.status!==t.UPLOADING||e)&&this.removeFile(i);return null},t.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){var s;return s=document.createElement("img"),s.onload=function(){var i,r,a,l,d,u,c,h;return e.width=s.width,e.height=s.height,a=n.options.resize.call(n,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),r=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,o(r,s,null!=(d=a.srcX)?d:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(c=a.trgX)?c:0,null!=(h=a.trgY)?h:0,a.trgWidth,a.trgHeight),l=i.toDataURL("image/png"),n.emit("thumbnail",e,l),null!=t?t():void 0},s.src=i.result}}(this),i.readAsDataURL(e)},t.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var i,n,s;for(n=0,s=e.length;s>n;n++)i=e[n],i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.xhr===e&&r.push(t);return r}.call(this)},t.prototype.cancelUpload=function(e){var i,n,s,r,a,o,l;if(e.status===t.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),s=0,a=n.length;a>s;s++)i=n[s],i.status=t.CANCELED;for(e.xhr.abort(),r=0,o=n.length;o>r;r++)i=n[r],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===t.ADDED||l===t.QUEUED)&&(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var n,s,r,a,o,l,d,u,c,h,f,p,m,_,g,v,y,b,w,x,k,D,T,M,C,A,E,S,N,O,L,F;for(y=new XMLHttpRequest,b=0,D=e.length;D>b;b++)n=e[b],n.xhr=y;y.open(this.options.method,this.options.url,!0),y.withCredentials=!!this.options.withCredentials,_=null,r=function(t){return function(){var i,s,r;for(r=[],i=0,s=e.length;s>i;i++)n=e[i],r.push(t._errorProcessing(e,_||t.options.dictResponseError.replace("{{statusCode}}",y.status),y));return r}}(this),g=function(t){return function(i){var s,r,a,o,l,d,u,c,h;if(null!=i)for(r=100*i.loaded/i.total,a=0,d=e.length;d>a;a++)n=e[a],n.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(s=!0,r=100,o=0,u=e.length;u>o;o++)n=e[o],(100!==n.upload.progress||n.upload.bytesSent!==n.upload.total)&&(s=!1),n.upload.progress=r,n.upload.bytesSent=n.upload.total;if(s)return}for(h=[],l=0,c=e.length;c>l;l++)n=e[l],h.push(t.emit("uploadprogress",n,r,n.upload.bytesSent));return h}}(this),y.onload=function(i){return function(n){var s;if(e[0].status!==t.CANCELED&&4===y.readyState){if(_=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{_=JSON.parse(_)}catch(a){n=a,_="Invalid JSON response from server."}return g(),200<=(s=y.status)&&300>s?i._finished(e,_,n):r()}}}(this),y.onerror=function(){return function(){return e[0].status!==t.CANCELED?r():void 0}}(this),m=null!=(E=y.upload)?E:y,m.onprogress=g,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(l,this.options.headers);for(a in l)o=l[a],y.setRequestHeader(a,o);if(s=new FormData,this.options.params){S=this.options.params;for(f in S)v=S[f],s.append(f,v)}for(w=0,T=e.length;T>w;w++)n=e[w],this.emit("sending",n,y,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,y,s),"FORM"===this.element.tagName)for(N=this.element.querySelectorAll("input, textarea, select, button"),x=0,M=N.length;M>x;x++)if(u=N[x],c=u.getAttribute("name"),h=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(O=u.options,k=0,C=O.length;C>k;k++)p=O[k],p.selected&&s.append(c,p.value);else(!h||"checkbox"!==(L=h.toLowerCase())&&"radio"!==L||u.checked)&&s.append(c,u.value);for(d=A=0,F=e.length-1;F>=0?F>=A:A>=F;d=F>=0?++A:--A)s.append(this._getParamName(d),e[d],e[d].name);return y.send(s)},t.prototype._finished=function(e,i,n){var s,r,a;for(r=0,a=e.length;a>r;r++)s=e[r],s.status=t.SUCCESS,this.emit("success",s,i,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(e,i,n){var s,r,a;for(r=0,a=e.length;a>r;r++)s=e[r],s.status=t.ERROR,this.emit("error",s,i,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t}(n),t.version="3.10.2",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[s(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,s,r,a;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(/(^| )dropzone($| )/.test(t.className)?n.push(t):void 0);return r},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),a=[],s=0,r=n.length;r>s;s++)i=n[s],a.push(t.optionsForElement(i)!==!1?new t(i):void 0);return a},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,s,r;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=t.blacklistedBrowsers,n=0,s=r.length;s>n;n++)i=r[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},d=function(e,t){var i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],i!==t&&r.push(i);return r},s=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},t.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},t.elementInside=function(e,t){if(e===t)return!0;
for(;e=e.parentNode;)if(e===t)return!0;return!1},t.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(e,t){var i,n,s,r,a,o,l,d;if(e instanceof Array){s=[];try{for(r=0,o=e.length;o>r;r++)n=e[r],s.push(this.getElement(n,t))}catch(u){i=u,s=null}}else if("string"==typeof e)for(s=[],d=document.querySelectorAll(e),a=0,l=d.length;l>a;a++)n=d[a],s.push(n);else null!=e.nodeType&&(s=[e]);if(null==s||!s.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},t.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},t.isValidFile=function(e,t){var i,n,s,r,a;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),r=0,a=t.length;a>r;r++)if(s=t[r],s=s.trim(),"."===s.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof i&&null!==i?i.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",a=function(e){var t,i,n,s,r,a,o,l,d,u;for(o=e.naturalWidth,a=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=a,n=i.getContext("2d"),n.drawImage(e,0,0),s=n.getImageData(0,0,1,a).data,u=0,r=a,l=a;l>u;)t=s[4*(l-1)+3],0===t?r=l:u=l,l=r+u>>1;return d=l/a,0===d?1:d},o=function(e,t,i,n,s,r,o,l,d,u){var c;return c=a(t),e.drawImage(t,i,n,s,r,o,l,d,u/c)},r=function(e,t){var i,n,s,r,a,o,l,d,u;if(s=!1,u=!0,n=e.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](o+i.type,r,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0):void 0},a=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{u=!e.frameElement}catch(c){}u&&a()}return n[i](o+"DOMContentLoaded",r,!1),n[i](o+"readystatechange",r,!1),e[i](o+"load",r,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},r(window,t._autoDiscoverFunction)}).call(this)}),"object"==typeof exports?module.exports=e("dropzone"):"function"==typeof define&&define.amd?define([],function(){return e("dropzone")}):this.Dropzone=e("dropzone")}();var Holder=Holder||{};!function(e,t){function i(e,t,i){t=parseInt(t,10),e=parseInt(e,10);var n=Math.max(t,e),s=Math.min(t,e),r=1/12,a=Math.min(.75*s,.75*n*r);return{height:Math.round(Math.max(i.size,a))}}function n(e){var t=[];for(p in e)e.hasOwnProperty(p)&&t.push(p+":"+e[p]);return t.join(";")}function s(e){var t=e.ctx,n=e.dimensions,s=e.template,r=e.ratio,a=e.holder,o="literal"==a.textmode,l="exact"==a.textmode,d=i(n.width,n.height,s),u=d.height,c=n.width*r,h=n.height*r,f=s.font?s.font:"Arial,Helvetica,sans-serif";canvas.width=c,canvas.height=h,t.textAlign="center",t.textBaseline="middle",t.fillStyle=s.background,t.fillRect(0,0,c,h),t.fillStyle=s.foreground,t.font="bold "+u+"px "+f;var p=s.text?s.text:Math.floor(n.width)+"x"+Math.floor(n.height);if(o){var n=a.dimensions;p=n.width+"x"+n.height}else if(l&&a.exact_dimensions){var n=a.exact_dimensions;p=Math.floor(n.width)+"x"+Math.floor(n.height)}var m=t.measureText(p).width;return m/c>=.75&&(u=Math.floor(.75*u*(c/m))),t.font="bold "+u*r+"px "+f,t.fillText(p,c/2,h/2,c),canvas.toDataURL("image/png")}function r(e){var t=e.dimensions,n=e.template,s=e.holder,r="literal"==s.textmode,a="exact"==s.textmode,o=i(t.width,t.height,n),l=o.height,d=t.width,u=t.height,c=n.font?n.font:"Arial,Helvetica,sans-serif",h=n.text?n.text:Math.floor(t.width)+"x"+Math.floor(t.height);if(r){var t=s.dimensions;h=t.width+"x"+t.height}else if(a&&s.exact_dimensions){var t=s.exact_dimensions;h=Math.floor(t.width)+"x"+Math.floor(t.height)}var f=T({text:h,width:d,height:u,text_height:l,font:c,template:n});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(f)))}function a(e){return g.use_canvas&&!g.use_svg?s(e):r(e)}function o(e,t,i,n){var s=i.dimensions,r=i.theme,o=i.text?decodeURIComponent(i.text):i.text,l=s.width+"x"+s.height;r=o?m(r,{text:o}):r,r=i.font?m(r,{font:i.font}):r,t.setAttribute("data-src",n),i.theme=r,t.holder_data=i,"image"==e?(t.setAttribute("alt",o?o:r.text?r.text+" ["+l+"]":l),(g.use_fallback||!i.auto)&&(t.style.width=s.width+"px",t.style.height=s.height+"px"),g.use_fallback?t.style.backgroundColor=r.background:(t.setAttribute("src",a({ctx:x,dimensions:s,template:r,ratio:k,holder:i})),i.textmode&&"exact"==i.textmode&&(w.push(t),u(t)))):"background"==e?g.use_fallback||(t.style.backgroundImage="url("+a({ctx:x,dimensions:s,template:r,ratio:k,holder:i})+")",t.style.backgroundSize=s.width+"px "+s.height+"px"):"fluid"==e&&(t.setAttribute("alt",o?o:r.text?r.text+" ["+l+"]":l),"%"==s.height.slice(-1)?t.style.height=s.height:null!=i.auto&&i.auto||(t.style.height=s.height+"px"),"%"==s.width.slice(-1)?t.style.width=s.width:null!=i.auto&&i.auto||(t.style.width=s.width+"px"),("inline"==t.style.display||""===t.style.display||"none"==t.style.display)&&(t.style.display="block"),d(t),g.use_fallback?t.style.backgroundColor=r.background:(w.push(t),u(t)))}function l(e,t){var i={height:e.clientHeight,width:e.clientWidth};return i.height||i.width?(e.removeAttribute("data-holder-invisible"),i):(e.setAttribute("data-holder-invisible",!0),void t.call(this,e))}function d(t){if(t.holder_data){var i=l(t,e.invisible_error_fn(d));if(i){var n=t.holder_data;n.initial_dimensions=i,n.fluid_data={fluid_height:"%"==n.dimensions.height.slice(-1),fluid_width:"%"==n.dimensions.width.slice(-1),mode:null},n.fluid_data.fluid_width&&!n.fluid_data.fluid_height?(n.fluid_data.mode="width",n.fluid_data.ratio=n.initial_dimensions.width/parseFloat(n.dimensions.height)):!n.fluid_data.fluid_width&&n.fluid_data.fluid_height&&(n.fluid_data.mode="height",n.fluid_data.ratio=parseFloat(n.dimensions.width)/n.initial_dimensions.height)}}}function u(t){var i;i=null==t.nodeType?w:[t];for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];if(s.holder_data){var r=s.holder_data,o=l(s,e.invisible_error_fn(u));if(o){if(r.fluid){if(r.auto)switch(r.fluid_data.mode){case"width":o.height=o.width/r.fluid_data.ratio;break;case"height":o.width=o.height*r.fluid_data.ratio}s.setAttribute("src",a({ctx:x,dimensions:o,template:r.theme,ratio:k,holder:r}))}r.textmode&&"exact"==r.textmode&&(r.exact_dimensions=o,s.setAttribute("src",a({ctx:x,dimensions:r.dimensions,template:r.theme,ratio:k,holder:r})))}}}}function c(t,i){for(var n={theme:m(D.themes.gray,{})},s=!1,r=t.length,a=0;r>a;a++){var o=t[a];e.flags.dimensions.match(o)?(s=!0,n.dimensions=e.flags.dimensions.output(o)):e.flags.fluid.match(o)?(s=!0,n.dimensions=e.flags.fluid.output(o),n.fluid=!0):e.flags.textmode.match(o)?n.textmode=e.flags.textmode.output(o):e.flags.colors.match(o)?n.theme=e.flags.colors.output(o):i.themes[o]?i.themes.hasOwnProperty(o)&&(n.theme=m(i.themes[o],{})):e.flags.font.match(o)?n.font=e.flags.font.output(o):e.flags.auto.match(o)?n.auto=!0:e.flags.text.match(o)&&(n.text=e.flags.text.output(o))}return s?n:!1}function h(e,t){var i="complete",n="readystatechange",s=!1,r=s,a=!0,o=e.document,l=o.documentElement,d=o.addEventListener?"addEventListener":"attachEvent",u=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",h=function(a){(a.type!=n||o.readyState==i)&&(("load"==a.type?e:o)[u](c+a.type,h,s),!r&&(r=!0)&&t.call(e,null))},f=function(){try{l.doScroll("left")}catch(e){return void setTimeout(f,50)}h("poll")};if(o.readyState==i)t.call(e,"lazy");else{if(o.createEventObject&&l.doScroll){try{a=!e.frameElement}catch(p){}a&&f()}o[d](c+"DOMContentLoaded",h,s),o[d](c+n,h,s),e[d](c+"load",h,s)}}function f(e,t){var e=e.match(/^(\W)?(.*)/),t=t||document,i=t["getElement"+(e[1]?"#"==e[1]?"ById":"sByClassName":"sByTagName")],n=i.call(t,e[2]),s=[];return null!==n&&(s=n.length||0===n.length?n:[n]),s}function m(e,t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}var _={use_svg:!1,use_canvas:!1,use_fallback:!1},g={},v=!1;canvas=document.createElement("canvas");var y=1,b=1,w=[];if(canvas.getContext)if(canvas.toDataURL("image/png").indexOf("data:image/png")<0)_.use_fallback=!0;else var x=canvas.getContext("2d");else _.use_fallback=!0;document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&(_.use_svg=!0,_.use_canvas=!1),_.use_fallback||(y=window.devicePixelRatio||1,b=x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1);var k=y/b,D={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},sky:{background:"#0D8FDB",foreground:"#fff",size:12},vine:{background:"#39DBAC",foreground:"#1E292C",size:12},lava:{background:"#F8591A",foreground:"#1C2846",size:12}},stylesheet:""};e.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(e){var t=this.regex.exec(e);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(e){var t=this.regex.exec(e);return{width:t[1],height:t[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(e){var t=this.regex.exec(e);return{size:D.themes.gray.size,foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},font:{regex:/font\:(.*)/,output:function(e){return this.regex.exec(e)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(e){return this.regex.exec(e)[1]}}};var T=function(){if(window.XMLSerializer){var e=new XMLSerializer,t="http://www.w3.org/2000/svg",i=document.createElementNS(t,"svg");i.webkitMatchesSelector&&i.setAttribute("xmlns","http://www.w3.org/2000/svg");var s=document.createElementNS(t,"rect"),r=document.createElementNS(t,"text"),a=document.createTextNode(null);return r.setAttribute("text-anchor","middle"),r.appendChild(a),i.appendChild(s),i.appendChild(r),function(t){return i.setAttribute("width",t.width),i.setAttribute("height",t.height),s.setAttribute("width",t.width),s.setAttribute("height",t.height),s.setAttribute("fill",t.template.background),r.setAttribute("x",t.width/2),r.setAttribute("y",t.height/2),a.nodeValue=t.text,r.setAttribute("style",n({fill:t.template.foreground,"font-weight":"bold","font-size":t.text_height+"px","font-family":t.font,"dominant-baseline":"central"})),e.serializeToString(i)}}}();for(var M in e.flags)e.flags.hasOwnProperty(M)&&(e.flags[M].match=function(e){return e.match(this.regex)});e.invisible_error_fn=function(){return function(e){if(e.hasAttribute("data-holder-invisible"))throw new Error("Holder: invisible placeholder")}},e.add_theme=function(t,i){return null!=t&&null!=i&&(D.themes[t]=i),e},e.add_image=function(t,i){var n=f(i);if(n.length)for(var s=0,r=n.length;r>s;s++){var a=document.createElement("img");a.setAttribute("data-src",t),n[s].appendChild(a)}return e},e.run=function(t){g=m({},_),v=!0;var i=m(D,t),n=[],s=[],r=[];for(null!=i.use_canvas&&i.use_canvas&&(g.use_canvas=!0,g.use_svg=!1),"string"==typeof i.images?s=f(i.images):window.NodeList&&i.images instanceof window.NodeList?s=i.images:window.Node&&i.images instanceof window.Node?s=[i.images]:window.HTMLCollection&&i.images instanceof window.HTMLCollection&&(s=i.images),"string"==typeof i.bgnodes?r=f(i.bgnodes):window.NodeList&&i.elements instanceof window.NodeList?r=i.bgnodes:window.Node&&i.bgnodes instanceof window.Node&&(r=[i.bgnodes]),u=0,d=s.length;d>u;u++)n.push(s[u]);var a=document.getElementById("holderjs-style");a||(a=document.createElement("style"),a.setAttribute("id","holderjs-style"),a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)),i.nocss||(a.styleSheet?a.styleSheet.cssText+=i.stylesheet:i.stylesheet.length&&a.appendChild(document.createTextNode(i.stylesheet)));for(var l=new RegExp(i.domain+'/(.*?)"?\\)'),d=r.length,u=0;d>u;u++){var h=window.getComputedStyle(r[u],null).getPropertyValue("background-image"),p=h.match(l),y=r[u].getAttribute("data-background-src");if(p){var b=c(p[1].split("/"),i);b&&o("background",r[u],b,h)}else if(null!=y){var b=c(y.substr(y.lastIndexOf(i.domain)+i.domain.length+1).split("/"),i);b&&o("background",r[u],b,h)}}for(d=n.length,u=0;d>u;u++){var w,x;x=w=h=null;try{x=n[u].getAttribute("src"),attr_datasrc=n[u].getAttribute("data-src")}catch(k){}if(null==attr_datasrc&&x&&x.indexOf(i.domain)>=0?h=x:attr_datasrc&&attr_datasrc.indexOf(i.domain)>=0&&(h=attr_datasrc),h){var b=c(h.substr(h.lastIndexOf(i.domain)+i.domain.length+1).split("/"),i);b&&(b.fluid?o("fluid",n[u],b,h):o("image",n[u],b,h))}}return e},h(t,function(){window.addEventListener?(window.addEventListener("resize",u,!1),window.addEventListener("orientationchange",u,!1)):window.attachEvent("onresize",u),v||e.run({}),"object"==typeof window.Turbolinks&&document.addEventListener("page:change",function(){e.run({})})}),"function"==typeof define&&define.amd&&define([],function(){return e}),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:this,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=Error(),e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,s,r=0,a=i,o="";t.charAt(0|r)||(a="=",r%1);o+=a.charAt(63&n>>8-8*(r%1))){if(s=t.charCodeAt(r+=.75),s>255)throw new e("'btoa' failed");n=n<<8|s}return o}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),1==t.length%4)throw new e("'atob' failed");for(var n,s,r=0,a=0,o="";s=t.charAt(a++);~s&&(n=r%4?64*n+s:s,r++%4)?o+=String.fromCharCode(255&n>>(6&-2*r)):0)s=i.indexOf(s);return o})}(),document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,i,n,s=document,r=[];if(s.querySelectorAll)return s.querySelectorAll("."+e);if(s.evaluate)for(i=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=s.evaluate(i,s,null,0,null);n=t.iterateNext();)r.push(n);else for(t=s.getElementsByTagName("*"),i=new RegExp("(^|\\s)"+e+"(\\s|$)"),n=0;n<t.length;n++)i.test(t[n].className)&&r.push(t[n]);return r}),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])})}(Holder,window),function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.4.5"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(e,t){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst):void 0},onChangeMonthYear:function(e,t,i){tp_inst._updateDateTime(i),$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzl>tzi;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),tp_inst._defaults.altRedirectFocus===!0&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var n=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!n.timeObj)return!1;$.extend(this,n.timeObj)}catch(s){return $.timepicker.log("Error parsing the date/time string: "+s+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var r=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return r?($.extend(this,r),!0):!1},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,n="",s="",r=null,a={},o={},l=null,d=0,u=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var c=' style="display:none;"',h='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(t.showTime?"":c)+">"+t.timeText+'</dt><dd class="ui_tpicker_time"'+(t.showTime?"":c)+"></dd>";for(d=0,u=this.units.length;u>d;d++){if(n=this.units[d],s=n.substr(0,1).toUpperCase()+n.substr(1),r=null!==t["show"+s]?t["show"+s]:this.support[n],a[n]=parseInt(t[n+"Max"]-(t[n+"Max"]-t[n+"Min"])%t["step"+s],10),o[n]=0,h+='<dt class="ui_tpicker_'+n+'_label"'+(r?"":c)+">"+t[n+"Text"]+'</dt><dd class="ui_tpicker_'+n+'"><div class="ui_tpicker_'+n+'_slider"'+(r?"":c)+"></div>",r&&t[n+"Grid"]>0){if(h+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===n)for(var f=t[n+"Min"];f<=a[n];f+=parseInt(t[n+"Grid"],10)){o[n]++;var p=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:f},t);h+='<td data-for="'+n+'">'+p+"</td>"}else for(var m=t[n+"Min"];m<=a[n];m+=parseInt(t[n+"Grid"],10))o[n]++,h+='<td data-for="'+n+'">'+(10>m?"0":"")+m+"</td>";h+="</tr></table></div>"}h+="</dd>"}var _=null!==t.showTimezone?t.showTimezone:this.support.timezone;h+='<dt class="ui_tpicker_timezone_label"'+(_?"":c)+">"+t.timezoneText+"</dt>",h+='<dd class="ui_tpicker_timezone" '+(_?"":c)+"></dd>",h+="</dl></div>";var g=$(h);for(t.timeOnly===!0&&(g.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),d=0,u=i.units.length;u>d;d++)n=i.units[d],s=n.substr(0,1).toUpperCase()+n.substr(1),r=null!==t["show"+s]?t["show"+s]:this.support[n],i[n+"_slider"]=i.control.create(i,g.find(".ui_tpicker_"+n+"_slider"),n,i[n],t[n+"Min"],a[n],t["step"+s]),r&&t[n+"Grid"]>0&&(l=100*o[n]*t[n+"Grid"]/(a[n]-t[n+"Min"]),g.find(".ui_tpicker_"+n+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*o[n])+"%",marginRight:t.isRTL?l/(-2*o[n])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var e=$(this),t=e.html(),s=parseInt(t.replace(/[^0-9]/g),10),r=t.replace(/[^apm]/gi),a=e.data("for");"hour"===a&&(-1!==r.indexOf("p")&&12>s?s+=12:-1!==r.indexOf("a")&&12===s&&(s=0)),i.control.value(i,i[a+"_slider"],n,s),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/o[n]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var v=-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset();v===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler()});var y=e.find(".ui-datepicker-buttonpane");if(y.length?y.before(g):e.append(g),this.$timeObj=g.find(".ui_tpicker_time"),null!==this.inst){var b=this.timeDefined;this._onTimeChange(),this.timeDefined=b}if(this._defaults.addSliderAccess){var w=this._defaults.sliderAccessArgs,x=this._defaults.isRTL;w.isRTL=x,setTimeout(function(){if(0===g.find(".ui-slider-access").length){g.find(".ui-slider:visible").sliderAccess(w);var e=g.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&g.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),n=t.css(x?"marginRight":"marginLeft").toString().replace("%",""),s=i-e,r=n*s/i+"%",a={width:s,marginRight:0,marginLeft:0};a[x?"marginRight":"marginLeft"]=r,t.css(a)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,n=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&n){var s=$.datepicker._get(e,"minDateTime"),r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||r.getTime()===n.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&n){var a=$.datepicker._get(e,"maxDateTime"),o=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||o.getTime()===n.getTime()?(this._defaults.hourMax=a.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=a.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=a.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=a.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=a.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.minuteMin=this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?l.getMinutes():0}if(null!==e.settings.maxTime){var d=new Date("01/01/1970 "+e.settings.maxTime);this.hour>d.getHours()?(this.hour=this._defaults.hourMax=d.getHours(),this.minute=this._defaults.minuteMax=d.getMinutes()):this.hour===d.getHours()&&this.minute>d.getMinutes()?this.minute=this._defaults.minuteMax=d.getMinutes():this._defaults.hourMax>d.getHours()?(this._defaults.hourMax=d.getHours(),this._defaults.minuteMax=d.getMinutes()):this._defaults.minuteMax=this._defaults.hourMax===d.getHours()===this.hour&&this._defaults.minuteMax>d.getMinutes()?d.getMinutes():59}if(void 0!==t&&t===!0){var u=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),h=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),f=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:u,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:h,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:f,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))
}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,t=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,i=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,n=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,s=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,r=this.timezone_select?this.timezone_select.val():!1,a=this._defaults,o=a.pickerTimeFormat||a.timeFormat,l=a.pickerTimeSuffix||a.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof n&&(n=!1),"object"==typeof s&&(s=!1),"object"==typeof r&&(r=!1),e!==!1&&(e=parseInt(e,10)),t!==!1&&(t=parseInt(t,10)),i!==!1&&(i=parseInt(i,10)),n!==!1&&(n=parseInt(n,10)),s!==!1&&(s=parseInt(s,10)),r!==!1&&(r=r.toString());var d=a[12>e?"amNames":"pmNames"][0],u=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||s!==parseInt(this.microsec,10)||this.ampm.length>0&&12>e!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&r!==this.timezone.toString();u&&(e!==!1&&(this.hour=e),t!==!1&&(this.minute=t),i!==!1&&(this.second=i),n!==!1&&(this.millisec=n),s!==!1&&(this.microsec=s),r!==!1&&(this.timezone=r),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=d),this.formattedTime=$.datepicker.formatTime(a.timeFormat,this,a),this.$timeObj&&this.$timeObj.text(o===a.timeFormat?this.formattedTime+l:$.datepicker.formatTime(o,this,a)+l),this.timeDefined=!0,u&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){e=this.inst||e;var t=e.currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),n=$.datepicker._get(e,"dateFormat"),s=$.datepicker._getFormatConfig(e),r=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(n,null===i?new Date:i,s);var a=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!1?a=this.formattedTime:(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||r)||this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!0)&&(a+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=a,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(a);var o="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,d=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(o=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,s):this.formattedDate,o&&(o+=l)),o+=null!==this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+d:this.formattedTime+d,this.$altInput.val(o)}else this.$input.val(a);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(e,t,i,n,s,r,a){var o=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?-1*n:n,min:o?-1*r:s,max:o?-1*s:r,step:a,slide:function(t,n){e.control.value(e,$(this),i,o?-1*n.value:n.value),e._onTimeChange()},stop:function(){e._onSelectHandler()}})},options:function(e,t,i,n,s){if(e._defaults.isRTL){if("string"==typeof n)return"min"===n||"max"===n?void 0!==s?t.slider(n,-1*s):Math.abs(t.slider(n)):t.slider(n);var r=n.min,a=n.max;return n.min=n.max=null,void 0!==r&&(n.max=-1*r),void 0!==a&&(n.min=-1*a),t.slider(n)}return"string"==typeof n&&void 0!==s?t.slider(n,s):t.slider(n)},value:function(e,t,i,n){return e._defaults.isRTL?void 0!==n?t.slider("value",-1*n):Math.abs(t.slider("value")):void 0!==n?t.slider("value",n):t.slider("value")}},select:{create:function(e,t,i,n,s,r,a){for(var o='<select class="ui-timepicker-select" data-unit="'+i+'" data-min="'+s+'" data-max="'+r+'" data-step="'+a+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,d=s;r>=d;d+=a)o+='<option value="'+d+'"'+(d===n?" selected":"")+">",o+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:d},e._defaults):"millisec"===i||"microsec"===i||d>=10?d:"0"+d.toString(),o+="</option>";return o+="</select>",t.children("select").remove(),$(o).appendTo(t).change(function(){e._onTimeChange(),e._onSelectHandler()}),t},options:function(e,t,i,n,s){var r={},a=t.children("select");if("string"==typeof n){if(void 0===s)return a.data(n);r[n]=s}else r=n;return e.control.create(e,t,a.data("unit"),a.val(),r.min||a.data("min"),r.max||a.data("max"),r.step||a.data("step"))},value:function(e,t,i,n){var s=t.children("select");return void 0!==n?s.val(n):s.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){e=e||{};var t=arguments;return"string"==typeof e?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,n,s){var r=parseDateTimeInternal(e,t,i,n,s);if(r.timeObj){var a=r.timeObj;r.date.setHours(a.hour,a.minute,a.second,a.millisec),r.date.setMicroseconds(a.microsec)}return r.date},$.datepicker.parseTime=function(e,t,i){var n=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),s=(-1!==e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var n,s=function(e,t){var i=[];return e&&$.merge(i,e),t&&$.merge(i,t),i=$.map(i,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},r=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var n=0;n<t.length;n++)-1===i[t[n].toString().charAt(0)]&&(i[t[n].toString().charAt(0)]=n+1);return i},a="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",o=r(e),l="";n=t.match(new RegExp(a,"i"));var d={hour:0,minute:0,second:0,millisec:0,microsec:0};return n?(-1!==o.t&&(void 0===n[o.t]||0===n[o.t].length?(l="",d.ampm=""):(l=-1!==$.inArray(n[o.t].toUpperCase(),i.amNames)?"AM":"PM",d.ampm=i["AM"===l?"amNames":"pmNames"][0])),-1!==o.h&&(d.hour="AM"===l&&"12"===n[o.h]?0:"PM"===l&&"12"!==n[o.h]?parseInt(n[o.h],10)+12:Number(n[o.h])),-1!==o.m&&(d.minute=Number(n[o.m])),-1!==o.s&&(d.second=Number(n[o.s])),-1!==o.l&&(d.millisec=Number(n[o.l])),-1!==o.c&&(d.microsec=Number(n[o.c])),-1!==o.z&&void 0!==n[o.z]&&(d.timezone=$.timepicker.timezoneOffsetNumber(n[o.z])),d):!1}),r=function(e,t,i){try{var n=new Date("2012-01-01 "+t);if(isNaN(n.getTime())&&(n=new Date("2012-01-01T"+t),isNaN(n.getTime())&&(n=new Date("01/01/2012 "+t),isNaN(n.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisec:n.getMilliseconds(),microsec:n.getMicroseconds(),timezone:-1*n.getTimezoneOffset()}}catch(r){try{return s(e,t,i)}catch(a){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1};return"function"==typeof n.parse?n.parse(e,t,n):"loose"===n.parse?r(e,t,n):s(e,t,n)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var n=e,s=i.amNames[0],r=parseInt(t.hour,10);return r>11&&(s=i.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+r).slice(-2);case"H":return r;case"hh":return("0"+convert24to12(r)).slice(-2);case"h":return convert24to12(r);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return s.charAt(0).toUpperCase();case"TT":return s.toUpperCase();case"t":return s.charAt(0).toLowerCase();case"tt":return s.toLowerCase();default:return e.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i=this._getInst($(e)[0]),n=this._get(i,"timepicker");n&&i.settings.showTimepicker?(n._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(e,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&e.stay_open!==!1)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var n=i.support.ampm,s=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,r=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),a=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,n?"APM":"").replace(/Tt/g,n?"AaPpMm":"").replace(/tT/g,n?"AaPpMm":"").replace(/T/g,n?"AP":"").replace(/tt/g,n?"apm":"").replace(/t/g,n?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(s?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+r,o=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||" ">o||!r||a.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){var n=(t._defaults.altFormat||t._defaults.dateFormat,this._getDate(e)),s=$.datepicker._getFormatConfig(e),r="",a=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;r+=$.datepicker.formatTime(l,t,t._defaults)+o,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===n||(r=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,n,s)+a+r:t.formattedDate+a+r),$(i).val(e.input.val()?r:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(n){$.timepicker.log(n)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]),i=t.dpDiv;this._base_gotoToday(e);var n=this._get(t,"timepicker");selectLocalTimezone(n);var s=new Date;this._setTime(t,s),$(".ui-datepicker-today",i).click()},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var n=i._defaults;i.hour=t?t.getHours():n.hour,i.minute=t?t.getMinutes():n.minute,i.second=t?t.getSeconds():n.second,i.millisec=t?t.getMilliseconds():n.millisec,i.microsec=t?t.getMicroseconds():n.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(n){var s=this._get(n,"timepicker");if(s){this._setDateFromField(n);var r;t&&("string"==typeof t?(s._parseTime(t,i),r=new Date,r.setHours(s.hour,s.minute,s.second,s.millisec),r.setMicroseconds(s.microsec)):(r=new Date(t.getTime()),r.setMicroseconds(t.getMicroseconds())),"Invalid Date"===r.toString()&&(r=void 0),this._setTime(n,r))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),n=t;if(i){"string"==typeof t&&(n=new Date(t),n.getTime()||(this._base_setDateDatepicker.apply(this,arguments),n=$(e).datepicker("getDate")));var s,r=this._get(i,"timepicker");n instanceof Date?(s=new Date(n.getTime()),s.setMicroseconds(n.getMicroseconds())):s=n,r&&s&&(r.support.timezone||null!==r._defaults.timezone||(r.timezone=-1*s.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,r.timezone),s=$.timepicker.timezoneAdjust(s,r.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,s,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var n=this._get(i,"timepicker");if(n){void 0===i.lastVal&&this._setDateFromField(i,t);var s=this._getDate(i);return s&&n._parseTime($(e).val(),n.timeOnly)&&(s.setHours(n.hour,n.minute,n.second,n.millisec),s.setMicroseconds(n.microsec),null!=n.timezone&&(n.support.timezone||null!==n._defaults.timezone||(n.timezone=-1*s.getTimezoneOffset()),s=$.timepicker.timezoneAdjust(s,n.timezone))),s}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var n;try{n=this._base_parseDate(e,t,i)}catch(s){if(!(s.indexOf(":")>=0))throw s;n=this._base_parseDate(e,t.substring(0,t.length-(s.length-s.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+s+"\ndate string = "+t+"\ndate format = "+e)}return n},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e){var t=this._get(e,"timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var n,s=this._getInst(e);if(!s)return null;var r=this._get(s,"timepicker");if(r){var a,o=null,l=null,d=null,u=r._defaults.evnts,c={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)o=i;else if("maxDate"===t||"maxDateTime"===t)l=i;else if("onSelect"===t)d=i;else if(u.hasOwnProperty(t)){if("undefined"==typeof i)return u[t];c[t]=i,n={}}}else if("object"==typeof t){t.minDate?o=t.minDate:t.minDateTime?o=t.minDateTime:t.maxDate?l=t.maxDate:t.maxDateTime&&(l=t.maxDateTime);for(a in u)u.hasOwnProperty(a)&&t[a]&&(c[a]=t[a])}for(a in c)c.hasOwnProperty(a)&&(u[a]=c[a],n||(n=$.extend({},t)),delete n[a]);if(n&&isEmptyObject(n))return;o?(o=0===o?new Date:new Date(o),r._defaults.minDate=o,r._defaults.minDateTime=o):l?(l=0===l?new Date:new Date(l),r._defaults.maxDate=l,r._defaults.maxDateTime=l):d&&(r._defaults.onSelect=d)}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,n||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){$.extend(e,t);for(var i in t)(null===t[i]||void 0===t[i])&&(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)?!0:!1};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return e%=12,0===e&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),n=computeEffectiveSetting(t,"timeFormat"),s=n.split(i),r=s.length,a=e.split(i),o=a.length;return o>1?{dateString:a.splice(0,o-r).join(i),timeString:a.splice(0,r).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,n,s){var r,a,o;if(a=splitDateTime(i,s),r=$.datepicker._base_parseDate(e,a.dateString,n),""===a.timeString)return{date:r};if(o=$.datepicker.parseTime(t,a.timeString,s),!o)throw"Wrong time format";return{date:r,timeObj:o}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||-720>e)return e;var i=e,n=i%60,s=(i-n)/60,r=t?":":"",a=(i>=0?"+":"-")+("0"+Math.abs(s)).slice(-2)+r+("0"+Math.abs(n)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):e},$.timepicker.timezoneAdjust=function(e,t){var i=$.timepicker.timezoneOffsetNumber(t);return isNaN(i)||e.setMinutes(e.getMinutes()+-e.getTimezoneOffset()-i),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,n){function s(s,r){var a=t[e]("getDate"),o=i[e]("getDate"),l=s[e]("getDate");if(null!==a){var d=new Date(a.getTime()),u=new Date(a.getTime());d.setMilliseconds(d.getMilliseconds()+n.minInterval),u.setMilliseconds(u.getMilliseconds()+n.maxInterval),n.minInterval>0&&d>o?i[e]("setDate",d):n.maxInterval>0&&o>u?i[e]("setDate",u):a>o&&r[e]("setDate",l)}}function r(t,i,s){if(t.val()){var r=t[e].call(t,"getDate");null!==r&&n.minInterval>0&&("minDate"===s&&r.setMilliseconds(r.getMilliseconds()+n.minInterval),"maxDate"===s&&r.setMilliseconds(r.getMilliseconds()-n.minInterval)),r.getTime&&i[e].call(i,"option",s,r)}}n=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},n);var a=!1;return"timepicker"===e&&(a=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:a,onClose:function(){s($(this),i)},onSelect:function(){r($(this),i,"minDate")}},n,n.start)),$.fn[e].call(i,$.extend({timeOnly:a,onClose:function(){s($(this),t)},onSelect:function(){r($(this),t,"maxDate")}},n,n.end)),s(t,i),r(t,i,"minDate"),r(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(e){window.console&&window.console.log(e)},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.4.5"}}(jQuery),function(e){function t(t,i,n){var s="rgb"+(e.support.rgba?"a":"")+"("+parseInt(t[0]+n*(i[0]-t[0]),10)+","+parseInt(t[1]+n*(i[1]-t[1]),10)+","+parseInt(t[2]+n*(i[2]-t[2]),10);return e.support.rgba&&(s+=","+(t&&i?parseFloat(t[3]+n*(i[3]-t[3])):1)),s+")"}function i(e){var t;return(t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]:(t=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(e))?[17*parseInt(t[1],16),17*parseInt(t[2],16),17*parseInt(t[3],16),1]:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),1]:(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]:s[e]}e.extend(!0,e,{support:{rgba:function(){var t=e("script:first"),i=t.css("color"),n=!1;if(/^rgba/.test(i))n=!0;else try{n=i!=t.css("color","rgba(0, 0, 0, 0.5)").css("color"),t.css("color",i)}catch(s){}return n}()}});var n="color backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor outlineColor".split(" ");e.each(n,function(n,s){e.Tween.propHooks[s]={get:function(t){return e(t.elem).css(s)},set:function(n){var r=n.elem.style,a=i(e(n.elem).css(s)),o=i(n.end);n.run=function(e){r[s]=t(a,o,e)}}}}),e.Tween.propHooks.borderColor={set:function(s){var r=s.elem.style,a=[],o=n.slice(2,6);e.each(o,function(t,n){a[n]=i(e(s.elem).css(n))});var l=i(s.end);s.run=function(i){e.each(o,function(e,n){r[n]=t(a[n],l,i)})}}};var s={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,0,1],transparent:[255,255,255,0]}}(jQuery),function(){var e,t,i,n,s,r,a,o,l,d,u,c,h,f,p,m,_,g,v,y,b,w,x,k,D,T,M,C,A,E,S,N,O,L,F,H,$,I,j,z,P,Y,R,B,U,W,q,X,V=[].slice,K={}.hasOwnProperty,G=function(e,t){function i(){this.constructor=e}for(var n in t)K.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},Q=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};for(y={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,v=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(e){return setTimeout(e,50)},v=function(e){return clearTimeout(e)}),N=function(e){var t,i;return t=C(),(i=function(){var n;return n=C()-t,n>=33?(t=C(),e(n,function(){return E(i)})):setTimeout(i,33-n)})()},S=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?V.call(arguments,2):[],"function"==typeof i[t]?i[t].apply(i,e):i[t]},b=function(){var e,t,i,n,s,r,a;for(t=arguments[0],n=2<=arguments.length?V.call(arguments,1):[],r=0,a=n.length;a>r;r++)if(i=n[r])for(e in i)K.call(i,e)&&(s=i[e],null!=t[e]&&"object"==typeof t[e]&&null!=s&&"object"==typeof s?b(t[e],s):t[e]=s);return t},m=function(e){var t,i,n,s,r;for(i=t=0,s=0,r=e.length;r>s;s++)n=e[s],i+=Math.abs(n),t++;return i/t},x=function(e,t){var i,n,s;if(null==e&&(e="options"),null==t&&(t=!0),s=document.querySelector("[data-pace-"+e+"]")){if(i=s.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(r){return n=r,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",n):void 0}}},a=function(){function e(){}return e.prototype.on=function(e,t,i,n){var s;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[e]&&(s[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,n,s;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,s=[];i<this.bindings[e].length;)s.push(this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):i++);return s}},e.prototype.trigger=function(){var e,t,i,n,s,r,a,o,l;if(i=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],null!=(a=this.bindings)?a[i]:void 0){for(s=0,l=[];s<this.bindings[i].length;)o=this.bindings[i][s],n=o.handler,t=o.ctx,r=o.once,n.apply(null!=t?t:this,e),l.push(r?this.bindings[i].splice(s,1):s++);return l}},e}(),null==window.Pace&&(window.Pace={}),b(Pace,a.prototype),A=Pace.options=b({},y,window.paceOptions,x()),W=["ajax","document","eventLag","elements"],Y=0,B=W.length;B>Y;Y++)H=W[Y],A[H]===!0&&(A[H]=y[H]);l=function(e){function t(){return q=t.__super__.constructor.apply(this,arguments)}return G(t,e),t}(Error),t=function(){function e(){this.progress=0}return e.prototype.getElement=function(){var e;if(null==this.el){if(e=document.querySelector(A.target),!e)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},e.prototype.finish=function(){var e;return e=this.getElement(),e.className=e.className.replace("pace-active",""),e.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},e.prototype.update=function(e){return this.progress=e,this.render()},e.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){l=e}return this.el=void 0},e.prototype.render=function(){var e,t;return null==document.querySelector(A.target)?!1:(e=this.getElement(),e.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?t="99":(t=this.progress<10?"0":"",t+=0|this.progress),e.children[0].setAttribute("data-progress",""+t)),this.lastRenderedProgress=this.progress)},e.prototype.done=function(){return this.progress>=100},e}(),o=function(){function e(){this.bindings={}}return e.prototype.trigger=function(e,t){var i,n,s,r,a;if(null!=this.bindings[e]){for(r=this.bindings[e],a=[],n=0,s=r.length;s>n;n++)i=r[n],a.push(i.call(this,t));return a}},e.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},e}(),P=window.XMLHttpRequest,z=window.XDomainRequest,j=window.WebSocket,w=function(e,t){var i,n,s,r;r=[];for(n in t.prototype)try{s=t.prototype[n],r.push(null==e[n]&&"function"!=typeof s?e[n]=s:void 0)}catch(a){i=a}return r},T=[],Pace.ignore=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],T.unshift("ignore"),i=t.apply(null,e),T.shift(),i},Pace.track=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?V.call(arguments,1):[],T.unshift("track"),i=t.apply(null,e),T.shift(),i},F=function(e){var t;if(null==e&&(e="GET"),"track"===T[0])return"force";if(!T.length&&A.ajax){if("socket"===e&&A.ajax.trackWebSockets)return!0;if(t=e.toUpperCase(),Q.call(A.ajax.trackMethods,t)>=0)return!0}return!1},d=function(e){function t(){var e,i=this;t.__super__.constructor.apply(this,arguments),e=function(e){var t;return t=e.open,e.open=function(n,s){return F(n)&&i.trigger("request",{type:n,url:s,request:e}),t.apply(e,arguments)}},window.XMLHttpRequest=function(t){var i;return i=new P(t),e(i),i},w(window.XMLHttpRequest,P),null!=z&&(window.XDomainRequest=function(){var t;return t=new z,e(t),t},w(window.XDomainRequest,z)),null!=j&&A.ajax.trackWebSockets&&(window.WebSocket=function(e,t){var n;return n=null!=t?new j(e,t):new j(e),F("socket")&&i.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n},w(window.WebSocket,j))}return G(t,e),t}(o),R=null,k=function(){return null==R&&(R=new d),R},L=function(e){var t,i,n,s;for(s=A.ajax.ignoreURLs,i=0,n=s.length;n>i;i++)if(t=s[i],"string"==typeof t){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},k().on("request",function(t){var i,n,s,r,a;return r=t.type,s=t.request,a=t.url,L(a)?void 0:Pace.running||A.restartOnRequestAfter===!1&&"force"!==F(r)?void 0:(n=arguments,i=A.restartOnRequestAfter||0,"boolean"==typeof i&&(i=0),setTimeout(function(){var t,i,a,o,l,d;if(t="socket"===r?s.readyState<2:0<(o=s.readyState)&&4>o){for(Pace.restart(),l=Pace.sources,d=[],i=0,a=l.length;a>i;i++){if(H=l[i],H instanceof e){H.watch.apply(H,n);break}d.push(void 0)}return d}},i))}),e=function(){function e(){var e=this;this.elements=[],k().on("request",function(){return e.watch.apply(e,arguments)})}return e.prototype.watch=function(e){var t,i,n,s;return n=e.type,t=e.request,s=e.url,L(s)?void 0:(i="socket"===n?new h(t):new f(t),this.elements.push(i))},e}(),f=function(){function e(e){var t,i,n,s,r,a,o=this;if(this.progress=0,null!=window.ProgressEvent)for(i=null,e.addEventListener("progress",function(e){return o.progress=e.lengthComputable?100*e.loaded/e.total:o.progress+(100-o.progress)/2}),a=["load","abort","timeout","error"],n=0,s=a.length;s>n;n++)t=a[n],e.addEventListener(t,function(){return o.progress=100});else r=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?o.progress=100:3===e.readyState&&(o.progress=50),"function"==typeof r?r.apply(null,arguments):void 0}}return e}(),h=function(){function e(e){var t,i,n,s,r=this;for(this.progress=0,s=["error","open"],i=0,n=s.length;n>i;i++)t=s[i],e.addEventListener(t,function(){return r.progress=100})}return e}(),n=function(){function e(e){var t,i,n,r;for(null==e&&(e={}),this.elements=[],null==e.selectors&&(e.selectors=[]),r=e.selectors,i=0,n=r.length;n>i;i++)t=r[i],this.elements.push(new s(t))}return e}(),s=function(){function e(e){this.selector=e,this.progress=0,this.check()}return e.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},A.elements.checkInterval)},e.prototype.done=function(){return this.progress=100},e}(),i=function(){function e(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}return e.prototype.states={loading:0,interactive:50,complete:100},e}(),r=function(){function e(){var e,t,i,n,s,r=this;this.progress=0,e=0,s=[],n=0,i=C(),t=setInterval(function(){var a;
return a=C()-i-50,i=C(),s.push(a),s.length>A.eventLag.sampleCount&&s.shift(),e=m(s),++n>=A.eventLag.minSamples&&e<A.eventLag.lagThreshold?(r.progress=100,clearInterval(t)):r.progress=100*(3/(e+3))},50)}return e}(),c=function(){function e(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=A.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=S(this.source,"progress"))}return e.prototype.tick=function(e,t){var i;return null==t&&(t=S(this.source,"progress")),t>=100&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/A.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),i=1-Math.pow(this.progress/100,A.easeFactor),this.progress+=i*this.rate*e,this.progress=Math.min(this.lastProgress+A.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},e}(),$=null,O=null,_=null,I=null,p=null,g=null,Pace.running=!1,D=function(){return A.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(U=window.history.pushState,window.history.pushState=function(){return D(),U.apply(window.history,arguments)}),null!=window.history.replaceState&&(X=window.history.replaceState,window.history.replaceState=function(){return D(),X.apply(window.history,arguments)}),u={ajax:e,elements:n,document:i,eventLag:r},(M=function(){var e,i,n,s,r,a,o,l;for(Pace.sources=$=[],a=["ajax","elements","document","eventLag"],i=0,s=a.length;s>i;i++)e=a[i],A[e]!==!1&&$.push(new u[e](A[e]));for(l=null!=(o=A.extraSources)?o:[],n=0,r=l.length;r>n;n++)H=l[n],$.push(new H(A));return Pace.bar=_=new t,O=[],I=new c})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,_.destroy(),g=!0,null!=p&&("function"==typeof v&&v(p),p=null),M()},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()},Pace.go=function(){var e;return Pace.running=!0,_.render(),e=C(),g=!1,p=N(function(t,i){var n,s,r,a,o,l,d,u,h,f,p,m,v,y,b,w;for(u=100-_.progress,s=p=0,r=!0,l=m=0,y=$.length;y>m;l=++m)for(H=$[l],f=null!=O[l]?O[l]:O[l]=[],o=null!=(w=H.elements)?w:[H],d=v=0,b=o.length;b>v;d=++v)a=o[d],h=null!=f[d]?f[d]:f[d]=new c(a),r&=h.done,h.done||(s++,p+=h.tick(t));return n=p/s,_.update(I.tick(t,n)),_.done()||r||g?(_.update(100),Pace.trigger("done"),setTimeout(function(){return _.finish(),Pace.running=!1,Pace.trigger("hide")},Math.max(A.ghostTime,Math.max(A.minTime-(C()-e),0)))):i()})},Pace.start=function(e){b(A,e),Pace.running=!0;try{_.render()}catch(t){l=t}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:A.startOnPageLoad&&Pace.start()}.call(this),function(e){"use strict";function t(){w(!0)}var i={};e.respond=i,i.update=function(){};var n=[],s=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(i){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),r=function(e,t){var i=s();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},a=function(e){return e.replace(i.regex.minmaxwh,"").match(i.regex.other)};if(i.ajax=r,i.queue=n,i.unsupportedmq=a,i.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},i.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!i.mediaQueriesSupported){var o,l,d,u=e.document,c=u.documentElement,h=[],f=[],p=[],m={},_=30,g=u.getElementsByTagName("head")[0]||c,v=u.getElementsByTagName("base")[0],y=g.getElementsByTagName("link"),b=function(){var e,t=u.createElement("div"),i=u.body,n=c.style.fontSize,s=i&&i.style.fontSize,r=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||(i=r=u.createElement("body"),i.style.background="none"),c.style.fontSize="100%",i.style.fontSize="100%",i.appendChild(t),r&&c.insertBefore(i,c.firstChild),e=t.offsetWidth,r?c.removeChild(i):i.removeChild(t),c.style.fontSize=n,s&&(i.style.fontSize=s),e=d=parseFloat(e)},w=function(t){var i="clientWidth",n=c[i],s="CSS1Compat"===u.compatMode&&n||u.body[i]||n,r={},a=y[y.length-1],m=(new Date).getTime();if(t&&o&&_>m-o)return e.clearTimeout(l),void(l=e.setTimeout(w,_));o=m;for(var v in h)if(h.hasOwnProperty(v)){var x=h[v],k=x.minw,D=x.maxw,T=null===k,M=null===D,C="em";k&&(k=parseFloat(k)*(k.indexOf(C)>-1?d||b():1)),D&&(D=parseFloat(D)*(D.indexOf(C)>-1?d||b():1)),x.hasquery&&(T&&M||!(T||s>=k)||!(M||D>=s))||(r[x.media]||(r[x.media]=[]),r[x.media].push(f[x.rules]))}for(var A in p)p.hasOwnProperty(A)&&p[A]&&p[A].parentNode===g&&g.removeChild(p[A]);p.length=0;for(var E in r)if(r.hasOwnProperty(E)){var S=u.createElement("style"),N=r[E].join("\n");S.type="text/css",S.media=E,g.insertBefore(S,a.nextSibling),S.styleSheet?S.styleSheet.cssText=N:S.appendChild(u.createTextNode(N)),p.push(S)}},x=function(e,t,n){var s=e.replace(i.regex.comments,"").replace(i.regex.keyframes,"").match(i.regex.media),r=s&&s.length||0;t=t.substring(0,t.lastIndexOf("/"));var o=function(e){return e.replace(i.regex.urls,"$1"+t+"$2$3")},l=!r&&n;t.length&&(t+="/"),l&&(r=1);for(var d=0;r>d;d++){var u,c,p,m;l?(u=n,f.push(o(e))):(u=s[d].match(i.regex.findStyles)&&RegExp.$1,f.push(RegExp.$2&&o(RegExp.$2))),p=u.split(","),m=p.length;for(var _=0;m>_;_++)c=p[_],a(c)||h.push({media:c.split("(")[0].match(i.regex.only)&&RegExp.$2||"all",rules:f.length-1,hasquery:c.indexOf("(")>-1,minw:c.match(i.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(i.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}w()},k=function(){if(n.length){var t=n.shift();r(t.href,function(i){x(i,t.href,t.media),m[t.href]=!0,e.setTimeout(function(){k()},0)})}},D=function(){for(var t=0;t<y.length;t++){var i=y[t],s=i.href,r=i.media,a=i.rel&&"stylesheet"===i.rel.toLowerCase();s&&a&&!m[s]&&(i.styleSheet&&i.styleSheet.rawCssText?(x(i.styleSheet.rawCssText,s,r),m[s]=!0):(!/^([a-zA-Z:]*\/\/)/.test(s)&&!v||s.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===s.substring(0,2)&&(s=e.location.protocol+s),n.push({href:s,media:r})))}k()};D(),i.update=D,i.getEmValue=b,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this),function(){var e;e=function(){return $('a[href="'+this.location.pathname+'"]').parent().addClass("active"),$(".dual_registration_container.left").css("height",$(".dual_registration_container.right").css("height"))},$(document).ready(e),$(document).on("page:load",e)}.call(this),function(){var e,t;t=function(){var t,i,n,s,r;return $("#qualification_present").on("click",function(){return"1"===$("#qualification_endDate").css("opacity")?($("#qualification_endDate").animate({opacity:.1}),$("#qualification_endDate").children().prop({disabled:!0})):($("#qualification_endDate").animate({opacity:1}),$("#qualification_endDate").children().prop({disabled:!1}))}),$("#qual_left").css("height",$("#qual_form").height()),$("#dropzone").length>0&&(s=new Dropzone("#dropzone",{paramName:"photo[avatar]",addRemoveLinks:!0,parallelUploads:10,thumbnailWidth:274,thumbnailHeight:180,autoProcessQueue:!1}),s.on("error",function(){return $("body").prepend("<b style='color: red;'>An error occurred while saving the Student.</b>")}),s.on("sending",function(e,t,i){return i.append("profile","true")}),s.on("success",function(){return console.log("File uploaded successfully"),location.reload()}),$("#process_queue").on("click",function(){return s.processQueue()}),$(".popover-dismiss").popover({trigger:"focus"})),$("#visible_check").on("click",function(){return $("#endDate").animate("1"===$("#endDate").css("opacity")?{opacity:.1}:{opacity:1})}),$(".typeahead.subject").length>0&&($("#main_subject_search").on("keypress",function(e){return 13===e.which?e.preventDefault():void 0}),t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:{url:"/subject-search",ttl:36e5}}),t.initialize(),$(".typeahead.subject").typeahead({hint:!0,highlight:!0,minLength:2},{name:"Subjects",displayKey:"name",source:t.ttAdapter()})),$(".typeahead.county").length>0&&(n=e(),i=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:$.map(e(),function(e){return{value:e}})}),i.initialize(),$(".typeahead.county").typeahead({hint:!0,highlight:!0,minLength:1},{name:"counties",displayKey:"value",source:i.ttAdapter()})),$(".review_lesson").length>0&&($(".review_lesson_input").rating({filled:"glyphicon glyphicon-thumbs-up",empty:"glyphicon glyphicon-thumbs-down"}),$(".review_lesson_input").on("change",function(){var e;return e=parseInt($(this).val())+1,$(".rating_value").text(e+" thumbs up"),$(this).closest(".review_lesson").append('<input name="review[rating]" type="hidden" value="'+e+'">')})),$(document).on("change",".form-control.distance_rate",function(){return $("#main_subject_search").submit()}),$("#subject_search").keyup(function(){return $.get($("#subject_search").attr("action"),$("#subject_search").serialize(),null,"script")}),$("#login_modal_email").length>0&&$("#login_modal").on("shown.bs.modal",function(){return document.getElementById("login_modal_email").focus()}),$("#teachers_subjects_modal").length>0&&$("#teachers_subjects_modal").on("shown.bs.modal",function(){return document.getElementById("teachers_search_input").focus()}),$(".search_results_row").length>0&&($(".search_results_row").mouseover(function(){return $(".image_container").css("color","black"),$(this).find(".search_results_teachers_name").animate({color:"#509BE6"},50),$(".image_container").css("text-decoration","none"),$(this).find(".results_photos.back").animate({opacity:.5},50)}),$(".search_results_row").mouseleave(function(){return $(".image_container").css("color","black"),$(this).find(".search_results_teachers_name").animate({color:"black"},50),$(this).find(".results_photos.back").animate({opacity:0},50)})),$(".stock_photos_container").length>0&&(r=$("#main_page").height(),$("#main_page").height(r),$(document).on("click",".browse_option",function(e){return $(".browse_option").removeClass("btn btn-success"),$(this).addClass("btn btn-success"),e.preventDefault(),$.ajax({url:"refresh-welcome",data:{page:$(this).attr("id")},type:"get",success:function(e){return $(".stock_photos_container").empty(),$(e).appendTo(".stock_photos_container").show("slow"),!1}}),!1}),$(".stock_photo_container").mouseover(function(){return $(this).find(".welcome_subject_image").animate({opacity:.7},50)}),$(".stock_photo_container").mouseleave(function(){return $(this).find(".welcome_subject_image").animate({opacity:0},50)})),$(".profile_pic_popover").length>0&&($("html").click(function(){return $(".profile_pic_popover").popover("hide")}),$(".profile_pic_popover").popover({html:!0,trigger:"manual"}).click(function(e){return $(".profile_pic_popover").not(this).popover("hide"),$(this).popover("toggle"),e.stopPropagation()})),$(".btn_book_now").length>0&&($("#create_event_form").append(' <input id="event_rate" name="event[rate]" type="hidden" value="'+$("#rates").val()+'"> '),$(document).on("change","#rates",function(){return $("#create_event_form").find("#event_rate").remove(),$("#create_event_form").append(' <input id="event_rate" name="event[rate]" type="hidden" value="'+$("#rates").val()+'"> ')})),$("html").click(function(){return $(".review_hover").popover("hide")}),$(".review_hover").popover({html:!0,trigger:"manual",placement:"left"}).click(function(e){return $(".review_hover").not(this).popover("hide"),$(this).popover("toggle"),e.stopPropagation()})},$(document).on("change","#Multiple",function(){return $("#no_of_weeks").animate({height:"toggle"},100)}),$(document).ready(t),$(document).on("page:load",t),e=function(){return["Antrim","Armagh","Carlow","Cavan","Clare","Cork","Derry","Donegal","Down","Dublin","Fermanagh","Galway","Kerry","Kildare","Kilkenny","Laois","Leitrim","Limerick","Longford","Louth","Mayo","Meath","Monaghan","Offaly","Roscommon","Sligo","Tipperary","Tyrone","Waterford","Westmeath","Wexford","Wicklow"]}}.call(this),function(){var e,t,i,n,s;t=function(){var e,t,i,s;return i=document.getElementById("teacher_display_map"),s=n(),s.zoom=14,window.map=new google.maps.Map(i,s),e={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:map,center:s.center,radius:200},t=new google.maps.Circle(e)},i=function(){var e,t;e=document.getElementById("map_canvas"),t=null===gon.location[0]&&null===gon.location[1]?{center:new google.maps.LatLng(52.904281,-8.023571),zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP}:n(),window.map=new google.maps.Map(e,t),window.marker=new google.maps.Marker({map:map,position:t.center}),google.maps.event.addListener(map,"click",function(e){var t,i;return t=e.latLng.lat(),i=e.latLng.lng(),$("#lat").val(e.latLng.lat()),$("#lon").val(e.latLng.lng()),s(e.latLng,map.getZoom())})},window.start_address_search=function(){var e;return e=new google.maps.Geocoder,e.geocode({address:$("#address").val()},function(e,t){t===google.maps.GeocoderStatus.OK?(s(e[0].geometry.location,16),$("#lat").val(e[0].geometry.location.lat()),$("#lon").val(e[0].geometry.location.lng())):alert("Geocode was not successful for the following reason: "+t)})},n=function(){var e;return e={center:new google.maps.LatLng(gon.location[0],gon.location[1]),zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP}},s=function(e,t){return null==t&&(t=8),map.setCenter(e),map.setZoom(t),marker.setPosition(e)},e=function(){return null===gon.location[0]&&null===gon.location[1]?$(".coordsHinter").css("visibility","visible"):void 0},$(document).on("ready page:load",function(){return $("#map_container").is(":visible")?(i(),e()):$("#teacher_display_map").is(":visible")?t():void 0})}.call(this),function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?!1:void 0}),!!n):n},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,s;return function(){var r,a,o=this,l=arguments;return r=function(){n=null,i||(s=e.apply(o,l))},a=i&&!n,clearTimeout(n),n=setTimeout(r,t),a&&(s=e.apply(o,l)),s}},throttle:function(e,t){var i,n,s,r,a,o;return a=0,o=function(){a=new Date,s=null,r=e.apply(i,n)},function(){var l=new Date,d=t-(l-a);return i=this,n=arguments,0>=d?(clearTimeout(s),s=null,a=l,r=e.apply(i,n)):s||(s=setTimeout(o,d)),r}},noop:function(){}}}(),i="0.10.5",n=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function i(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function n(e){return function(){var i=[].slice.call(arguments,0);return function(n){var s=[];return t.each(i,function(i){s=s.concat(e(t.toStr(n[i])))}),s}}}return{nonword:i,whitespace:e,obj:{nonword:n(i),whitespace:n(e)}}}(),s=function(){"use strict";function i(i){this.maxSize=t.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function n(){this.head=this.tail=null}function s(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(i.prototype,{set:function(e,t){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key]),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new s(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),t.mixin(n.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),i}(),r=function(){"use strict";function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function i(){return(new Date).getTime()}function n(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(e){return JSON.parse(e)}var r,a;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(o){r=null}return a=r&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),s(r.getItem(this._prefix(e)))},set:function(e,s,a){return t.isNumber(a)?r.setItem(this._ttlKey(e),n(i()+a)):r.removeItem(this._ttlKey(e)),r.setItem(this._prefix(e),n(s))},remove:function(e){return r.removeItem(this._ttlKey(e)),r.removeItem(this._prefix(e)),this},clear:function(){var e,t,i=[],n=r.length;for(e=0;n>e;e++)(t=r.key(e)).match(this.keyMatcher)&&i.push(t.replace(this.keyMatcher,""));for(e=i.length;e--;)this.remove(i[e]);return this},isExpired:function(e){var n=s(r.getItem(this._ttlKey(e)));return t.isNumber(n)&&i()>n?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,a),e}(),a=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?n(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=t.cache===!1?new s(0):l}function n(i){return function(n,s){function r(e){t.defer(function(){o.resolve(e)})}function a(e){t.defer(function(){o.reject(e)})}var o=e.Deferred();return i(n,s,r,a),o}}var r=0,a={},o=6,l=new s(10);return i.setMaxPendingRequests=function(e){o=e},i.resetCache=function(){l.reset()},t.mixin(i.prototype,{_get:function(e,t,i){function n(t){i&&i(null,t),u._cache.set(e,t)}function s(){i&&i(!0)}function l(){r--,delete a[e],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var d,u=this;this.cancelled||e!==this.lastUrl||((d=a[e])?d.done(n).fail(s):o>r?(r++,a[e]=this._send(e,t).done(n).fail(s).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,i,n){var s;return t.isFunction(i)&&(n=i,i={}),this.cancelled=!1,this.lastUrl=e,(s=this._cache.get(e))?t.defer(function(){n&&n(null,s)}):this._get(e,i,n),!!s},cancel:function(){this.cancelled=!0}}),i}(),o=function(){"use strict";function i(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function s(){return{ids:[],children:{}}}function r(e){for(var t={},i=[],n=0,s=e.length;s>n;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function a(e,t){function i(e,t){return e-t}var n=0,s=0,r=[];e=e.sort(i),t=t.sort(i);for(var a=e.length,o=t.length;a>n&&o>s;)e[n]<t[s]?n++:e[n]>t[s]?s++:(r.push(e[n]),n++,s++);return r}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,a;r=i.datums.push(e)-1,a=n(i.datumTokenizer(e)),t.each(a,function(e){var t,n,a;for(t=i.trie,n=e.split("");a=n.shift();)t=t.children[a]||(t.children[a]=s()),t.ids.push(r)})})},get:function(e){var i,s,o=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,r;if(s&&0===s.length)return!1;for(t=o.trie,i=e.split("");t&&(n=i.shift());)t=t.children[n];return t&&0===i.length?(r=t.ids.slice(0),void(s=s?a(s,r):r)):(s=[],!1)}),s?t.map(r(s),function(e){return o.datums[e]}):[]},reset:function(){this.datums=[],this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function n(e){return e.local||null}function s(n){var s,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(s=n.prefetch||null)&&(s=t.isString(s)?{url:s}:s,s=t.mixin(r,s),s.thumbprint=i+s.thumbprint,s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",!s.url&&e.error("prefetch requires url to be set")),s}function r(i){function n(e){return function(i){return t.debounce(i,e)}}function s(e){return function(i){return t.throttle(i,e)}}var r,a;return a={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=i.remote||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(a,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?s(r.rateLimitWait):n(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&e.error("remote requires url to be set")),r}return{local:n,prefetch:s,remote:r}}();!function(i){"use strict";function s(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=d(t.sorter),this.dupDetector=t.dupDetector||u,this.local=l.local(t),this.prefetch=l.prefetch(t),this.remote=l.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new o({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new r(this.cacheKey):null}function d(e){function i(t){return t.sort(e)}function n(e){return e}return t.isFunction(e)?i:n}function u(){return!1}var c,h;return c=i.Bloodhound,h={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.Bloodhound=s,s.noConflict=function(){return i.Bloodhound=c,s},s.tokenizers=n,t.mixin(s.prototype,{_loadPrefetch:function(t){function i(e){r.clear(),r.add(t.filter?t.filter(e):e),r._saveToStorage(r.index.serialize(),t.thumbprint,t.ttl)}var n,s,r=this;return(n=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(n),s=e.Deferred().resolve()):s=e.ajax(t.url,t.ajax).done(i),s},_getFromRemote:function(e,t){function i(e,i){t(e?[]:r.remote.filter?r.remote.filter(i):i)}var n,s,r=this;if(this.transport)return e=e||"",s=encodeURIComponent(e),n=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(n,this.remote.ajax,i)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,i){this.storage&&(this.storage.set(h.data,e,i),this.storage.set(h.protocol,location.protocol,i),this.storage.set(h.thumbprint,t,i))},_readFromStorage:function(e){var t,i={};return this.storage&&(i.data=this.storage.get(h.data),i.protocol=this.storage.get(h.protocol),i.thumbprint=this.storage.get(h.thumbprint)),t=i.thumbprint!==e||i.protocol!==location.protocol,i.data&&!t?i.data:null},_initialize:function(){function i(){s.add(t.isFunction(r)?r():r)}var n,s=this,r=this.local;return n=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),r&&n.done(i),this.transport=this.remote?new a(this.remote):null,this.initPromise=n.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,i){function n(e){var n=r.slice(0);t.each(e,function(e){var i;return i=t.some(n,function(t){return s.dupDetector(e,t)}),!i&&n.push(e),n.length<s.limit}),i&&i(s.sorter(n))}var s=this,r=[],a=!1;r=this.index.get(e),r=this.sorter(r).slice(0,this.limit),r.length<this.limit?a=this._getFromRemote(e,n):this._cancelLastRemoteRequest(),a||(r.length>0||!this.transport)&&i&&i(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}}),s}(this);var d=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),u=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{marginTop:"-1px"}),e}(),c=function(){"use strict";function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n="typeahead:";return t.mixin(i.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(n+e,t)}}),i}(),h=function(){"use strict";function e(e,t,i,n){var s;if(!i)return this;for(t=t.split(l),i=n?o(i,n):i,this._callbacks=this._callbacks||{};s=t.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function s(e){var t,i,n,s,a;if(!this._callbacks)return this;for(e=e.split(l),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)s=r(i.sync,this,[t].concat(n)),a=r(i.async,this,[t].concat(n)),s()&&d(a);return this}function r(e,t,i){function n(){for(var n,s=0,r=e.length;!n&&r>s;s+=1)n=e[s].apply(t,i)===!1;return!n}return n}function a(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function o(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,d=a();return{onSync:i,onAsync:t,off:n,trigger:s}}(),f=function(e){"use strict";function i(e,i,n){for(var s,r=[],a=0,o=e.length;o>a;a++)r.push(t.escapeRegExChars(e[a]));return s=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(t){var i,n,r;return(i=o.exec(t.data))&&(r=e.createElement(s.tagName),s.className&&(r.className=s.className),n=t.splitText(i.index),n.splitText(i[0].length),r.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(r,n)),!!i}function a(e,t){for(var i,n=3,s=0;s<e.childNodes.length;s++)i=e.childNodes[s],i.nodeType===n?s+=t(i)?1:0:a(i,t)}var o;s=t.mixin({},n,s),s.node&&s.pattern&&(s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],o=i(s.pattern,s.caseSensitive,s.wordsOnly),a(s.node,r))}}(window.document),p=function(){"use strict";function i(i){var s,r,o,l,d=this;i=i||{},i.input||e.error("input is missing"),s=t.bind(this._onBlur,this),r=t.bind(this._onFocus,this),o=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(i.hint),this.$input=e(i.input).on("blur.tt",s).on("focus.tt",r).on("keydown.tt",o),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(d._onInput,d,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,h,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var i,n,s;switch(e){case"tab":n=this.getHint(),s=this.getInputValue(),i=n&&n!==s&&!r(t);break;case"up":case"down":i=!r(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!r(t);break;default:i=!0}return i},_checkInputValue:function(){var e,t,i;e=this.getInputValue(),t=s(e,this.query),i=t?this.query.length!==e.length:!1,this.query=e,t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,i,n;e=this.getInputValue(),t=this.getHint(),i=e!==t&&0===t.indexOf(e),n=""!==e&&i&&!this.hasOverflow(),!n&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:document.selection?(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),m=function(){"use strict";function i(i){i=i||{},i.templates=i.templates||{},i.source||e.error("missing source"),i.name&&!r(i.name)&&e.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||t.getUniqueId(),this.source=i.source,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.$el=e(d.dataset.replace("%CLASS%",this.name))}function n(e){function i(t){return t[e]}return e=e||"value",t.isFunction(e)?e:i}function s(e,i){function n(e){return"<p>"+i(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||n}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var a="ttDataset",o="ttValue",l="ttDatum";return i.extractDatasetName=function(t){return e(t).data(a)},i.extractValue=function(t){return e(t).data(o)},i.extractDatum=function(t){return e(t).data(l)},t.mixin(i.prototype,h,{_render:function(i,n){function s(){return m.templates.empty({query:i,isEmpty:!0})}function r(){function s(t){var i;return i=e(d.suggestion).append(m.templates.suggestion(t)).data(a,m.name).data(o,m.displayFn(t)).data(l,t),i.children().each(function(){e(this).css(u.suggestionChild)
}),i}var r,c;return r=e(d.suggestions).css(u.suggestions),c=t.map(n,s),r.append.apply(r,c),m.highlight&&f({className:"tt-highlight",node:r[0],pattern:i}),r}function c(){return m.templates.header({query:i,isEmpty:!p})}function h(){return m.templates.footer({query:i,isEmpty:!p})}if(this.$el){var p,m=this;this.$el.empty(),p=n&&n.length,!p&&this.templates.empty?this.$el.html(s()).prepend(m.templates.header?c():null).append(m.templates.footer?h():null):p&&this.$el.html(r()).prepend(m.templates.header?c():null).append(m.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){i.canceled||e!==i.query||i._render(e,t)}var i=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),_=function(){"use strict";function i(i){var s,r,a,o=this;i=i||{},i.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(i.datasets,n),s=t.bind(this._onSuggestionClick,this),r=t.bind(this._onSuggestionMouseEnter,this),a=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(i.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",a),t.each(this.datasets,function(e){o.$menu.append(e.getRoot()),e.onSync("rendered",o._onRendered,o)})}function n(e){return new m(e)}return t.mixin(i.prototype,h,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,i,n,s;if(this.isOpen){if(i=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),n=t.index(i)+e,n=(n+1)%(t.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=t.length-1),this._setCursor(s=t.eq(n)),this._ensureVisible(s)}},_ensureVisible:function(e){var t,i,n,s;t=e.position().top,i=t+e.outerHeight(!0),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(n+t):i>s&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:m.extractDatum(e),value:m.extractValue(e),datasetName:m.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function i(t){t.update(e)}t.each(this.datasets,i)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),i}(),g=function(){"use strict";function i(i){var s,r,a;i=i||{},i.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!i.autoselect,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),s=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),r.on("blur.tt",function(e){var i,n,a;i=document.activeElement,n=s.is(i),a=s.has(i).length>0,t.isMsie()&&(n||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){r.focus()}))}),s.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=i.eventBus||new c({el:r}),this.dropdown=new _({menu:s,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:r,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function n(t,i){var n,r,o,l;n=e(t),r=e(d.wrapper).css(u.wrapper),o=e(d.dropdown).css(u.dropdown),l=n.clone().css(u.hint).css(s(n)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),n.data(a,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?u.input:u.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(c){}return n.wrap(r).parent().prepend(i?l:null).append(o)}function s(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(e){var i=e.find(".tt-input");t.each(i.data(a),function(e,n){t.isUndefined(e)?i.removeAttr(n):i.attr(n,e)}),i.detach().removeData(a).removeClass("tt-input").insertAfter(e),e.remove()}var a="ttAttrs";return t.mixin(i.prototype,{_onSuggestionClicked:function(e,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),t.preventDefault()):this.autoselect&&n&&(this._select(n),t.preventDefault())},_onTabKeyed:function(e,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,i,n,s,r,a;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(i=this.input.getInputValue(),n=p.normalizeQuery(i),s=t.escapeRegExChars(n),r=new RegExp("^(?:"+s+")(.+$)","i"),a=r.exec(e.value),a?this.input.setHint(i+a[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,i,n,s;t=this.input.getHint(),i=this.input.getQuery(),n=e||this.input.isCursorAtEnd(),t&&i!==t&&n&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),r(this.$node),this.$node=null}}),i}();!function(){"use strict";var i,n,s;i=e.fn.typeahead,n="ttTypeahead",s={initialize:function(i,s){function r(){var r,a,o=e(this);t.each(s,function(e){e.highlight=!!i.highlight}),a=new g({input:o,eventBus:r=new c({el:o}),withHint:t.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:s}),o.data(n,a)}return s=t.isArray(s)?s:[].slice.call(arguments,1),i=i||{},this.each(r)},open:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.open()}return this.each(t)},close:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.close()}return this.each(t)},val:function(t){function i(){var i,s=e(this);(i=s.data(n))&&i.setVal(t)}function s(e){var t,i;return(t=e.data(n))&&(i=t.getVal()),i}return arguments.length?this.each(i):s(this.first())},destroy:function(){function t(){var t,i=e(this);(t=i.data(n))&&(t.destroy(),i.removeData(n))}return this.each(t)}},e.fn.typeahead=function(t){var i;return s[t]&&"initialize"!==t?(i=this.filter(function(){return!!e(this).data(n)}),s[t].apply(i,[].slice.call(arguments,1))):s.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this}}()}(window.jQuery);