<%= content_for :title, 'Tell us where you are' %>

<div class="outer-container">
  <div class="container-fluid home_schooling">
    <div class="well">
      You can enter a price that you charge if you are willing to travel to a students house to give a lesson
    </div>
    <% @subjects.each do |s| %>
      <div class="col-xs-6">
        <%= form_for Price.find_or_initialize_by(subject_id: s.id, no_map: true), html: { class: 'form-inline' }, remote: true do |f| %>
          <div class="form-group">
            <%= f.label "#{s.name} price" %>
            <%= f.number_field :price, class: 'form-control' %>
            <%= f.hidden_field :no_map, value: true %>
            <%= f.hidden_field :subject_id, value: s.id %>
            <%= f.hidden_field :teacher_id, value: @teacher.id %>
            <%= f.submit "Update #{s.name} price", class: 'btn btn-info' %>
          </div> <!-- end of form-group -->
        <% end %>
      </div> <!-- end of col-xs-6 -->
    <% end %>
  </div> <!-- end of home_schooling -->
  <div class="price_alert">
    
  </div>
  <div class="row" id="map_container">
  	<div class="col-md-12">
  		<div class="well">You can enter your address and click find address or use the map controls and click on 
  			your address. Please be as accurate as possible. Address should be in form: 1 High Street, town name. (The comma "," is important!). You can also set prices for each subject at each location. 
  		</div> <!-- end of well -->
  	</div> <!-- end of col-md-12 -->
  	<div role="tabpanel">

  	
    <!-- Nav tabs -->
      <ul class="nav nav-tabs " role="tablist">
      	<%= render partial: 'partials/your_location/your_location_li_tags', collection: @locations, as: :location %>
        
        <li role="presentation"><a href="#profile" id="1" aria-controls="profile" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> Add new location</a></li>
        
      </ul>

      <!-- Tab panes -->
      <div class="tab-content">
      	<%= render partial: 'partials/your_location/your_location_map_tab', collection: @locations, as: :location  %>
        
        <div role="tabpanel" class="tab-pane" id="location2">
        	
        </div>
        
        
      </div> <!-- end of tab-content -->

    </div> <!-- end of tabpanel -->
  	
  </div> <!-- end of map_container -->
  <div class="row">
    <div class="well">
      Create bundles of lessons for specific rates.
      <%= form_for @package do |f| %>
        <%= f.label :subject_id, 'Subject?' %>
        <%= f.select :subject_id, options_for_select(@teacher.subjects.map { |s| [s.name, s.id] }) %>
        <%= f.label :no_of_lessons, 'No. of lessons?' %>
        <%= f.select :no_of_lessons, options_for_select(0..52) %>
        <%= f.label :price, 'Total price?' %>
        <%= f.number_field :price, placeholder: 'Total price?' %>
        <%= f.submit 'Submit' %>
      <% end %>
    </div>
  </div> 
</div> <!-- end of outer-container -->